{"version":3,"sources":["reducers/notificationReducer.js","reducers/tokenReducer.js","services/login.js","services/users.js","reducers/userReducer.js","components/Logout.js","components/CurrentUser.js","services/reset.js","components/AdminMenu.js","components/Menu.js","components/Notification.js","services/negotiations.js","reducers/bidsReducer.js","components/TopBids.js","components/TopValues.js","components/TopPopularity.js","services/phrase.js","reducers/phraseReducer.js","services/notices.js","reducers/noticesReducer.js","components/Home.js","services/job.js","services/members.js","reducers/membersReducer.js","components/Member.js","components/Members.js","components/LoginForm.js","components/Login.js","components/SignUpForm.js","components/User.js","components/Profile.js","services/cpkeys.js","reducers/cpkeysReducer.js","components/CpkeyForm.js","components/Cpkeys.js","reducers/usersReducer.js","components/Users.js","reducers/negotiationsReducer.js","components/Negotiations.js","components/MemberForm.js","services/time.js","reducers/timeReducer.js","reducers/displaynamesReducer.js","App.js","store.js","index.js"],"names":["initialState","content","colour","setNotification","message","time","dispatch","a","ms","type","data","Promise","resolve","setTimeout","notificationReducer","state","action","newMessage","setToken","newToken","tokenReducer","login","credentials","axios","post","response","getAll","token","config","headers","Authorization","get","getByToken","getDisplaynames","addUser","setUserByToken","userService","user","userReducer","mapDispatchToProps","setUser","Logout","withRouter","props","Button","onClick","window","localStorage","removeItem","history","push","connect","Grid","columns","Column","width","verticalAlign","displayname","assest","resetDB","useState","confirmOpen","setConfirmOpen","handleConfirmConfirm","resetService","Fragment","Item","link","to","Confirm","open","onCancel","onConfirm","style","marginBottom","admin","notification","Message","color","getBids","placeBid","newBid","sendOffer","newOffer","acceptOffer","negotiationId","rejectOffer","applyForceTrade","newForceTrade","memberPayrise","payriseBody","releaseMember","newRelease","settle","bidsReducer","sortByBid","b","BidA","bid","sortedBids","sort","negotiationsService","bids","hoverBid","setHoverBid","useEffect","hidePic","column","length","topBids","slice","map","key","id","indexOf","memberId","onMouseOver","onMouseOut","nickname","bidsList","src","pic_link","alt","firstname_e","lastname_e","height","memberPic","members","hoverMember","setHoverMember","sortFunctionByValue","valueA","value","topMembers","m","membersList","name_e","firstname","lastname","sortFunctionByFanSize","fanA","fanSize","change","newPhrase","put","phraseReducer","create","remove","delete","update","noticesReducer","newState","concat","n","toString","includes","filter","phraseOptions","p","text","changePhrase","phraseService","updatedPhrase","phrase","addNotice","noticesService","addedNotice","removeNotice","removedNotice","updateNotice","updatedNotice","serverTime","notices","setNewPhrase","newNotice","setNewNotice","shownList","setShownList","handlePhraseChange","event","preventDefault","changedPhrase","error","Form","onSubmit","Field","control","Select","label","options","placeholder","onChange","e","phraseChanger","handleEditNotice","handleRemoveNotice","noticeList","handleNewNotice","Input","target","noticeForm","list","assignJob","assignment","jobType","cancelJob","collectJob","addMember","newMember","initializeMembers","memberService","membersReducer","sortFunctionByGen","generation","sortValue","sortFunctionByTeam","x","y","teamList","team","sortFunctionByFirstname_e","nameA","nameB","sortFunctionByLastname_e","sortFunctionByKatakanaLastName","i","katakanaA","katakanaB","katakanaList","minLength","Math","min","name_k","sortFunctionByKatakanaFirstName","sortFunctionByKks","kks","sortFunctionByHometown","prefectureList","hometown","englishNameSort","sortingMembers","katakanaSort","defaultSort","nonT8Members","t8Members","sortedMember","updateMemberBid","memberUpdate","shownMember","setBid","offer","setOffer","payrise","setPayrise","forceTradeConfirmOpen","setForceTradeConfirmOpen","releaseConfirmOpen","setReleaseConfirmOpen","setAssignemt","collectable","setCollectable","inlineStyle","display","bidFormStyle","offerFormStyle","payriseFormStyle","releaseButtonStyle","assignmentFormStyle","assignmentCancelStyle","assignmentCollectStyle","lowerLimit","upperLimit","forceTradePrice","releasePrice","floor","agency","job","negotiation","handleBid","tradeType","placedBid","member","applicant","name_j","handleForceTradeConfirm","recipient","handleReleaseConfirm","handleOffer","handlePayrise","amount","updatedMember","handleRelease","handleAssign","jobService","assignedMember","name","handleAssignmentCancel","handleAssignmentCollect","collectedRewards","fanReward","moneyReward","bday","birthday","substring","Row","Table","Body","Cell","join","current","endTime","remainTimeMS","Date","parse","remainTimeS","remainHrs","remainMins","remainS","remainTime","teamOptions","t","genOptions","g","hometownOptions","agencyList","agencyOptions","sortMembersByDefault","sortMembersByGen","sortMembersByTeam","sortMembersByEnglishName","sortMembersByKatakana","sortMembersByHometown","sortMembersByValue","sortMembersByFanSize","teamFilter","setTeamFilter","genFilter","setGenFilter","hometownFilter","setHometownFilter","agencyFilter","setAgencyFilter","onHover","offHover","filteredMembers","filteringByAgency","profilePicStyle","colorCheck","checkTeam","teamColor1","teamColor2","opacity","borderTop","borderLeft","borderBottom","borderRight","Image","fluid","position","top","left","transform","fontSize","lineHeight","textAlign","textShadow","memberSpan","userLogin","loginInfo","username","password","loginService","LoginForm","setUsername","setPassword","handleLogin","loggedUser","setItem","JSON","stringify","padding","Login","SignUpForm","setDisplayname","password_1","setPassword_1","password_2","setPassword_2","createkey","setCreatekey","submit","newUserInfo","createdUser","displaynames","shownUser","paddingTop","u","negotiations","biddingList","releasedList","forcedList","sentOfferList","receivedOfferList","digestedBiddingList","biddingSpan","digestedSentOfferList","sentOfferSpan","handleAccept","handleReject","receivedOffers","digestedForcedList","forcedSpan","digestedReleasedList","releasedSpan","negotiationList","oshimens","oshimenList","addKey","cpkeysReducer","sortByKey","keyA","keyB","sortedKey","addNewKey","cpkeysService","addedKey","newCpkey","setNewCpkey","handleAddKey","allKeys","cpkeys","k","usersReducer","sortByUsername","usernameA","usernameB","sortedUser","allUsers","usersService","users","negotiationsReducer","sortedNegotiations","allNegotiations","clearNegotiations","headstyle","handleSettle","teamOptions1","teamOptions2","addNewMember","addedMember","setFirstname_e","setLastname_e","setName_j","firstname_k","setFirstname_k","lastname_k","setLastname_k","setNickname","setBirthday","setHometown","setGeneration","setPic_link","team1","setTeam1","team2","setTeam2","setCurrent","setKks","handleAddMember","teams","Group","widths","inline","Radio","checked","timeReducer","newTime","displaynamesReducer","getServerTime","timeService","oneTick","initializeDisplaynames","initializeNotices","checkPhrase","setInterval","loggedUserTokenJSON","getItem","savedToken","Container","path","render","exact","exaxt","match","params","find","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.ca71a963.chunk.js","sourcesContent":["const initialState = { content: null, colour: 'white' }\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'NOTIFY': {\r\n\t\t\tconst newMessage = { content: action.data.content, colour: action.data.colour }\r\n\t\t\treturn newMessage\r\n\t\t}\r\n\t\tcase 'SILENT':\r\n\t\t\treturn { content: null, colour: 'white' }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setNotification = (message, time) => {\r\n\treturn async dispatch => {\r\n\t\tconst ms = time*1000\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOTIFY',\r\n\t\t\tdata: { content: message.content, colour: message.colour }\r\n\t\t})\r\n\t\tawait new Promise(resolve => setTimeout(resolve, ms))\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","const tokenReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'TOKEN_CHANGE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'TOKEN_CLEAR': {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setToken = (newToken) => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CHANGE',\r\n\t\tdata: newToken\r\n\t}\r\n}\r\n\r\nexport const clearToken = () => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CLEAR'\r\n\t}\r\n}\r\n\r\nexport default tokenReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getByToken = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(`${ baseUrl }/byToken`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getDisplaynames = async () => {\r\n\tconst response = await axios.get(`${ baseUrl }/displaynames`)\r\n\treturn response.data\r\n}\r\n\r\nconst addUser = async (data) => {\r\n\tconst response = await axios.post(baseUrl, data)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, getByToken, getDisplaynames, addUser }","import loginService from '../services/login'\r\nimport userService from '../services/users'\r\n\r\nconst userReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'SET_USER': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'SET_USER_BY_TOKEN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'USER_LOGIN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUser = (user) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER',\r\n\t\t\tdata: user \r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const setUserByToken = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst user = await userService.getByToken(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER_BY_TOKEN',\r\n\t\t\tdata: user\r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const userLogin = (loginInfo) => {\r\n\tconst username = loginInfo.username\r\n\tconst password = loginInfo.password\r\n\treturn async dispatch => {\r\n\t\tconst data = await loginService.login({ username, password })\r\n\t\tdispatch({\r\n\t\t\ttype: 'USER_LOGIN',\r\n\t\t\tdata\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst LogoutNoHistory = (props) => {\r\n\tconst handleLogout = () => {\r\n\t\twindow.localStorage.removeItem('oshigameUserToken')\r\n\t\tprops.setToken(null)\r\n\t\tprops.setUser(null)\r\n\t\tprops.setNotification({ content: 'logged out successfully', colour: 'green' }, 5)\r\n\t\tprops.history.push('/')\r\n\t}\r\n\r\n\treturn <Button onClick={handleLogout}>logout</Button>\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUser,\r\n\tsetToken\r\n}\r\n\r\nconst Logout = withRouter(LogoutNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Logout from './Logout'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst CurrentUser = (props) => {\r\n\tif (props.user) {\r\n\t\treturn (\r\n\t\t\t<Grid columns={2}>\r\n\t\t\t\t<Grid.Column width={9} verticalAlign='middle'>\r\n\t\t\t\t\t<div>{props.user.displayname}</div>\r\n\t\t\t\t\t<div>assest: {props.user.assest}</div>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={1}>\r\n\t\t\t\t\t<Logout />\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnull\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrentUser)","import axios from 'axios'\r\nconst baseUrl = '/api/resetDB'\r\n\r\nconst resetDB = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { resetDB }","import React, { useState } from 'react'\r\nimport resetService from '../services/reset'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst AdminMenu = (props) => {\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleConfirmCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleConfirmConfirm = async () => {\r\n\t\tawait resetService.resetDB(props.token)\r\n\t\tprops.setNotification({ content: 'database reseted', colour: 'orange' }, 5)\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/cpkeys\">cpkeys</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/users\">users</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/negotiations\">negotiations</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/new_member\">add member</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t<Button onClick={handleReset}>RESET DB</Button>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={confirmOpen}\r\n\t\t\t\t\tonCancel={handleConfirmCancel}\r\n\t\t\t\t\tonConfirm={handleConfirmConfirm}\r\n\t\t\t\t/>\r\n\t\t\t</UIMenu.Item>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminMenu)","import React from 'react'\r\nimport CurrentUser from './CurrentUser'\r\nimport AdminMenu from './AdminMenu'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\"\r\n}\r\n\r\nconst Menu = (props) => {\r\n\r\n\tconst extendedMenu = () => {\r\n\t\tif (!props.user) {\r\n\t\t\treturn null\r\n\t\t} else if (!props.user.admin) {\r\n\t\t\treturn (\r\n\t\t\t\t<UIMenu.Item link>\r\n\t\t\t\t\t<Link to=\"/profile\">Profile</Link>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<UIMenu.Item link>\r\n\t\t\t\t\t\t<Link to=\"/profile\">Profile</Link>\r\n\t\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t\t<AdminMenu />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<UIMenu style={style}>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/members\">Members</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t{props.user ? <CurrentUser /> : <Link to=\"/login\"><Button>login / sign up</Button></Link>}\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t{extendedMenu()}\r\n\t\t</UIMenu>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Menu)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Message } from 'semantic-ui-react'\r\n\r\nconst Notification = (props) => {\r\n\r\n\tif (props.notification.content === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Message color={props.notification.colour}>{props.notification.content}</Message>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotification: state.notification\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Notification)","import axios from 'axios'\r\nconst baseUrl = '/api/negotiations'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getBids = async() => {\r\n\tconst response = await axios.get(`${ baseUrl }/currentbids`)\r\n\treturn response.data\r\n}\r\n\r\nconst placeBid = async (newBid, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newBid\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst sendOffer = async (newOffer, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newOffer\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst acceptOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/accept`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst rejectOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/reject`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst applyForceTrade = async (newForceTrade, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newForceTrade\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst memberPayrise = async (payriseBody, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = payriseBody\r\n\tconst response = await axios.post(`${ baseUrl }/payrise`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst releaseMember = async (newRelease, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newRelease\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst settle = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(`${ baseUrl }/settle`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, getBids, settle, placeBid, sendOffer, acceptOffer, rejectOffer, applyForceTrade, releaseMember, memberPayrise }","import negotiationsService from '../services/negotiations'\r\n\r\nconst bidsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_BIDS': {\r\n\t\t\tconst sortedBids = action.data.sort(sortByBid)\r\n\t\t\treturn sortedBids\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getBids = () => {\r\n\treturn async dispatch => {\r\n\t\tconst bids = await negotiationsService.getBids()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_BIDS',\r\n\t\t\tdata: bids\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default bidsReducer","import React, { useEffect, useState }  from 'react'\r\nimport { getBids } from '../reducers/bidsReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopBids = (props) => {\r\n\tconst [hoverBid, setHoverBid] = useState(null)\r\n\r\n\tconst {bids, getBids } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tgetBids()\r\n\t}, [getBids])\r\n\r\n\tconst showPic = (bid) => {\r\n\t\tsetHoverBid(bid)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverBid(null)\r\n\t}\r\n\r\n\tconst bidsList = () => {\r\n\t\tif (bids.length > 0) {\r\n\t\t\tlet topBids = bids\r\n\t\t\tif (topBids.length > 10) {\r\n\t\t\t\ttopBids = topBids.slice(0, 10)\r\n\t\t\t}\r\n\t\t\treturn topBids.map(b => (\r\n\t\t\t\t<div key={b.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${topBids.indexOf(b) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${b.memberId}`} onMouseOver={()=>showPic(b)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t\t{b.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` at ${b.bid}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Bids</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverBid) {\r\n\t\t\treturn <img src={hoverBid.pic_link} alt={`${hoverBid.firstname_e} ${hoverBid.lastname_e}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Current Top 10 Bids</h3>\r\n\t\t\t<Grid column={2}>\r\n\t\t\t\t<Grid.Column width={6}>\r\n\t\t\t\t\t{ bidsList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbids: state.bids\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetBids\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBids)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopValues = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByValue).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` at ${m.value}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Expensive Members</h3>\r\n\t\t\t<Grid column={2}>\r\n\t\t\t\t<Grid.Column width={6}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopValues)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopPopularity = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByFanSize).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` with ${m.fanSize} fans`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Popular Members</h3>\r\n\t\t\t<Grid column={2}>\r\n\t\t\t\t<Grid.Column width={6}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopPopularity)","import axios from 'axios'\r\nconst baseUrl = '/api/phrase'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newPhrase, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newPhrase\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import phraseService from '../services/phrase'\r\n\r\nconst phraseReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'CHANGE_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const checkPhrase = () => {\r\n\treturn async dispatch => {\r\n\t\tconst phrase = await phraseService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_PHRASE',\r\n\t\t\tdata: phrase[0].phrase\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changePhrase = (newPhrase, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedPhrase = await phraseService.change(newPhrase, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_PHRASE',\r\n\t\t\tdata: updatedPhrase.phrase\r\n\t\t})\r\n\t\treturn updatedPhrase\r\n\t}\r\n}\r\n\r\nexport default phraseReducer","import axios from 'axios'\r\nconst baseUrl = '/api/notices'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst create = async (content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst remove = async (id, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst response = await axios.delete(`${ baseUrl }/${ id }`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst update = async (id, content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.put(`${ baseUrl }/${ id }`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import noticesService from '../services/notices'\r\n\r\nconst noticesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NOTICES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ADD_NOTICE': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'UPDATE_NOTICE': {\r\n\t\t\tconst newState = state.map(n => n.id.toString().includes(action.data.id) ? action.data : n)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'REMOVE_NOTICE': {\r\n\t\t\tconst newState = state.filter(n => !n.id.toString().includes(action.data))\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeNotices = () => {\r\n\treturn async dispatch => {\r\n\t\tconst notices = await noticesService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NOTICES',\r\n\t\t\tdata: notices\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNotice = (content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedNotice = await noticesService.create(content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_NOTICE',\r\n\t\t\tdata: addedNotice\r\n\t\t})\r\n\t\treturn addedNotice\r\n\t}\r\n}\r\n\r\nexport const updateNotice = (id, content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedNotice = await noticesService.update(id, content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_NOTICE',\r\n\t\t\tdata: updatedNotice\r\n\t\t})\r\n\t\treturn updatedNotice\r\n\t}\r\n}\r\n\r\nexport const removeNotice = (id, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst removedNotice = await noticesService.remove(id, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'REMOVE_NOTICE',\r\n\t\t\tdata: id\r\n\t\t})\r\n\t\treturn removedNotice\r\n\t}\r\n}\r\n\r\nexport default noticesReducer","import React, { useState } from 'react'\r\nimport TopBids from './TopBids'\r\nimport TopValues from './TopValues'\r\nimport TopPopularity from './TopPopularity'\r\nimport { changePhrase } from '../reducers/phraseReducer'\r\nimport { addNotice, removeNotice, updateNotice } from '../reducers/noticesReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Select, Grid } from 'semantic-ui-react'\r\n\r\nconst phraseList = ['general', 'negotiation']\r\nconst phraseOptions = phraseList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nconst Home = (props) => {\r\n\tconst [newPhrase, setNewPhrase] = useState(null)\r\n\tconst [newNotice, setNewNotice] = useState('')\r\n\tconst [shownList, setShownList] = useState('VALUE')\r\n\t\r\n\tconst listOptions = [\r\n\t\t{ key: 'list1', text: 'Most Expensive Members', value: 'VALUE' },\r\n\t\t{ key: 'list2', text: 'Most Popular Members', value: 'FAN' },\r\n\t\t{ key: 'list3', text: 'Current Top 10 Bids', value: 'BID' }\r\n\t]\r\n\r\n\tconst phraseChanger = () => {\r\n\t\tconst handlePhraseChange = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\ttry {\r\n\t\t\t\tconst phrase = {\r\n\t\t\t\t\t'phrase': newPhrase\r\n\t\t\t\t}\r\n\t\t\t\tconst changedPhrase = await props.changePhrase(phrase, props.token)\r\n\t\t\t\tsetNewPhrase(null)\r\n\t\t\t\tprops.setNotification({ content: `phrase is changed to \"${changedPhrase.phrase}\"`, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (props.user) {\r\n\t\t\tif (props.user.admin) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form onSubmit={handlePhraseChange}>\r\n\t\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\t\tlabel='Change Phrase to: '\r\n\t\t\t\t\t\t\toptions={phraseOptions}\r\n\t\t\t\t\t\t\tplaceholder='new phrase'\r\n\t\t\t\t\t\t\tonChange={(e, data) => setNewPhrase(data.value)}\r\n\t\t\t\t\t\t\tvalue={newPhrase}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\">Change</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst notices = () => {\r\n\t\tconst noticeList = () => {\r\n\t\t\tconst handleEditNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.updateNotice(id, newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Updated`, colour: 'green' }, 5)\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst handleRemoveNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.removeNotice(id, props.token)\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Removed`, colour: 'green' }, 5)\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn props.notices.map(n => (\r\n\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleEditNotice(n.id)}>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleRemoveNotice(n.id)} color='violet'>\r\n\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{`${props.notices.indexOf(n) + 1}. ${n.content}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn props.notices.map(n => <div key={n.id}>{`${props.notices.indexOf(n) + 1}. ${n.content}`}</div>)\r\n\t\t}\r\n\t\tconst noticeForm = () => {\r\n\t\t\tconst handleNewNotice = async (event) => {\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.addNotice(newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `New Notice Posted`, colour: 'green' }, 5)\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Form onSubmit={handleNewNotice}>\r\n\t\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\t\tlabel='New/Updated Notice:'\r\n\t\t\t\t\t\t\tplaceholder={newNotice}\r\n\t\t\t\t\t\t\tonChange={({ target }) => setNewNotice(target.value)}\r\n\t\t\t\t\t\t\tvalue={newNotice}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\t\tPost New Notice\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Current Notes</h3>\r\n\t\t\t\t{noticeList()}\r\n\t\t\t\t{noticeForm()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tconst list = () => {\r\n\t\tswitch(shownList) {\r\n\t\t\tcase 'VALUE': {\r\n\t\t\t\treturn <TopValues />\r\n\t\t\t}\r\n\t\t\tcase 'BID': {\r\n\t\t\t\treturn <TopBids />\r\n\t\t\t}\r\n\t\t\tcase 'FAN': {\r\n\t\t\t\treturn <TopPopularity />\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Welcome to Oshigame</h2>\r\n\t\t\t<h3>phrase: {props.phrase} </h3>\r\n\t\t\t{phraseChanger()}\r\n\t\t\t<Grid column={2}>\r\n\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t{notices()}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={8}>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='List to Show: '\r\n\t\t\t\t\t\toptions={listOptions}\r\n\t\t\t\t\t\tplaceholder='Lists'\r\n\t\t\t\t\t\tonChange={(e, data) => setShownList(data.value)}\r\n\t\t\t\t\t\tvalue={shownList}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{list()}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tserverTime: state.serverTime,\r\n\t\tphrase: state.phrase,\r\n\t\tnotices: state.notices,\r\n\t\tuser: state.user,\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tchangePhrase,\r\n\taddNotice,\r\n\tremoveNotice,\r\n\tupdateNotice\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import axios from 'axios'\r\nconst baseUrl = '/api/job'\r\n\r\nconst assignJob = async (memberId, assignment, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t\tjobType: assignment\r\n\t}\r\n\tconst response = await axios.post(`${ baseUrl }/assign`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst cancelJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/cancel`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst collectJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/collect`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { assignJob, cancelJob, collectJob }","import axios from 'axios'\r\nconst baseUrl = '/api/members'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst addMember = async (newMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newMember }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addMember }","import memberService from '../services/members'\r\n\r\nconst membersReducer = (state = [], action) => {\r\n\r\n\tconst sortFunctionByGen = (a, b) => {\r\n\t\tconst genA = a.generation.sortValue\r\n\t\tconst genB = b.generation.sortValue\r\n\t\treturn genA - genB\r\n\t}\r\n\r\n\tconst sortFunctionByTeam = (x, y) => {\r\n\t\tconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\n\t\tlet teamX = teamList.indexOf(x.team[0])\r\n\t\tlet teamY = teamList.indexOf(y.team[0])\r\n\t\treturn teamX - teamY\t\r\n\t}\r\n\r\n\tconst sortFunctionByFirstname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.firstname\r\n\t\tconst nameB = b.name_e.firstname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByLastname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.lastname\r\n\t\tconst nameB = b.name_e.lastname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaLastName = (a, b) => {\r\n\t\tconst katakanaList = 'アイウエオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂツヅテデトドナニヌネノハバヴパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヷヰヸヱヹヲヺンー'\r\n\t\tconst minLength = Math.min(a.name_k.lastname.length, b.name_k.lastname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.lastname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.lastname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.lastname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.lastname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaFirstName = (a, b) => {\r\n\t\tconst katakanaList = 'アイウエオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂツヅテデトドナニヌネノハバヴパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヷヰヸヱヹヲヺンー'\r\n\t\tconst minLength = Math.min(a.name_k.firstname.length, b.name_k.firstname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.firstname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.firstname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.firstname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.firstname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKks = (a, b) => {\r\n\t\tconst kksA = a.kks ? 99 : 1\r\n\t\tconst kksB = b.kks ? 99 : 1\r\n\t\treturn kksA - kksB\r\n\t}\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\t}\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\t}\r\n\r\n\tconst sortFunctionByHometown = (x, y) => {\r\n\t\tconst prefectureList = [\r\n\t\t\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t\t\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t\t\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t\t\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t\t\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t\t\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t\t\t'Taiwan'\r\n\t\t]\r\n\t\tlet prefectureX = prefectureList.indexOf(x.hometown)\r\n\t\tlet prefectureY = prefectureList.indexOf(y.hometown)\r\n\t\treturn prefectureX - prefectureY\t\r\n\t}\r\n\r\n\tconst englishNameSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByFirstname_e)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByLastname_e)\r\n\t\treturn sortingMembers\r\n\t}\r\n\r\n\tconst katakanaSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaFirstName)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaLastName)\r\n\t\treturn sortingMembers\r\n\t}\r\n\t\r\n\tconst defaultSort = (members) => {\r\n\t\tlet nonT8Members = members.filter(m => m.team[0] !== 'Team 8')\r\n\t\tlet t8Members = members.filter(m => m.team[0] === 'Team 8')\r\n\t\tnonT8Members = katakanaSort(nonT8Members)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByKks)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByTeam)\r\n\t\tt8Members = t8Members.sort(sortFunctionByHometown)\r\n\t\tconst sortedMembers = nonT8Members.concat(t8Members)\r\n\t\treturn sortedMembers\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_MEMBERS': {\r\n\t\t\tconst sortedMember = defaultSort(action.data)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'ADD_MEMBER': {\r\n\t\t\tlet newState = state.concat(action.data)\r\n\t\t\tnewState = defaultSort(newState)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_DEFAULT': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = defaultSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_GENERATION': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByGen)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_TEAM': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByTeam)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_ENGLISHNAME': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = englishNameSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_KATAKANA': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = katakanaSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_HOMETOWN': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByHometown)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_VALUE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByValue)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_FANSIZE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByFanSize)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'UPDATE_MEMBER_BID': {\r\n\t\t\tconst newState = state.map(m => m.id === action.data.id ? action.data : m)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeMembers = () => {\r\n\treturn async dispatch => {\r\n\t\tconst members = await memberService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_MEMBERS',\r\n\t\t\tdata: members\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewMember = (member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedMember = await memberService.addMember(member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_MEMBER',\r\n\t\t\tdata: addedMember\r\n\t\t})\r\n\t\treturn addedMember\r\n\t}\r\n}\r\n\r\nexport const sortMembersByDefault = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_DEFAULT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByGen = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_GENERATION'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByTeam = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_TEAM'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByEnglishName = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_ENGLISHNAME'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByKatakana = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_KATAKANA'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByHometown = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_HOMETOWN'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByValue = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_VALUE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByFanSize = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_FANSIZE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateMemberBid = (memberUpdate) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_MEMBER_BID',\r\n\t\t\tdata: memberUpdate\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default membersReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport jobService from '../services/job'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { updateMemberBid, initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Grid, Table, Confirm, Select } from 'semantic-ui-react'\r\n\r\nconst Member = (props) => {\r\n\tconst { shownMember, serverTime } = props\r\n\tconst [bid, setBid] = useState('')\r\n\tconst [offer, setOffer] = useState('')\r\n\tconst [payrise, setPayrise] = useState('')\r\n\tconst [forceTradeConfirmOpen, setForceTradeConfirmOpen] = useState(false)\r\n\tconst [releaseConfirmOpen, setReleaseConfirmOpen] = useState(false)\r\n\tconst [assignment, setAssignemt] = useState('')\r\n\tconst [collectable, setCollectable] = useState(false)\r\n\r\n\tconst assignmentOptions = [\r\n\t\t{ key: 'assignment1', text: '1hr Showroom (free, gain little fans)', value: 'SHOWROOM' },\r\n\t\t{ key: 'assignment2', text: '4hr handshaking (4hr salary, gain money base on fanbase size)', value: 'HANDSHAKE' },\r\n\t\t{ key: 'assignment3', text: '2hr TV show ($1000 + 2hr salary, gain large number of fans)', value: 'TV' }\r\n\t]\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tlet bidFormStyle = { display: 'none' }\r\n\tlet offerFormStyle = { display: 'none' }\r\n\tlet payriseFormStyle = { display: 'none' }\r\n\tlet releaseButtonStyle = { display: 'none' }\r\n\tlet assignmentFormStyle = { display: 'none' }\r\n\tlet assignmentCancelStyle = { display: 'none' }\r\n\tlet assignmentCollectStyle = { display: 'none' }\r\n\r\n\tlet lowerLimit = null\r\n\tlet upperLimit = null\r\n\tlet forceTradePrice = null\r\n\tlet releasePrice = null\r\n\r\n\tif (shownMember) {\r\n\t\tlowerLimit = Math.floor(shownMember.value*0.8)\r\n\t\tupperLimit = Math.floor(shownMember.value*1.3)\r\n\t\tforceTradePrice = upperLimit + 1\r\n\t\treleasePrice = Math.floor(shownMember.value*0.5)\r\n\t}\r\n\r\n\tif (shownMember && props.user) {\r\n\t\tif (shownMember.agency) {\r\n\t\t\tif (shownMember.agency.displayname.toString().includes(props.user.displayname)) {\r\n\t\t\t\treleaseButtonStyle = { display: 'inline' }\r\n\t\t\t\tpayriseFormStyle = { display: 'inline' }\r\n\t\t\t\tif (props.phrase === 'general') {\r\n\t\t\t\t\tif (!shownMember.job) {\r\n\t\t\t\t\t\tassignmentFormStyle = { display: null }\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (collectable) {\r\n\t\t\t\t\t\t\tassignmentCollectStyle = { display: 'inline' }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tassignmentCancelStyle = { display: 'inline' }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (props.phrase === 'negotiation') {\r\n\t\t\tif (!shownMember.agency) {\r\n\t\t\t\tbidFormStyle = { display: 'inline' }\r\n\t\t\t} else {\r\n\t\t\t\tif (!shownMember.agency.displayname.toString().includes(props.user.displayname)){\r\n\t\t\t\t\tofferFormStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect (() => {\r\n\t\tif (shownMember) {\r\n\t\t\tsetBid(shownMember.negotiation ? shownMember.negotiation.bid + 10 : shownMember.value)\r\n\t\t\tsetOffer(lowerLimit)\r\n\t\t}\r\n\t}, [shownMember, lowerLimit])\r\n\r\n\tif (shownMember) {\r\n\t\tconst handleBid = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst newBid = {\r\n\t\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\t\tbid,\r\n\t\t\t\t\t\ttradeType: 'bid'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst placedBid = await negotiationsService.placeBid(newBid, props.token)\r\n\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\tconst memberUpdate = {\r\n\t\t\t\t\t\t...shownMember,\r\n\t\t\t\t\t\t'negotiation': {\r\n\t\t\t\t\t\t\t'member': placedBid.member,\r\n\t\t\t\t\t\t\t'bid': placedBid.bid,\r\n\t\t\t\t\t\t\t'tradeType': placedBid.tradeType,\r\n\t\t\t\t\t\t\t'applicant': placedBid.applicant,\r\n\t\t\t\t\t\t\t'id': placedBid.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprops.updateMemberBid(memberUpdate)\r\n\t\t\t\t\tsetBid(shownMember.value)\r\n\t\t\t\t\tprops.setNotification({ content: `a bid of $${bid} is placed for signing ${shownMember.name_j}`, colour: 'green' }, 5)\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst handleForceTradeCancel = () => {\r\n\t\t\tsetForceTradeConfirmOpen(false)\r\n\t\t}\r\n\t\r\n\t\tconst handleForceTradeConfirm = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst newForceTrade = {\r\n\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\tbid: forceTradePrice,\r\n\t\t\t\t\ttradeType: 'force',\r\n\t\t\t\t\trecipient: shownMember.agency\r\n\t\t\t\t}\r\n\t\t\t\tawait negotiationsService.applyForceTrade(newForceTrade, props.token)\r\n\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `a force trade is applied at $${forceTradePrice} for signing ${shownMember.name_j} from ${shownMember.agency.displayname} `, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t\tsetForceTradeConfirmOpen(false)\r\n\t\t}\r\n\r\n\t\tconst handleReleaseCancel = () => {\r\n\t\t\tsetReleaseConfirmOpen(false)\r\n\t\t}\r\n\t\r\n\t\tconst handleReleaseConfirm = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst newRelease = {\r\n\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\tbid: releasePrice,\r\n\t\t\t\t\ttradeType: 'release',\r\n\t\t\t\t}\r\n\t\t\t\tawait negotiationsService.releaseMember(newRelease, props.token)\r\n\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `${shownMember.name_j} is released and cash back ${releasePrice}`, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t\tsetReleaseConfirmOpen(false)\r\n\t\t}\r\n\r\n\t\tconst handleOffer = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\tif (offer < lowerLimit) {\r\n\t\t\t\t\tprops.setNotification({ content: 'your offer is too low', colour: 'red' }, 5)\r\n\t\t\t\t} else if (offer > upperLimit) {\r\n\t\t\t\t\tsetForceTradeConfirmOpen(true)\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst newOffer = {\r\n\t\t\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\t\t\tbid: offer,\r\n\t\t\t\t\t\t\ttradeType: 'offer',\r\n\t\t\t\t\t\t\trecipient: shownMember.agency\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tawait negotiationsService.sendOffer(newOffer, props.token)\r\n\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\tprops.setNotification({ content: `an offer of $${offer} is sent to ${shownMember.agency.displayname} for signing ${shownMember.name_j}`, colour: 'green' }, 5)\r\n\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst handlePayrise = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\ttry {\r\n\t\t\t\tconst payriseBody = {\r\n\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\tamount: payrise\r\n\t\t\t\t}\r\n\t\t\t\tconst updatedMember = await negotiationsService.memberPayrise(payriseBody, props.token)\r\n\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `value of ${shownMember.name_j} is raised by ${payriseBody.amount} to ${updatedMember.value}`, colour: 'green' }, 5)\r\n\t\t\t\tsetPayrise('')\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst handleRelease = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tsetReleaseConfirmOpen(true)\r\n\t\t}\r\n\r\n\t\tconst handleAssign = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tif (!assignment) {\r\n\t\t\t\tprops.setNotification({ content: 'assignment has not been chosen' , colour: 'red' }, 5)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconst assignedMember = await jobService.assignJob(shownMember.id, assignment, props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `${assignedMember.job.name} is assigned.`, colour: 'green' }, 5)\r\n\t\t\t\tsetAssignemt('')\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst handleAssignmentCancel = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\ttry {\r\n\t\t\t\tawait jobService.cancelJob(shownMember.id, props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `job is cancelled`, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst handleAssignmentCollect = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\ttry {\r\n\t\t\t\tconst collectedRewards = await jobService.collectJob(shownMember.id, props.token)\r\n\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\tprops.setNotification({ content: `gained ${collectedRewards.fanReward} fans and $${collectedRewards.moneyReward}`, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst bday = shownMember.birthday.substring(0, 10)\r\n\r\n\t\tconst currentBid = () => {\r\n\t\t\tif (!shownMember.negotiation) {\r\n\t\t\t\treturn 'none'\r\n\t\t\t} else {\r\n\t\t\t\tif (props.user) {\r\n\t\t\t\t\treturn `${shownMember.negotiation.bid} from ${props.user.id === shownMember.negotiation.applicant? 'YOU' : 'other user'}.`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '---'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst remainTime = (endTime) => {\r\n\t\t\tconst endTimeMS = Date.parse(endTime)\r\n\t\t\tconst currentTimeMS = Date.parse(serverTime)\r\n\t\t\tconst remainTimeMS = endTimeMS - currentTimeMS\r\n\t\t\tif (remainTimeMS > 0) {\r\n\t\t\t\tlet remainTimeS = Math.floor(remainTimeMS / 1000)\r\n\t\t\t\tconst remainHrs = Math.floor(remainTimeS / 3600)\r\n\t\t\t\tremainTimeS = remainTimeS % 3600\r\n\t\t\t\tconst remainMins = Math.floor(remainTimeS / 60)\r\n\t\t\t\tconst remainS = remainTimeS % 60\r\n\t\t\t\treturn `back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t} else {\r\n\t\t\t\tif (!collectable) {\r\n\t\t\t\t\tsetCollectable(true)\r\n\t\t\t\t}\r\n\t\t\t\treturn 'is ready to collect'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{shownMember.name_j}</h2>\r\n\t\t\t\t<div>{shownMember.name_k.firstname}　{shownMember.name_k.lastname}</div>\r\n\t\t\t\t<Grid columns={2}>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={5}>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Salary:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{Math.floor(shownMember.value/10)}/hr</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Fanbase Size:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.fanSize}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Current Job:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? shownMember.job.name : 'None'}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? remainTime(shownMember.job.endTime) : null}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t<Form onSubmit={handleAssign} style={assignmentFormStyle}>\r\n\t\t\t\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\t\t\t\tlabel='Job Assignment: '\r\n\t\t\t\t\t\t\t\t\toptions={assignmentOptions}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Job Assignment'\r\n\t\t\t\t\t\t\t\t\tonChange={(e, data) => setAssignemt(data.value)}\r\n\t\t\t\t\t\t\t\t\tvalue={assignment}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\">Assign</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t<Button onClick={handleAssignmentCollect} style={assignmentCollectStyle} color='pink'>\r\n\t\t\t\t\t\t\t\tCollect Assignment Rewards\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button onClick={handleAssignmentCancel} style={assignmentCancelStyle} color='violet'>\r\n\t\t\t\t\t\t\t\tCancel Assignment\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Form onSubmit={handleBid} style={bidFormStyle}>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tlabel={`Bid: (highest bid at the moment: ${currentBid()})`}\r\n\t\t\t\t\t\tplaceholder={bid}\r\n\t\t\t\t\t\tonChange={({ target }) => setBid(target.value)}\r\n\t\t\t\t\t\tvalue={bid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\tPlace Bid\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Form onSubmit={handleOffer} style={offerFormStyle}>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tlabel={`Offer: (Range: ${lowerLimit}-${upperLimit} or Forced Trade at ${forceTradePrice})`}\r\n\t\t\t\t\t\tplaceholder={offer}\r\n\t\t\t\t\t\tonChange={({ target }) => setOffer(target.value)}\r\n\t\t\t\t\t\tvalue={offer}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\tSend Negotiation Offer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Form onSubmit={handlePayrise} style={payriseFormStyle}>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tlabel='Pay Rise Amount:'\r\n\t\t\t\t\t\tplaceholder={payrise}\r\n\t\t\t\t\t\tonChange={({ target }) => setPayrise(target.value)}\r\n\t\t\t\t\t\tvalue={payrise}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\tConfirm Pay Rise\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Button onClick={handleRelease} style={releaseButtonStyle} color='violet'>\r\n\t\t\t\t\tRelease\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Link to={'/members'}>\r\n                    <Button>back</Button>\r\n                </Link>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={forceTradeConfirmOpen}\r\n\t\t\t\t\tcontent={`Confirm to force trade ${shownMember.nickname} at ${forceTradePrice} ?`}\r\n\t\t\t\t\tonCancel={handleForceTradeCancel}\r\n\t\t\t\t\tonConfirm={handleForceTradeConfirm}\r\n\t\t\t\t/>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={releaseConfirmOpen}\r\n\t\t\t\t\tcontent={`Confirm to RELEASE ${shownMember.nickname} and get back ${releasePrice} ?`}\r\n\t\t\t\t\tonCancel={handleReleaseCancel}\r\n\t\t\t\t\tonConfirm={handleReleaseConfirm}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tMember Not found\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tphrase: state.phrase,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tupdateMemberBid,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Member)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n\tsortMembersByDefault,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n} from '../reducers/membersReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, Button, Select, Image } from 'semantic-ui-react'\r\n\r\nconst teamList = ['All Teams', 'Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions = teamList.map(t => {return { key: t, text: t, value: t }})\r\n\r\nconst genList = ['All Generations', '1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\n\r\nconst hometownList = [\r\n\t'Any Hometown',\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = hometownList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nlet agencyList = ['All Agency', 'Not Free', 'Free']\r\nlet agencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\r\nconst Members = props => {\r\n\r\n\tconst [teamFilter, setTeamFilter] = useState('All Teams')\r\n\tconst [genFilter, setGenFilter] = useState('All Generations')\r\n\tconst [hometownFilter, setHometownFilter] = useState('Any Hometown')\r\n\tconst [agencyFilter, setAgencyFilter] = useState('All Agency')\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst onHover = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst offHover = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tif (props.user) {\r\n\t\tagencyList = ['All Agency', 'Under Your Agency', 'Signed by Others', 'Not Free', 'Free']\r\n\t\tagencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\t}\r\n\r\n\tif (props.members.length > 0) {\r\n\t\tconst resetFilters = () => {\r\n\t\t\tsetTeamFilter('All Teams')\r\n\t\t\tsetGenFilter('All Generations')\r\n\t\t\tsetHometownFilter('Any Hometown')\r\n\t\t\tsetAgencyFilter('All Agency')\r\n\t\t}\r\n\r\n        const memberSpan = () => {\r\n\t\t\tconst filteringByAgency = (members, filter) => {\r\n\t\t\t\tswitch(filter) {\r\n\t\t\t\t\tcase 'Under Your Agency':{\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Signed by Others': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && !m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Not Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency == null)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\treturn members\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet filteredMembers = props.members\r\n\t\t\tfilteredMembers = teamFilter === 'All Teams' ? filteredMembers : filteredMembers.filter(m => m.team.includes(teamFilter))\r\n\t\t\tfilteredMembers = genFilter === 'All Generations' ? filteredMembers : filteredMembers.filter(m => m.generation.name === genFilter)\r\n\t\t\tfilteredMembers = hometownFilter === 'Any Hometown' ? filteredMembers : filteredMembers.filter(m => m.hometown === hometownFilter)\r\n\t\t\tfilteredMembers = filteringByAgency(filteredMembers, agencyFilter)\r\n\t\t\tconst profilePicStyle = (memberId, team) => {\r\n\t\t\t\tconst colorCheck = (checkTeam) => {\r\n\t\t\t\t\tswitch(checkTeam) {\r\n\t\t\t\t\t\tcase 'Team A': {\r\n\t\t\t\t\t\t\treturn '#ff66ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team K': {\r\n\t\t\t\t\t\t\treturn '#00cc00'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team B': {\r\n\t\t\t\t\t\t\treturn '#3399ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 4': {\r\n\t\t\t\t\t\t\treturn 'Yellow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 8': {\r\n\t\t\t\t\t\t\treturn '#000066'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\treturn 'black'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst teamColor1 = colorCheck(team[0])\r\n\t\t\t\tconst teamColor2 = team.length > 1 ? colorCheck(team[1]) : teamColor1\r\n\r\n\t\t\t\tconst opacity = memberId === hoverMember ? '0.3' : '1'\r\n\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\tborderTop: `5px solid ${teamColor1}`,\r\n\t\t\t\t\tborderLeft: `5px solid ${teamColor1}`,\r\n\t\t\t\t\tborderBottom: `5px solid ${teamColor2}`,\r\n\t\t\t\t\tborderRight: `5px solid ${teamColor2}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst hoverText = (memberId) => {\r\n\t\t\t\tconst textShown = memberId === hoverMember ? null : 'none'\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tdisplay: textShown,\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\tfontSize: '20px',\r\n\t\t\t\t\tlineHeight: '1.5em',\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tcolor: '#000000',\r\n\t\t\t\t\ttextShadow: '2px 2px 2px #FFFFFF'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst agencyName = (member) => {\r\n\t\t\t\tif (member.agency) {\r\n\t\t\t\t\treturn member.agency.displayname\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'No Agency'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (filteredMembers.length > 0) {\r\n\t\t\t\treturn filteredMembers.map(m => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Column key={m.id}>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.id, m.team)} onMouseOver={()=>onHover(m.id)} onMouseOut={offHover}/>\r\n\t\t\t\t\t\t\t\t\t\t<div style={hoverText(m.id)} onMouseOver={()=>onHover(m.id)} onMouseOut={offHover}>\r\n\t\t\t\t\t\t\t\t\t\t\t{m.name_j}\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tin\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t{agencyName(m)}\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tValue: {m.value}\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\tFans: {m.fanSize}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<p>{m.name_e.firstname} {m.name_e.lastname} - V:{m.value} / F:{m.fanSize}</p>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn <div> No Matching Member</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Members</h2>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={14}>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByDefault} content='Default'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByTeam} content='Team'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByKatakana} content='Name (Katakana)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByEnglishName} content='Name (English)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByGen} content='Generation'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByHometown} content='Hometown'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByValue} content='Value'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByFanSize} content='Fan Size'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tFilters :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={14}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={teamOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setTeamFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={teamFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setGenFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={genFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setHometownFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={hometownFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={agencyOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setAgencyFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={agencyFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button onClick={resetFilters} content='Clear'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={5}>\r\n\t\t\t\t\t{memberSpan()}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tLoading...\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsortMembersByDefault,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Members)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { userLogin } from '../reducers/userReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoginNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\tconst handleLogin = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst loginInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tpassword\r\n\t\t\t}\r\n\r\n\t\t\tconst loggedUser = await props.userLogin(loginInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetPassword('')\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t'oshigameUserToken', JSON.stringify(loggedUser.token)\r\n\t\t\t)\r\n\t\t\tprops.setToken(loggedUser.token)\r\n\t\t\tconst user = await props.setUserByToken(loggedUser.token)\r\n\t\t\tprops.history.push('/')\r\n\t\t\tprops.setNotification({ content: `successfully logged in as ${user.displayname}`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: 'wrong user name or password', colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleLogin} padding=\"5\" >\r\n\t\t\t<Form.Input \r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='username'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword(target.value)}\r\n\t\t\t\tvalue={password}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">login</Button>\r\n\t\t\t<Link to=\"/sign_up\"><Button color='pink' >Sign Up</Button></Link>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetToken,\r\n\tsetUserByToken,\r\n\tuserLogin\r\n}\r\n\r\nconst LoginForm = withRouter(LoginNoHistory)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)","import React from 'react'\r\nimport LoginForm from './LoginForm'\r\n\r\nconst Login = () => (\r\n\t<div>\r\n\t\t<h2>Log in to Oshigame</h2>\r\n\t\t<LoginForm />\r\n\t</div>\r\n)\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport userService from '../services/users'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst SignUpNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [displayname, setDisplayname] = useState('')\r\n\tconst [password_1, setPassword_1] = useState('')\r\n\tconst [password_2, setPassword_2] = useState('')\r\n\tconst [createkey, setCreatekey] = useState('')\r\n\r\n\tconst submit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!username || !displayname || !password_1 || !password_2 || !createkey) {\r\n\t\t\tprops.setNotification({ content: 'one or more entries missing', colour: 'red' }, 5)\r\n\t\t\treturn \r\n\t\t}\r\n\t\tif (password_1 !== password_2) {\r\n\t\t\tprops.setNotification({ content: 'passwords have to be the same', colour: 'red' }, 5)\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tdisplayname,\r\n\t\t\t\tpassword: password_1,\r\n\t\t\t\tcreatekey\r\n\t\t\t}\r\n\t\t\tconst createdUser = await userService.addUser(newUserInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetDisplayname('')\r\n\t\t\tsetPassword_1('')\r\n\t\t\tsetPassword_2('')\r\n\t\t\tsetCreatekey('')\r\n\t\t\tprops.history.push('/login')\r\n\t\t\tprops.setNotification({ content: `account for ${createdUser.username} is created successfully`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submit}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='e.g. Fans0048'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='name for display'\r\n\t\t\t\tplaceholder='e.g. The Legenary Idol Agency'\r\n\t\t\t\tonChange={({ target }) => setDisplayname(target.value)}\r\n\t\t\t\tvalue={displayname}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_1(target.value)}\r\n\t\t\t\tvalue={password_1}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tplaceholder='password (please type again)'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_2(target.value)}\r\n\t\t\t\tvalue={password_2}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='create-key'\r\n\t\t\t\tplaceholder='create-key (provided by admin)'\r\n\t\t\t\tonChange={({ target }) => setCreatekey(target.value)}\r\n\t\t\t\tvalue={createkey}\r\n\t\t\t/>\r\n\t\t\t<Button color='pink' type=\"submit\">Submit</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nconst SignUpForm = withRouter(SignUpNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUpForm)","import React from 'react'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst User = (props) => {\r\n\tconst { shownUser, members} = props\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tif (shownUser) {\r\n\r\n\t\tconst admin = (u) => u.admin ?\r\n\t\t\t<div>ADMIN</div> :\r\n\t\t\tnull\r\n\r\n\t\tconst oshimenList = (u) => {\r\n\t\t\tconst remainTime = (endTime) => {\r\n\t\t\t\tconst endTimeMS = Date.parse(endTime)\r\n\t\t\t\tconst currentTimeMS = Date.parse(props.serverTime)\r\n\t\t\t\tconst remainTimeMS = endTimeMS - currentTimeMS\r\n\t\t\t\tif (remainTimeMS > 0) {\r\n\t\t\t\t\tlet remainTimeS = Math.floor(remainTimeMS / 1000)\r\n\t\t\t\t\tconst remainHrs = Math.floor(remainTimeS / 3600)\r\n\t\t\t\t\tremainTimeS = remainTimeS % 3600\r\n\t\t\t\t\tconst remainMins = Math.floor(remainTimeS / 60)\r\n\t\t\t\t\tconst remainS = remainTimeS % 60\r\n\t\t\t\t\treturn `will be back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'is ready to collect'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn (u.oshimens.length > 0 ?\r\n\t\t\t\tu.oshimens.map(m => (\r\n\t\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{m.job ? ` on ${m.job.name} and ${remainTime(m.job.endTime)}` : ' is waiting for assignments'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)) :\r\n\t\t\t\t'none'\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst negotiationList = (u) => {\r\n\t\t\tif (u.negotiations.length > 0) {\r\n\t\t\t\tconst biddingList = u.negotiations.filter(n => n.tradeType === 'bid')\r\n\t\t\t\tconst biddingSpan = () => {\r\n\t\t\t\t\tif (biddingList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedBiddingList = biddingList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tbiddings: {digestedBiddingList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst releasedList = u.negotiations.filter(n => n.tradeType === 'release')\r\n\t\t\t\tconst releasedSpan = () => {\r\n\t\t\t\t\tif (releasedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedReleasedList = releasedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\treleased: {digestedReleasedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst forcedList = u.negotiations.filter(n => n.tradeType === 'force')\r\n\t\t\t\tconst forcedSpan = () => {\r\n\t\t\t\t\tif (forcedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedForcedList = forcedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn n.recipient.toString().includes(shownUser.id) ? `LOST ${name} at ${n.bid}` : `SIGNED ${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tforced trades: {digestedForcedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst sentOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.applicant.toString().includes(shownUser.id))\r\n\t\t\t\tconst sentOfferSpan = () => {\r\n\t\t\t\t\tif (sentOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedSentOfferList = sentOfferList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tsent offers: {digestedSentOfferList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet receivedOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.recipient.toString().includes(shownUser.id))\r\n\t\t\t\tconst receivedOffers = () => {\r\n\t\t\t\t\tconst displayname = (applicant) => {\r\n\t\t\t\t\t\tconst displaynames = props.displaynames.filter(n => n.id === applicant)\r\n\t\t\t\t\t\treturn displaynames[0].displayname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst nickname = (member) => {\r\n\t\t\t\t\t\tconst nicknames = props.members.filter(m => m.id === member)\r\n\t\t\t\t\t\treturn nicknames[0].nickname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleAccept = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.acceptOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is accepted', colour: 'green' }, 5)\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleReject = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.rejectOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is rejected', colour: 'green' }, 5)\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (receivedOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>RECEIVED OFFERS</div>\r\n\t\t\t\t\t\t\t\t{receivedOfferList.map(n => (\r\n\t\t\t\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/members/${n.member}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{nickname(n.member)}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t{` at ${n.bid} from ${displayname(n.applicant)} `}\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Accept' color='violet' onClick={() => handleAccept(n.id)} />\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Reject' color='pink' onClick={() => handleReject(n.id)} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{biddingSpan()}\r\n\t\t\t\t\t\t{sentOfferSpan()}\r\n\t\t\t\t\t\t{receivedOffers()}\r\n\t\t\t\t\t\t{forcedSpan()}\r\n\t\t\t\t\t\t{releasedSpan()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3 style={headstyle}>{shownUser.username}</h3>\r\n\t\t\t\t<div>displayname: {shownUser.displayname}</div>\r\n\t\t\t\t<div>assest: {shownUser.assest}</div>\r\n\t\t\t\t{admin(shownUser)}\r\n\t\t\t\t<div>negotiations:</div>\r\n\t\t\t\t<div>{negotiationList(shownUser)}</div>\r\n\t\t\t\t<div>oshimens:</div>\r\n\t\t\t\t<div>{oshimenList(shownUser)}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <div>loading...</div>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tdisplaynames: state.displaynames,\r\n\t\ttoken: state.token,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetUserByToken,\r\n\tinitializeMembers,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)","import React from 'react'\r\nimport User from './User'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Profile = (props) => {\r\n\tconst { user, members } = props\r\n\r\n\tif (user && members.length > 0) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Profile</h2>\r\n\t\t\t\t<User shownUser = {user} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <div>loading...</div>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import axios from 'axios'\r\nconst baseUrl = '/api/cpkeys'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst addKey = async (key, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { key }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addKey }","import cpkeysService from '../services/cpkeys'\r\n\r\nconst cpkeysReducer = (state = [], action) => {\r\n\tconst sortByKey = (a, b) => {\r\n\t\tconst keyA = a.key\r\n\t\tconst keyB = b.key\r\n\t\tif (keyA < keyB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (keyB < keyA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_KEYS': {\r\n\t\t\tconst sortedKey = action.data.sort(sortByKey)\r\n\t\t\treturn sortedKey\r\n\t\t}\r\n\t\tcase 'ADD_KEY': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState.slice(0).sort(sortByKey)\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allKeys = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst cpkeys = await cpkeysService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_KEYS',\r\n\t\t\tdata: cpkeys\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewKey = (key, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedKey = await cpkeysService.addKey(key, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_KEY',\r\n\t\t\tdata: addedKey\r\n\t\t})\r\n\t\treturn addedKey\r\n\t}\r\n}\r\n\r\nexport default cpkeysReducer","import React, { useState } from 'react'\r\nimport { addNewKey } from '../reducers/cpkeysReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CpkeyForm = (props) => {\r\n\tconst [newCpkey, setNewCpkey] = useState('')\r\n\r\n\tconst handleAddKey = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst addedKey = await props.addNewKey(newCpkey, props.token)\r\n\t\t\tsetNewCpkey('')\r\n\t\t\tprops.setNotification({ content: `key \"${addedKey.key}\" is added`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAddKey}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new CP-Key'\r\n\t\t\t\tplaceholder='new CP-Key'\r\n\t\t\t\tonChange={({ target }) => setNewCpkey(target.value)}\r\n\t\t\t\tvalue={newCpkey}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">ADD KEY</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewKey\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpkeyForm)","import React, { useEffect }  from 'react'\r\nimport CpkeyForm from './CpkeyForm'\r\nimport { allKeys } from '../reducers/cpkeysReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Cpkeys = (props) => {\r\n\tconst { token, user, allKeys, cpkeys } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallKeys(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allKeys])\r\n\r\n\tconst cpkeysList = () => {\r\n\t\tif (cpkeys.length > 0) {\r\n\t\t\treturn cpkeys.map(k => <div key={k.id}>{k.key}</div>)\r\n\t\t} else {\r\n\t\t\treturn <div>no available keys</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Cpkeys</h2>\r\n\t\t\t<CpkeyForm />\r\n\t\t\t{ cpkeysList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tcpkeys: state.cpkeys\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallKeys\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cpkeys)","import usersService from '../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n\tconst sortByUsername = (a, b) => {\r\n\t\tconst usernameA = a.username\r\n\t\tconst usernameB = b.username\r\n\t\tif (usernameA < usernameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (usernameB < usernameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_USERS': {\r\n\t\t\tconst sortedUser = action.data.sort(sortByUsername)\r\n\t\t\treturn sortedUser\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allUsers = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst users = await usersService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_USERS',\r\n\t\t\tdata: users\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default usersReducer","import React, { useEffect }  from 'react'\r\nimport User from './User'\r\nimport { allUsers } from '../reducers/usersReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Users = (props) => {\r\n\tconst {token, user, users, members, allUsers } = props\r\n\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallUsers(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allUsers])\r\n\r\n\tconst usersList = () => {\r\n\t\tif (users.length > 0 && members.length > 0) {\r\n\t\t\treturn users.map(u => (\r\n\t\t\t\t<div key={u.id}>\r\n\t\t\t\t\t<User shownUser = {u} />\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>loading...</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Users</h2>\r\n\t\t\t{ usersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tusers: state.users,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallUsers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import negotiationsService from '../services/negotiations'\r\n\r\nconst negotiationsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NEGOTIATIONS': {\r\n\t\t\tconst sortedNegotiations = action.data.sort(sortByBid)\r\n\t\t\treturn sortedNegotiations\r\n\t\t}\r\n\t\tcase 'CLEAR_NEGOTIATIONS': {\r\n\t\t\treturn []\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allNegotiations = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst negotiations = await negotiationsService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NEGOTIATIONS',\r\n\t\t\tdata: negotiations\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const clearNegotiations = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'CLEAR_NEGOTIATIONS'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default negotiationsReducer","import React, { useEffect }  from 'react'\r\nimport { allNegotiations, clearNegotiations } from '../reducers/negotiationsReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst Negotiations = (props) => {\r\n\tconst {token, user, negotiations, allNegotiations, clearNegotiations } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallNegotiations(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allNegotiations])\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tconst negotiationsList = () => {\r\n\t\tif (negotiations.length > 0) {\r\n\t\t\treturn negotiations.map(n => (\r\n\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t<h3 style={headstyle}>{n.member.name_j}</h3>\r\n\t\t\t\t\t<div>type of trade: {n.tradeType}</div>\r\n\t\t\t\t\t<div>bid: {n.bid}</div>\r\n\t\t\t\t\t<div>applicant: {n.applicant.username}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Negotiations</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSettle = async () => {\r\n\t\ttry {\r\n\t\t\tawait negotiationsService.settle(props.token)\r\n\t\t\tprops.setNotification({ content: 'negotiations have been settled', colour: 'green' }, 5)\r\n\t\t\tclearNegotiations()\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Negotiations</h2>\r\n\t\t\t<Button onClick={handleSettle}> Settle </Button>\r\n\t\t\t{ negotiationsList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tnegotiations: state.negotiations\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallNegotiations,\r\n\tclearNegotiations,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Negotiations)","import React, { useState } from 'react'\r\nimport { addNewMember } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button, Select, Radio } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst genList = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\nconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions1 = teamList.map(t => {return { key: t, text: t, value: t }})\r\nconst teamOptions2 = teamList.concat('No Kennin').map(t => {return { key: t, text: t, value: t }})\r\nconst prefectureList = [\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = prefectureList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nconst MemberForm = (props) => {\r\n\tconst [firstname_e, setFirstname_e] = useState('')\r\n\tconst [lastname_e, setLastname_e] = useState('')\r\n\tconst [name_j, setName_j] = useState('')\r\n\tconst [firstname_k, setFirstname_k] = useState('')\r\n\tconst [lastname_k, setLastname_k] = useState('')\r\n\tconst [nickname, setNickname] = useState('')\r\n\tconst [birthday, setBirthday] = useState('')\r\n\tconst [hometown, setHometown] = useState('')\r\n\tconst [generation, setGeneration] = useState('')\r\n\tconst [pic_link, setPic_link] = useState('')\r\n\tconst [team1, setTeam1] = useState(null)\r\n\tconst [team2, setTeam2] = useState(null)\r\n\tconst [current, setCurrent] = useState(true)\r\n\tconst [kks, setKks] = useState(false)\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetFirstname_e('')\r\n\t\tsetLastname_e('')\r\n\t\tsetName_j('')\r\n\t\tsetFirstname_k('')\r\n\t\tsetLastname_k('')\r\n\t\tsetNickname('')\r\n\t\tsetBirthday('')\r\n\t\tsetHometown('')\r\n\t\tsetGeneration('')\r\n\t\tsetPic_link('')\r\n\t\tsetTeam1('')\r\n\t\tsetTeam2(null)\r\n\t\tsetCurrent(true)\r\n\t\tsetKks(false)\r\n\t}\r\n\r\n\tconst handleAddMember = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst newMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst addedMember = await props.addNewMember(newMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${addedMember.name_j}\" is added`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>New Member</h2>\r\n\t\t\t<Form onSubmit={handleAddMember}>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (English)'\r\n\t\t\t\t\t\tplaceholder='First name'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_e(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (English)'\r\n\t\t\t\t\t\tplaceholder='Last name'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_e(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Full name (Japanese Kanji)'\r\n\t\t\t\t\tplaceholder='お名前'\r\n\t\t\t\t\tonChange={({ target }) => setName_j(target.value)}\r\n\t\t\t\t\tvalue={name_j}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (Katakana)'\r\n\t\t\t\t\t\tplaceholder='ナマエ'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_k(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (Katakana)'\r\n\t\t\t\t\t\tplaceholder='ミョウジ'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_k(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Nickname'\r\n\t\t\t\t\t\tplaceholder='Nickname'\r\n\t\t\t\t\t\tonChange={({ target }) => setNickname(target.value)}\r\n\t\t\t\t\t\tvalue={nickname}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Birthday'\r\n\t\t\t\t\t\tplaceholder='YYYY-MM-DD'\r\n\t\t\t\t\t\tonChange={({ target }) => setBirthday(target.value)}\r\n\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Hometown'\r\n\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\tplaceholder='Hometown'\r\n\t\t\t\t\t\tonChange={(e, data) => setHometown(data.value)}\r\n\t\t\t\t\t\tvalue={hometown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Profile Picture Link'\r\n\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\tonChange={({ target }) => setPic_link(target.value)}\r\n\t\t\t\t\tvalue={pic_link}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Generation'\r\n\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\tplaceholder='Generation'\r\n\t\t\t\t\t\tonChange={(e, data) => setGeneration(data.value)}\r\n\t\t\t\t\t\tvalue={generation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Main)'\r\n\t\t\t\t\t\toptions={teamOptions1}\r\n\t\t\t\t\t\tplaceholder='Team (Main)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam1(data.value)}\r\n\t\t\t\t\t\tvalue={team1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Kennin)'\r\n\t\t\t\t\t\toptions={teamOptions2}\r\n\t\t\t\t\t\tplaceholder='Team (Kennin)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam2(data.value)}\r\n\t\t\t\t\t\tvalue={team2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Membership</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Current'\r\n\t\t\t\t\t\tchecked={current === true}\r\n\t\t\t\t\t\tonChange={() => setCurrent(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Graduated'\r\n\t\t\t\t\t\tchecked={current === false}\r\n\t\t\t\t\t\tonChange={() => setCurrent(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Status</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Regular'\r\n\t\t\t\t\t\tchecked={kks === false}\r\n\t\t\t\t\t\tonChange={() => setKks(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Kenkyosen'\r\n\t\t\t\t\t\tchecked={kks === true}\r\n\t\t\t\t\t\tonChange={() => setKks(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\">ADD MEMBER</Button>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewMember\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberForm)","import axios from 'axios'\r\nconst baseUrl = '/api/time'\r\n\r\nconst get = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get }","import timeService from '../services/time'\r\n\r\nconst timeReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_TIME': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ONE_TICK': {\r\n\t\t\tconst newTime = new Date(Date.parse(state) + 1000)\r\n\t\t\treturn newTime\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getServerTime = () => {\r\n\treturn async dispatch => {\r\n\t\tconst serverTime = await timeService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_TIME',\r\n\t\t\tdata: serverTime\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const oneTick = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'ONE_TICK'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default timeReducer","import usersService from '../services/users'\r\n\r\nconst displaynamesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_DISPLAYNAMES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeDisplaynames = () => {\r\n\treturn async dispatch => {\r\n\t\tconst displaynames = await usersService.getDisplaynames()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_DISPLAYNAMES',\r\n\t\t\tdata: displaynames\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default displaynamesReducer","import React, { useEffect }  from 'react'\nimport { connect } from 'react-redux'\nimport Menu from './components/Menu'\nimport Notification from './components/Notification'\nimport Home from './components/Home'\nimport Member from './components/Member'\nimport Members from './components/Members'\nimport Login from './components/Login'\nimport SignUpForm from './components/SignUpForm'\nimport Profile from './components/Profile'\nimport Cpkeys from './components/Cpkeys'\nimport Users from './components/Users'\nimport Negotiations from './components/Negotiations'\nimport MemberForm from './components/MemberForm'\nimport { getServerTime, oneTick } from './reducers/timeReducer'\nimport { initializeMembers } from './reducers/membersReducer'\nimport { initializeDisplaynames } from './reducers/displaynamesReducer'\nimport { initializeNotices } from './reducers/noticesReducer'\nimport { setToken } from './reducers/tokenReducer'\nimport { setUserByToken } from './reducers/userReducer'\nimport { checkPhrase } from './reducers/phraseReducer'\nimport {\n\tBrowserRouter as Router,\n\tRoute, Redirect\n} from 'react-router-dom'\nimport { Container } from 'semantic-ui-react'\n\n\nconst App = (props) => {\n\n\tconst { getServerTime, oneTick, setToken, setUserByToken, initializeMembers, initializeDisplaynames, initializeNotices, checkPhrase } = props\n\n\tuseEffect (() => {\n\t\tconst startsTicking = () => {\n\t\t\tsetInterval(oneTick, 1000)\n\t\t}\n\t\tgetServerTime()\n\t\tstartsTicking()\n\t\tinitializeMembers()\n\t\tinitializeDisplaynames()\n\t\tinitializeNotices()\n\t}, [getServerTime, oneTick, initializeMembers, initializeDisplaynames, initializeNotices])\n\n\tuseEffect (() => {\n\t\tcheckPhrase()\n\t})\n\n\tuseEffect (() => {\n\t\tconst loggedUserTokenJSON = window.localStorage.getItem('oshigameUserToken')\n\n\t\tif (loggedUserTokenJSON) {\n\t\t\tconst savedToken = JSON.parse(loggedUserTokenJSON)\n\t\t\tsetToken(savedToken)\n\t\t\tsetUserByToken(savedToken)\n\t\t}\n\t}, [setToken, setUserByToken])\n\n\tconst memberById = (id) => {\n\t\treturn props.members.find(m => m.id === id)\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Router>\n\t\t\t\t<div>\n\t\t\t\t\t<Route path=\"/\" render={() =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Menu />\n\t\t\t\t\t\t\t<Notification />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/\" render={() =>\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/login\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <Login />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/sign_up\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <SignUpForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members\" render={() =>\n\t\t\t\t\t\t<Members />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members/:id\" render={({ match }) =>\n\t\t\t\t\t\t<Member shownMember={memberById(match.params.id)} />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/profile\" render={() =>\n\t\t\t\t\t\t<Profile />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/cpkeys\" render={() =>\n\t\t\t\t\t\t<Cpkeys />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/users\" render={() =>\n\t\t\t\t\t\t<Users />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/negotiations\" render={() =>\n\t\t\t\t\t\t<Negotiations />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/new_member\" render={() =>\n\t\t\t\t\t\t<MemberForm />\n\t\t\t\t\t} />\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmembers: state.members,\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetToken,\n\tsetUserByToken,\n\tgetServerTime,\n\toneTick,\n\tinitializeMembers,\n\tinitializeDisplaynames,\n\tinitializeNotices,\n\tcheckPhrase\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport timeReducer from './reducers/timeReducer'\r\nimport membersReducer from './reducers/membersReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport tokenReducer from './reducers/tokenReducer'\r\nimport cpkeysReducer from './reducers/cpkeysReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport negotiationsReducer from './reducers/negotiationsReducer'\r\nimport phraseReducer from './reducers/phraseReducer'\r\nimport bidsReducer from './reducers/bidsReducer'\r\nimport displaynamesReducer from './reducers/displaynamesReducer'\r\nimport noticesReducer from './reducers/noticesReducer'\r\n\r\nconst reducer = combineReducers({\r\n\tmembers: membersReducer,\r\n\tnotification: notificationReducer,\r\n\tuser: userReducer,\r\n\ttoken: tokenReducer,\r\n\tcpkeys: cpkeysReducer,\r\n\tusers: usersReducer,\r\n\tnegotiations: negotiationsReducer,\r\n\tphrase: phraseReducer,\r\n\tbids: bidsReducer,\r\n\tdisplaynames: displaynamesReducer,\r\n\tnotices: noticesReducer,\r\n\tserverTime: timeReducer\r\n})\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nconst render = () => {\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t)\n}\n\nrender()\nstore.subscribe(render)"],"sourceRoot":""}