{"version":3,"sources":["reducers/notificationReducer.js","reducers/tokenReducer.js","services/login.js","services/users.js","reducers/userReducer.js","components/Logout.js","components/CurrentUser.js","services/reset.js","components/AdminMenu.js","components/Menu.js","components/Notification.js","services/negotiations.js","reducers/bidsReducer.js","components/TopBids.js","services/phrase.js","reducers/phraseReducer.js","components/Home.js","reducers/negotiationsReducer.js","services/members.js","reducers/membersReducer.js","components/Member.js","components/Members.js","components/LoginForm.js","components/Login.js","components/SignUpForm.js","components/Profile.js","services/cpkeys.js","reducers/cpkeysReducer.js","components/CpkeyForm.js","components/Cpkeys.js","reducers/usersReducer.js","components/Users.js","components/Negotiations.js","components/MemberForm.js","App.js","store.js","index.js"],"names":["initialState","content","colour","setNotification","message","time","dispatch","a","ms","type","data","Promise","resolve","setTimeout","notificationReducer","state","action","newMessage","setToken","newToken","tokenReducer","login","credentials","axios","post","response","getAll","token","config","headers","Authorization","get","getByToken","addUser","setUserByToken","userService","user","userReducer","mapDispatchToProps","setUser","Logout","withRouter","props","Button","onClick","window","localStorage","removeItem","history","push","connect","Grid","columns","Column","width","verticalAlign","displayname","assest","resetDB","useState","confirmOpen","setConfirmOpen","handleConfirmConfirm","resetService","Fragment","Item","link","to","Confirm","open","onCancel","onConfirm","style","marginBottom","admin","notification","Message","color","getBids","placeBid","newBid","settle","bidsReducer","sortByBid","b","BidA","bid","sortedBids","sort","negotiationsService","bids","useEffect","length","topBids","slice","map","key","id","indexOf","memberId","nickname","bidsList","change","newPhrase","put","phraseReducer","phraseOptions","p","text","value","changePhrase","phraseService","updatedPhrase","phrase","setNewPhrase","handlePhraseChange","event","preventDefault","changedPhrase","error","Form","onSubmit","Field","control","Select","label","options","placeholder","onChange","e","phraseChanger","column","negotiationsReducer","sortedNegotiations","concat","addMember","newMember","membersReducer","sortFunctionByGen","generation","sortValue","sortFunctionByTeam","x","y","teamList","teamX","team","teamY","sortFunctionByFirstname_e","nameA","name_e","firstname","nameB","sortFunctionByLastname_e","lastname","sortFunctionByKatakanaLastName","i","katakanaA","katakanaB","katakanaList","minLength","Math","min","name_k","sortFunctionByKatakanaFirstName","sortFunctionByKks","kks","englishNameSort","members","sortingMembers","katakanaSort","defaultSort","sortedMember","newState","console","log","m","bidding","negotiation","updateMemberBid","memberUpdate","shownMember","setBid","bidFormStyle","display","handleBid","tradeType","placedBid","member","applicant","name_j","bday","birthday","substring","Row","src","pic_link","alt","Table","Body","Cell","join","name","hometown","current","agency","Input","target","teamOptions","t","genOptions","g","agencyOptions","sortMembersByDefault","sortMembersByGen","sortMembersByTeam","sortMembersByEnglishName","sortMembersByKatakana","teamFilter","setTeamFilter","genFilter","setGenFilter","agencyFilter","setAgencyFilter","filteredMembers","filter","includes","borderStyle","teamColor","border","height","memberSpan","userLogin","loginInfo","username","password","loginService","LoginForm","setUsername","setPassword","handleLogin","loggedUser","setItem","JSON","stringify","padding","Login","SignUpForm","setDisplayname","password_1","setPassword_1","password_2","setPassword_2","createkey","setCreatekey","submit","newUserInfo","createdUser","u","paddingTop","oshimens","oshimenList","negotiations","n","addKey","cpkeysReducer","sortByKey","keyA","keyB","sortedKey","addNewKey","cpkeysService","addedKey","newCpkey","setNewCpkey","handleAddKey","allKeys","cpkeys","k","usersReducer","sortByUsername","usernameA","usernameB","sortedUser","allUsers","usersService","users","headstyle","negotiationList","allNegotiations","clearNegotiations","handleSettle","teamOptions1","teamOptions2","addNewMember","memberService","addedMember","firstname_e","setFirstname_e","lastname_e","setLastname_e","setName_j","firstname_k","setFirstname_k","lastname_k","setLastname_k","setNickname","setBirthday","setHometown","setGeneration","setPic_link","team1","setTeam1","team2","setTeam2","setCurrent","setKks","handleAddMember","teams","Group","widths","inline","Radio","checked","initializeMembers","checkPhrase","loggedUserTokenJSON","getItem","savedToken","parse","Container","path","render","exact","exaxt","match","params","find","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.4299342d.chunk.js","sourcesContent":["const initialState = { content: null, colour: 'white' }\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\r\n\tswitch(action.type) {\r\n\tcase 'NOTIFY': {\r\n\t\tconst newMessage = { content: action.data.content, colour: action.data.colour }\r\n\t\treturn newMessage\r\n\t}\r\n\tcase 'SILENT':\r\n\t\treturn { content: null, colour: 'white' }\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setNotification = (message, time) => {\r\n\treturn async dispatch => {\r\n\t\tconst ms = time*1000\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOTIFY',\r\n\t\t\tdata: { content: message.content, colour: message.colour }\r\n\t\t})\r\n\t\tawait new Promise(resolve => setTimeout(resolve, ms))\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","const tokenReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\tcase 'TOKEN_CHANGE': {\r\n\t\treturn action.data\r\n\t}\r\n\tcase 'TOKEN_CLEAR': {\r\n\t\treturn null\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setToken = (newToken) => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CHANGE',\r\n\t\tdata: newToken\r\n\t}\r\n}\r\n\r\nexport const clearToken = () => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CLEAR'\r\n\t}\r\n}\r\n\r\nexport default tokenReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getByToken = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(`${ baseUrl }/byToken`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst addUser = async (data) => {\r\n\tconst response = await axios.post(baseUrl, data)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, getByToken, addUser }","import loginService from '../services/login'\r\nimport userService from '../services/users'\r\n\r\nconst userReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\tcase 'SET_USER': {\r\n\t\treturn action.data\r\n\t}\r\n\tcase 'SET_USER_BY_TOKEN': {\r\n\t\treturn action.data\r\n\t}\r\n\tcase 'USER_LOGIN': {\r\n\t\treturn action.data\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUser = (user) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER',\r\n\t\t\tdata: user \r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const setUserByToken = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst user = await userService.getByToken(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER_BY_TOKEN',\r\n\t\t\tdata: user\r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const userLogin = (loginInfo) => {\r\n\tconst username = loginInfo.username\r\n\tconst password = loginInfo.password\r\n\treturn async dispatch => {\r\n\t\tconst data = await loginService.login({ username, password })\r\n\t\tdispatch({\r\n\t\t\ttype: 'USER_LOGIN',\r\n\t\t\tdata\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst LogoutNoHistory = (props) => {\r\n\tconst handleLogout = () => {\r\n\t\twindow.localStorage.removeItem('oshigameUserToken')\r\n\t\tprops.setToken(null)\r\n\t\tprops.setUser(null)\r\n\t\tprops.setNotification({ content: 'logged out successfully', colour: 'green' }, 5)\r\n\t\tprops.history.push('/')\r\n\t}\r\n\r\n\treturn <Button onClick={handleLogout}>logout</Button>\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUser,\r\n\tsetToken\r\n}\r\n\r\nconst Logout = withRouter(LogoutNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Logout from './Logout'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst CurrentUser = (props) => {\r\n\tif (props.user) {\r\n\t\treturn (\r\n\t\t\t<Grid columns={2}>\r\n\t\t\t\t<Grid.Column width={9} verticalAlign='middle'>\r\n\t\t\t\t\t<div>{props.user.displayname}</div>\r\n\t\t\t\t\t<div>assest: {props.user.assest}</div>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={1}>\r\n\t\t\t\t\t<Logout />\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnull\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrentUser)","import axios from 'axios'\r\nconst baseUrl = '/api/resetDB'\r\n\r\nconst resetDB = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { resetDB }","import React, { useState } from 'react'\r\nimport resetService from '../services/reset'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst AdminMenu = (props) => {\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleConfirmCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleConfirmConfirm = async () => {\r\n\t\tawait resetService.resetDB(props.token)\r\n\t\tprops.setNotification({ content: 'database reseted', colour: 'orange' }, 5)\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/cpkeys\">cpkeys</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/users\">users</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/negotiations\">negotiations</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/new_member\">add member</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t<Button onClick={handleReset}>RESET DB</Button>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={confirmOpen}\r\n\t\t\t\t\tonCancel={handleConfirmCancel}\r\n\t\t\t\t\tonConfirm={handleConfirmConfirm}\r\n\t\t\t\t/>\r\n\t\t\t</UIMenu.Item>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminMenu)","import React from 'react'\r\nimport CurrentUser from './CurrentUser'\r\nimport AdminMenu from './AdminMenu'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\"\r\n}\r\n\r\nconst Menu = (props) => {\r\n\r\n\tconst extendedMenu = () => {\r\n\t\tif (!props.user) {\r\n\t\t\treturn null\r\n\t\t} else if (!props.user.admin) {\r\n\t\t\treturn (\r\n\t\t\t\t<UIMenu.Item link>\r\n\t\t\t\t\t<Link to=\"/profile\">Profile</Link>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<UIMenu.Item link>\r\n\t\t\t\t\t\t<Link to=\"/profile\">Profile</Link>\r\n\t\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t\t<AdminMenu />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<UIMenu style={style}>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/members\">Members</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t{props.user ? <CurrentUser /> : <Link to=\"/login\"><Button>login / sign up</Button></Link>}\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t{extendedMenu()}\r\n\t\t</UIMenu>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Menu)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Message } from 'semantic-ui-react'\r\n\r\nconst Notification = (props) => {\r\n\r\n\tif (props.notification.content === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Message color={props.notification.colour}>{props.notification.content}</Message>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotification: state.notification\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Notification)","import axios from 'axios'\r\nconst baseUrl = '/api/negotiations'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getBids = async() => {\r\n\tconst response = await axios.get(`${ baseUrl }/currentbids`)\r\n\treturn response.data\r\n}\r\n\r\nconst placeBid = async (newBid, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newBid\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst settle = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(`${ baseUrl }/settle`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, placeBid, settle, getBids }","import negotiationsService from '../services/negotiations'\r\n\r\nconst bidsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\tcase 'ALL_BIDS': {\r\n\t\tconst sortedBids = action.data.sort(sortByBid)\r\n\t\treturn sortedBids\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getBids = () => {\r\n\treturn async dispatch => {\r\n\t\tconst bids = await negotiationsService.getBids()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_BIDS',\r\n\t\t\tdata: bids\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default bidsReducer","import React, { useEffect }  from 'react'\r\nimport { getBids } from '../reducers/bidsReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst TopBids = (props) => {\r\n\tconst {bids, getBids } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tgetBids()\r\n\t}, [getBids])\r\n\r\n\tconst bidsList = () => {\r\n\t\tif (bids.length > 0) {\r\n\t\t\tlet topBids = bids\r\n\t\t\tif (topBids.length > 10) {\r\n\t\t\t\ttopBids = topBids.slice(0, 10)\r\n\t\t\t}\r\n\t\t\treturn topBids.map(b => (\r\n\t\t\t\t<div key={b.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${bids.indexOf(b) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${b.memberId}`}>\r\n\t\t\t\t\t\t\t{b.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` at ${b.bid}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Bids</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Current Top 10 Bids</h3>\r\n\t\t\t{ bidsList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbids: state.bids\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetBids\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBids)","import axios from 'axios'\r\nconst baseUrl = '/api/phrase'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newPhrase, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newPhrase\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import phraseService from '../services/phrase'\r\n\r\nconst phraseReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\tcase 'GET_PHRASE': {\r\n\t\treturn action.data\r\n\t}\r\n\tcase 'CHANGE_PHRASE': {\r\n\t\treturn action.data\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const checkPhrase = () => {\r\n\treturn async dispatch => {\r\n\t\tconst phrase = await phraseService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_PHRASE',\r\n\t\t\tdata: phrase[0].phrase\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changePhrase = (newPhrase, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedPhrase = await phraseService.change(newPhrase, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_PHRASE',\r\n\t\t\tdata: updatedPhrase.phrase\r\n\t\t})\r\n\t\treturn updatedPhrase\r\n\t}\r\n}\r\n\r\nexport default phraseReducer","import React, { useState } from 'react'\r\nimport TopBids from './TopBids'\r\nimport { changePhrase } from '../reducers/phraseReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Select, Grid } from 'semantic-ui-react'\r\n\r\nconst phraseList = ['general', 'negotiation']\r\nconst phraseOptions = phraseList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nconst Home = (props) => {\r\n\tconst [newPhrase, setNewPhrase] = useState(null)\r\n\r\n\tconst phraseChanger = () => {\r\n\t\tconst handlePhraseChange = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\ttry {\r\n\t\t\t\tconst phrase = {\r\n\t\t\t\t\t'phrase': newPhrase\r\n\t\t\t\t}\r\n\t\t\t\tconst changedPhrase = await props.changePhrase(phrase, props.token)\r\n\t\t\t\tsetNewPhrase(null)\r\n\t\t\t\tprops.setNotification({ content: `phrase is changed to \"${changedPhrase.phrase}\"`, colour: 'green' }, 5)\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (props.user) {\r\n\t\t\tif (props.user.admin) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form onSubmit={handlePhraseChange}>\r\n\t\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\t\tlabel='Change Phrase to: '\r\n\t\t\t\t\t\t\toptions={phraseOptions}\r\n\t\t\t\t\t\t\tplaceholder='new phrase'\r\n\t\t\t\t\t\t\tonChange={(e, data) => setNewPhrase(data.value)}\r\n\t\t\t\t\t\t\tvalue={newPhrase}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\">Change</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst notice = () => {\r\n\t\tconst greenText = {\r\n\t\t\tcolor: 'lime'\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Current Notes</h3>\r\n\t\t\t\t<div>1. The app is NOT responsive. Please use the app on computers.</div>\r\n\t\t\t\t<div>2. Client side is NOT synchronized witht the server automaticially. Please manually <span style={greenText}>REFRESH</span> the page to obtain the latest data.</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Welcome to Oshigame</h2>\r\n\t\t\t<h3>phrase: {props.phrase} </h3>\r\n\t\t\t{phraseChanger()}\r\n\t\t\t<Grid column={2}>\r\n\t\t\t\t<Grid.Column width={10}>\r\n\t\t\t\t\t{notice()}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={5}>\r\n\t\t\t\t\t<TopBids />\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tphrase: state.phrase,\r\n\t\tuser: state.user,\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tchangePhrase,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import negotiationsService from '../services/negotiations'\r\n\r\nconst negotiationsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\tcase 'ALL_NEGOTIATIONS': {\r\n\t\tconst sortedNegotiations = action.data.sort(sortByBid)\r\n\t\treturn sortedNegotiations\r\n\t}\r\n\tcase 'BID_PLACED': {\r\n\t\treturn state.concat(action.data)\r\n\t}\r\n\tcase 'CLEAR_NEGOTIATIONS': {\r\n\t\treturn []\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allNegotiations = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst negotiations = await negotiationsService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NEGOTIATIONS',\r\n\t\t\tdata: negotiations\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const bidding = (bid, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst negotiation = await negotiationsService.placeBid(bid, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'BID_PLACED',\r\n\t\t\tdata: negotiation\r\n\t\t})\r\n\t\treturn negotiation\r\n\t}\r\n}\r\n\r\nexport const clearNegotiations = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'CLEAR_NEGOTIATIONS'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default negotiationsReducer","import axios from 'axios'\r\nconst baseUrl = '/api/members'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst addMember = async (newMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newMember }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addMember }","import memberService from '../services/members'\r\n\r\nconst membersReducer = (state = [], action) => {\r\n\r\n\tconst sortFunctionByGen = (a, b) => {\r\n\t\tconst genA = a.generation.sortValue\r\n\t\tconst genB = b.generation.sortValue\r\n\t\treturn genA - genB\r\n\t}\r\n\r\n\tconst sortFunctionByTeam = (x, y) => {\r\n\t\tconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\n\t\tlet teamX = teamList.indexOf(x.team[0])\r\n\t\tlet teamY = teamList.indexOf(y.team[0])\r\n\t\tif (teamX + teamY === 8) {\r\n\t\t\tteamX = x.team.length === 2 ? teamList.indexOf(x.team[1]) : 999\r\n\t\t\tteamY = y.team.length === 2 ? teamList.indexOf(y.team[1]) : 999\r\n\t\t}\r\n\t\treturn teamX - teamY\t\r\n\t}\r\n\r\n\tconst sortFunctionByFirstname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.firstname\r\n\t\tconst nameB = b.name_e.firstname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByLastname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.lastname\r\n\t\tconst nameB = b.name_e.lastname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaLastName = (a, b) => {\r\n\t\tconst katakanaList = 'アイウエオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂツヅテデトドナニヌネノハバヴパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヷヰヸヱヹヲヺンー'\r\n\t\tconst minLength = Math.min(a.name_k.lastname.length, b.name_k.lastname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.lastname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.lastname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.lastname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.lastname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaFirstName = (a, b) => {\r\n\t\tconst katakanaList = 'アイウエオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂツヅテデトドナニヌネノハバヴパヒビピフブプヘベペホボポマミムメモヤユヨラリルレロワヷヰヸヱヹヲヺンー'\r\n\t\tconst minLength = Math.min(a.name_k.firstname.length, b.name_k.firstname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.firstname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.firstname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.firstname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.firstname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKks = (a, b) => {\r\n\t\tconst kksA = a.kks ? 99 : 1\r\n\t\tconst kksB = b.kks ? 99 : 1\r\n\t\treturn kksA - kksB\r\n\t}\r\n\r\n\tconst englishNameSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByFirstname_e)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByLastname_e)\r\n\t\treturn sortingMembers\r\n\t}\r\n\r\n\tconst katakanaSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaFirstName)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaLastName)\r\n\t\treturn sortingMembers\r\n\t}\r\n\t\r\n\tconst defaultSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = katakanaSort(sortingMembers)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKks)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByTeam)\r\n\t\treturn sortingMembers\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\tcase 'INIT_MEMBERS': {\r\n\t\tconst sortedMember = defaultSort(action.data)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'ADD_MEMBER': {\r\n\t\tlet newState = state.concat(action.data)\r\n\t\tnewState = defaultSort(newState)\r\n\t\treturn newState\r\n\t}\r\n\tcase 'MEMBERSORT_DEFAULT': {\r\n\t\tlet sortedMember = state.slice(0)\r\n\t\tsortedMember = defaultSort(sortedMember)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'MEMBERSORT_GENERATION': {\r\n\t\tlet sortedMember = state.slice(0)\r\n\t\tsortedMember = sortedMember.sort(sortFunctionByGen)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'MEMBERSORT_TEAM': {\r\n\t\tlet sortedMember = state.slice(0)\r\n\t\tsortedMember = sortedMember.sort(sortFunctionByTeam)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'MEMBERSORT_ENGLISHNAME': {\r\n\t\tlet sortedMember = state.slice(0)\r\n\t\tsortedMember = englishNameSort(sortedMember)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'MEMBERSORT_KATAKANA': {\r\n\t\tlet sortedMember = state.slice(0)\r\n\t\tsortedMember = katakanaSort(sortedMember)\r\n\t\treturn sortedMember\r\n\t}\r\n\tcase 'UPDATE_MEMBER_BID': {\r\n\t\tconsole.log(action.data)\r\n\t\tconst newState = state.map(m => m.id === action.data.id ? action.data : m)\r\n\t\treturn newState\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeMembers = () => {\r\n\treturn async dispatch => {\r\n\t\tconst members = await memberService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_MEMBERS',\r\n\t\t\tdata: members\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewMember = (member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedMember = await memberService.addMember(member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_MEMBER',\r\n\t\t\tdata: addedMember\r\n\t\t})\r\n\t\treturn addedMember\r\n\t}\r\n}\r\n\r\nexport const sortMembersByDefault = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_DEFAULT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByGen = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_GENERATION'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByTeam = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_TEAM'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByEnglishName = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_ENGLISHNAME'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByKatakana = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_KATAKANA'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateMemberBid = (memberUpdate) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_MEMBER_BID',\r\n\t\t\tdata: memberUpdate\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default membersReducer","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { bidding } from '../reducers/negotiationsReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { updateMemberBid } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Grid, Table } from 'semantic-ui-react'\r\n\r\nconst Member = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [bid, setBid] = useState('')\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst bidFormStyle = props.phrase === 'negotiation' && props.user ? { display: 'inline' } : { display: 'none'}\r\n\r\n\tuseEffect (() => {\r\n\t\tif (shownMember) {\r\n\t\t\tsetBid(shownMember.negotiation ? shownMember.negotiation.bid + 10 : shownMember.value)\r\n\t\t}\r\n\t}, [shownMember])\r\n\r\n\tif (shownMember) {\r\n\r\n\t\tconst handleBid = async (event) => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst newBid = {\r\n\t\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\t\tbid,\r\n\t\t\t\t\t\ttradeType: 'bid'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst placedBid = await props.bidding(newBid, props.token)\r\n\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\tconst memberUpdate = {\r\n\t\t\t\t\t\t...shownMember,\r\n\t\t\t\t\t\t'negotiation': {\r\n\t\t\t\t\t\t\t'member': placedBid.member,\r\n\t\t\t\t\t\t\t'bid': placedBid.bid,\r\n\t\t\t\t\t\t\t'tradeType': placedBid.tradeType,\r\n\t\t\t\t\t\t\t'applicant': placedBid.applicant,\r\n\t\t\t\t\t\t\t'id': placedBid.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprops.updateMemberBid(memberUpdate)\r\n\t\t\t\t\tsetBid(shownMember.value)\r\n\t\t\t\t\tprops.setNotification({ content: `a bid of $${bid} is placed for signing ${shownMember.name_j}`, colour: 'green' }, 5)\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst bday = shownMember.birthday.substring(0, 10)\r\n\r\n\t\tconst currentBid = () => {\r\n\t\t\tif (!shownMember.negotiation) {\r\n\t\t\t\treturn 'none'\r\n\t\t\t} else {\r\n\t\t\t\tif (props.user) {\r\n\t\t\t\t\treturn `${shownMember.negotiation.bid} from ${props.user.id === shownMember.negotiation.applicant? 'YOU' : 'other user'}.`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '---'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{shownMember.name_j}</h2>\r\n\t\t\t\t<div>{shownMember.name_k.firstname}　{shownMember.name_k.lastname}</div>\r\n\t\t\t\t<Grid columns={2}>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={5}>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Form onSubmit={handleBid} style={bidFormStyle}>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tlabel={`Bid: (highest bid at the moment: ${currentBid()})`}\r\n\t\t\t\t\t\tplaceholder={bid}\r\n\t\t\t\t\t\tonChange={({ target }) => setBid(target.value)}\r\n\t\t\t\t\t\tvalue={bid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\tPlace Bid\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Link to={'/members'}>\r\n                    <Button>back</Button>\r\n                </Link>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tMember Not found\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tphrase: state.phrase\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tbidding,\r\n\tsetUserByToken,\r\n\tupdateMemberBid\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Member)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { sortMembersByDefault, sortMembersByEnglishName, sortMembersByGen, sortMembersByTeam, sortMembersByKatakana } from '../reducers/membersReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid, Button, Select } from 'semantic-ui-react'\r\n\r\nconst teamList = ['All Teams', 'Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions = teamList.map(t => {return { key: t, text: t, value: t }})\r\n\r\nconst genList = ['All Generations', '1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\n\r\nconst agencyList = ['All Agency', 'Free Only']\r\nconst agencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\r\nconst Members = props => {\r\n\r\n\tconst [teamFilter, setTeamFilter] = useState('All Teams')\r\n\tconst [genFilter, setGenFilter] = useState('All Generations')\r\n\tconst [agencyFilter, setAgencyFilter] = useState('All Agency')\r\n\r\n\tif (props.members.length > 0) {\r\n\t\tconst resetFilters = () => {\r\n\t\t\tsetTeamFilter('All Teams')\r\n\t\t\tsetGenFilter('All Generations')\r\n\t\t\tsetAgencyFilter('All Agency')\r\n\t\t}\r\n\r\n        const memberSpan = () => {\r\n\t\t\tlet filteredMembers = props.members\r\n\t\t\tfilteredMembers = teamFilter === 'All Teams' ? filteredMembers : filteredMembers.filter(m => m.team.includes(teamFilter))\r\n\t\t\tfilteredMembers = genFilter === 'All Generations' ? filteredMembers : filteredMembers.filter(m => m.generation.name === genFilter)\r\n\t\t\tfilteredMembers = agencyFilter === 'All Agency' ? filteredMembers : filteredMembers.filter(m => m.agency == null)\r\n\t\t\tconst borderStyle = (team) => {\r\n\t\t\t\tlet teamColor = ''\r\n\t\t\t\tswitch(team) {\r\n\t\t\t\t\tcase 'Team A': {\r\n\t\t\t\t\t\tteamColor = '#ff66ff'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Team K': {\r\n\t\t\t\t\t\tteamColor = '#00cc00'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Team B': {\r\n\t\t\t\t\t\tteamColor = '#3399ff'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Team 4': {\r\n\t\t\t\t\t\tteamColor = 'Yellow'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\tteamColor = 'black'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tborder: `5px solid ${teamColor}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tif (filteredMembers.length > 0) {\r\n\t\t\t\treturn filteredMembers.map(m => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Column key={m.id}>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t\t<img src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={borderStyle(m.team[0])} />\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<p>{m.name_e.firstname} {m.name_e.lastname}</p>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn <div> No Matching Member</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Members</h2>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={12}>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByDefault} content='Default'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByTeam} content='Team'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByKatakana} content='Name (Katakana)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByEnglishName} content='Name (English)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByGen} content='Generation'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column width={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tFilters :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={12}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={teamOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setTeamFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={teamFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setGenFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={genFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={agencyOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setAgencyFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={agencyFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button onClick={resetFilters} content='Clear'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={5}>\r\n\t\t\t\t\t{memberSpan()}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tLoading...\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsortMembersByDefault,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByKatakana\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Members)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { userLogin } from '../reducers/userReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoginNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\tconst handleLogin = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst loginInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tpassword\r\n\t\t\t}\r\n\r\n\t\t\tconst loggedUser = await props.userLogin(loginInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetPassword('')\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t'oshigameUserToken', JSON.stringify(loggedUser.token)\r\n\t\t\t)\r\n\t\t\tprops.setToken(loggedUser.token)\r\n\t\t\tconst user = await props.setUserByToken(loggedUser.token)\r\n\t\t\tprops.history.push('/')\r\n\t\t\tprops.setNotification({ content: `successfully logged in as ${user.displayname}`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: 'wrong user name or password', colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleLogin} padding=\"5\" >\r\n\t\t\t<Form.Input \r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='username'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword(target.value)}\r\n\t\t\t\tvalue={password}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">login</Button>\r\n\t\t\t<Link to=\"/sign_up\"><Button color='pink' >Sign Up</Button></Link>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetToken,\r\n\tsetUserByToken,\r\n\tuserLogin\r\n}\r\n\r\nconst LoginForm = withRouter(LoginNoHistory)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)","import React from 'react'\r\nimport LoginForm from './LoginForm'\r\n\r\nconst Login = () => (\r\n\t<div>\r\n\t\t<h2>Log in to Oshigame</h2>\r\n\t\t<LoginForm />\r\n\t</div>\r\n)\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport userService from '../services/users'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst SignUpNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [displayname, setDisplayname] = useState('')\r\n\tconst [password_1, setPassword_1] = useState('')\r\n\tconst [password_2, setPassword_2] = useState('')\r\n\tconst [createkey, setCreatekey] = useState('')\r\n\r\n\tconst submit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!username || !displayname || !password_1 || !password_2 || !createkey) {\r\n\t\t\tprops.setNotification({ content: 'one or more entries missing', colour: 'red' }, 5)\r\n\t\t\treturn \r\n\t\t}\r\n\t\tif (password_1 !== password_2) {\r\n\t\t\tprops.setNotification({ content: 'passwords have to be the same', colour: 'red' }, 5)\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tdisplayname,\r\n\t\t\t\tpassword: password_1,\r\n\t\t\t\tcreatekey\r\n\t\t\t}\r\n\t\t\tconst createdUser = await userService.addUser(newUserInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetDisplayname('')\r\n\t\t\tsetPassword_1('')\r\n\t\t\tsetPassword_2('')\r\n\t\t\tsetCreatekey('')\r\n\t\t\tprops.history.push('/login')\r\n\t\t\tprops.setNotification({ content: `account for ${createdUser.username} is created successfully`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submit}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='e.g. Fans0048'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='name for display'\r\n\t\t\t\tplaceholder='e.g. The Legenary Idol Agency'\r\n\t\t\t\tonChange={({ target }) => setDisplayname(target.value)}\r\n\t\t\t\tvalue={displayname}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_1(target.value)}\r\n\t\t\t\tvalue={password_1}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tplaceholder='password (please type again)'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_2(target.value)}\r\n\t\t\t\tvalue={password_2}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='create-key'\r\n\t\t\t\tplaceholder='create-key (provided by admin)'\r\n\t\t\t\tonChange={({ target }) => setCreatekey(target.value)}\r\n\t\t\t\tvalue={createkey}\r\n\t\t\t/>\r\n\t\t\t<Button color='pink' type=\"submit\">Submit</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nconst SignUpForm = withRouter(SignUpNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUpForm)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Profile = (props) => {\r\n\tconst { user, members } = props\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tif (user) {\r\n\r\n\t\tconst oshimenList = (u) => {\r\n\t\t\tconst oshimens = u.oshimens.map(m => m.nickname)\r\n\t\t\treturn u.oshimens.length > 0 ? oshimens.join(', ') : 'none'\r\n\t\t}\r\n\r\n\t\tconst negotiationList = (u) => {\r\n\t\t\tif (u.negotiations.length > 0) {\r\n\t\t\t\tconst digestedList = u.negotiations.map(n => {\r\n\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t})\r\n\t\t\t\treturn digestedList.join(', ')\r\n\t\t\t} else {\r\n\t\t\t\treturn 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Profile</h2>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3 style={headstyle}>{user.username}</h3>\r\n\t\t\t\t\t<div>displayname: {user.displayname}</div>\r\n\t\t\t\t\t<div>assest: {user.assest}</div>\r\n\t\t\t\t\t<div>admin: {user.admin ? \"Yes\" : \"No\"}</div>\r\n\t\t\t\t\t<div>oshimens: {oshimenList(user)} </div>\r\n\t\t\t\t\t<div>negotiations: {negotiationList(user)} </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <div>loading...</div>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import axios from 'axios'\r\nconst baseUrl = '/api/cpkeys'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst addKey = async (key, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { key }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addKey }","import cpkeysService from '../services/cpkeys'\r\n\r\nconst cpkeysReducer = (state = [], action) => {\r\n\tconst sortByKey = (a, b) => {\r\n\t\tconst keyA = a.key\r\n\t\tconst keyB = b.key\r\n\t\tif (keyA < keyB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (keyB < keyA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\tcase 'ALL_KEYS': {\r\n\t\tconst sortedKey = action.data.sort(sortByKey)\r\n\t\treturn sortedKey\r\n\t}\r\n\tcase 'ADD_KEY': {\r\n\t\tconst newState = state.concat(action.data)\r\n\t\treturn newState.slice(0).sort(sortByKey)\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allKeys = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst cpkeys = await cpkeysService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_KEYS',\r\n\t\t\tdata: cpkeys\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewKey = (key, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedKey = await cpkeysService.addKey(key, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_KEY',\r\n\t\t\tdata: addedKey\r\n\t\t})\r\n\t\treturn addedKey\r\n\t}\r\n}\r\n\r\nexport default cpkeysReducer","import React, { useState } from 'react'\r\nimport { addNewKey } from '../reducers/cpkeysReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CpkeyForm = (props) => {\r\n\tconst [newCpkey, setNewCpkey] = useState('')\r\n\r\n\tconst handleAddKey = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst addedKey = await props.addNewKey(newCpkey, props.token)\r\n\t\t\tsetNewCpkey('')\r\n\t\t\tprops.setNotification({ content: `key \"${addedKey.key}\" is added`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAddKey}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new CP-Key'\r\n\t\t\t\tplaceholder='new CP-Key'\r\n\t\t\t\tonChange={({ target }) => setNewCpkey(target.value)}\r\n\t\t\t\tvalue={newCpkey}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">ADD KEY</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewKey\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpkeyForm)","import React, { useEffect }  from 'react'\r\nimport CpkeyForm from './CpkeyForm'\r\nimport { allKeys } from '../reducers/cpkeysReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Cpkeys = (props) => {\r\n\tconst { token, user, allKeys, cpkeys } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallKeys(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allKeys])\r\n\r\n\tconst cpkeysList = () => {\r\n\t\tif (cpkeys.length > 0) {\r\n\t\t\treturn cpkeys.map(k => <div key={k.id}>{k.key}</div>)\r\n\t\t} else {\r\n\t\t\treturn <div>no available keys</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Cpkeys</h2>\r\n\t\t\t<CpkeyForm />\r\n\t\t\t{ cpkeysList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tcpkeys: state.cpkeys\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallKeys\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cpkeys)","import usersService from '../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n\tconst sortByUsername = (a, b) => {\r\n\t\tconst usernameA = a.username\r\n\t\tconst usernameB = b.username\r\n\t\tif (usernameA < usernameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (usernameB < usernameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\tcase 'ALL_USERS': {\r\n\t\tconst sortedUser = action.data.sort(sortByUsername)\r\n\t\treturn sortedUser\r\n\t}\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allUsers = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst users = await usersService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_USERS',\r\n\t\t\tdata: users\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default usersReducer","import React, { useEffect }  from 'react'\r\nimport { allUsers } from '../reducers/usersReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Users = (props) => {\r\n\tconst {token, user, users, members, allUsers } = props\r\n\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallUsers(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allUsers])\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tconst oshimenList = (u) => {\r\n\t\tconst oshimens = u.oshimens.map(m => m.name_j)\r\n\t\treturn u.oshimens.length > 0 ? oshimens.join(', ') : 'none'\r\n\t}\r\n\r\n\tconst negotiationList = (u) => {\r\n\t\tif (u.negotiations.length > 0) {\r\n\t\t\tconst digestedList = u.negotiations.map(n => {\r\n\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\tconst name = member[0].name_j\r\n\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t})\r\n\t\t\treturn digestedList.join(', ')\r\n\t\t} else {\r\n\t\t\treturn 'none'\r\n\t\t}\r\n\t}\r\n\r\n\tconst usersList = () => {\r\n\t\tif (users.length > 0) {\r\n\t\t\treturn users.map(u => (\r\n\t\t\t\t<div key={u.id}>\r\n\t\t\t\t\t<h3 style={headstyle}>{u.username}</h3>\r\n\t\t\t\t\t<div>displayname: {u.displayname}</div>\r\n\t\t\t\t\t<div>assest: {u.assest}</div>\r\n\t\t\t\t\t<div>admin: {u.admin ? \"Yes\" : \"No\"}</div>\r\n\t\t\t\t\t<div>oshimens: {oshimenList(u)} </div>\r\n\t\t\t\t\t<div>negotiations: {negotiationList(u)} </div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>loading...</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Users</h2>\r\n\t\t\t{ usersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tusers: state.users,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallUsers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import React, { useEffect }  from 'react'\r\nimport { allNegotiations, clearNegotiations } from '../reducers/negotiationsReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst Negotiations = (props) => {\r\n\tconst {token, user, negotiations, allNegotiations, clearNegotiations } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallNegotiations(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allNegotiations])\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tconst negotiationsList = () => {\r\n\t\tif (negotiations.length > 0) {\r\n\t\t\treturn negotiations.map(n => (\r\n\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t<h3 style={headstyle}>{n.member.name_j}</h3>\r\n\t\t\t\t\t<div>current bid: {n.bid}</div>\r\n\t\t\t\t\t<div>applicant: {n.applicant.username}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Negotiations</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSettle = async () => {\r\n\t\ttry {\r\n\t\t\tawait negotiationsService.settle(props.token)\r\n\t\t\tprops.setNotification({ content: 'negotiations have been settled', colour: 'green' }, 5)\r\n\t\t\tclearNegotiations()\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Negotiations</h2>\r\n\t\t\t<Button onClick={handleSettle}> Settle </Button>\r\n\t\t\t{ negotiationsList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tnegotiations: state.negotiations\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallNegotiations,\r\n\tclearNegotiations,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Negotiations)","import React, { useState } from 'react'\r\nimport { addNewMember } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button, Select, Radio } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst genList = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\nconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions1 = teamList.map(t => {return { key: t, text: t, value: t }})\r\nconst teamOptions2 = teamList.concat('No Kennin').map(t => {return { key: t, text: t, value: t }})\r\n\r\nconst MemberForm = (props) => {\r\n\tconst [firstname_e, setFirstname_e] = useState('')\r\n\tconst [lastname_e, setLastname_e] = useState('')\r\n\tconst [name_j, setName_j] = useState('')\r\n\tconst [firstname_k, setFirstname_k] = useState('')\r\n\tconst [lastname_k, setLastname_k] = useState('')\r\n\tconst [nickname, setNickname] = useState('')\r\n\tconst [birthday, setBirthday] = useState('')\r\n\tconst [hometown, setHometown] = useState('')\r\n\tconst [generation, setGeneration] = useState('')\r\n\tconst [pic_link, setPic_link] = useState('')\r\n\tconst [team1, setTeam1] = useState(null)\r\n\tconst [team2, setTeam2] = useState(null)\r\n\tconst [current, setCurrent] = useState(true)\r\n\tconst [kks, setKks] = useState(false)\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetFirstname_e('')\r\n\t\tsetLastname_e('')\r\n\t\tsetName_j('')\r\n\t\tsetFirstname_k('')\r\n\t\tsetLastname_k('')\r\n\t\tsetNickname('')\r\n\t\tsetBirthday('')\r\n\t\tsetHometown('')\r\n\t\tsetGeneration('')\r\n\t\tsetPic_link('')\r\n\t\tsetTeam1('')\r\n\t\tsetTeam2(null)\r\n\t\tsetCurrent(true)\r\n\t\tsetKks(false)\r\n\t}\r\n\r\n\tconst handleAddMember = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst newMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst addedMember = await props.addNewMember(newMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${addedMember.name_j}\" is added`, colour: 'green' }, 5)\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 5)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>New Member</h2>\r\n\t\t\t<Form onSubmit={handleAddMember}>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (English)'\r\n\t\t\t\t\t\tplaceholder='First name'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_e(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (English)'\r\n\t\t\t\t\t\tplaceholder='Last name'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_e(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Full name (Japanese Kanji)'\r\n\t\t\t\t\tplaceholder='お名前'\r\n\t\t\t\t\tonChange={({ target }) => setName_j(target.value)}\r\n\t\t\t\t\tvalue={name_j}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (Katakana)'\r\n\t\t\t\t\t\tplaceholder='ナマエ'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_k(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (Katakana)'\r\n\t\t\t\t\t\tplaceholder='ミョウジ'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_k(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Nickname'\r\n\t\t\t\t\t\tplaceholder='Nickname'\r\n\t\t\t\t\t\tonChange={({ target }) => setNickname(target.value)}\r\n\t\t\t\t\t\tvalue={nickname}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Birthday'\r\n\t\t\t\t\t\tplaceholder='YYYY-MM-DD'\r\n\t\t\t\t\t\tonChange={({ target }) => setBirthday(target.value)}\r\n\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Hometown'\r\n\t\t\t\t\t\tplaceholder='Hometown'\r\n\t\t\t\t\t\tonChange={({ target }) => setHometown(target.value)}\r\n\t\t\t\t\t\tvalue={hometown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Profile Picture Link'\r\n\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\tonChange={({ target }) => setPic_link(target.value)}\r\n\t\t\t\t\tvalue={pic_link}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Generation'\r\n\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\tplaceholder='Generation'\r\n\t\t\t\t\t\tonChange={(e, data) => setGeneration(data.value)}\r\n\t\t\t\t\t\tvalue={generation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Main)'\r\n\t\t\t\t\t\toptions={teamOptions1}\r\n\t\t\t\t\t\tplaceholder='Team (Main)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam1(data.value)}\r\n\t\t\t\t\t\tvalue={team1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Kennin)'\r\n\t\t\t\t\t\toptions={teamOptions2}\r\n\t\t\t\t\t\tplaceholder='Team (Kennin)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam2(data.value)}\r\n\t\t\t\t\t\tvalue={team2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Membership</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Current'\r\n\t\t\t\t\t\tchecked={current === true}\r\n\t\t\t\t\t\tonChange={() => setCurrent(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Graduated'\r\n\t\t\t\t\t\tchecked={current === false}\r\n\t\t\t\t\t\tonChange={() => setCurrent(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Status</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Regular'\r\n\t\t\t\t\t\tchecked={kks === false}\r\n\t\t\t\t\t\tonChange={() => setKks(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Kenkyosen'\r\n\t\t\t\t\t\tchecked={kks === true}\r\n\t\t\t\t\t\tonChange={() => setKks(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\">ADD MEMBER</Button>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewMember\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberForm)","import React, { useEffect }  from 'react'\nimport { connect } from 'react-redux'\nimport Menu from './components/Menu'\nimport Notification from './components/Notification'\nimport Home from './components/Home'\nimport Member from './components/Member'\nimport Members from './components/Members'\nimport Login from './components/Login'\nimport SignUpForm from './components/SignUpForm'\nimport Profile from './components/Profile'\nimport Cpkeys from './components/Cpkeys'\nimport Users from './components/Users'\nimport Negotiations from './components/Negotiations'\nimport MemberForm from './components/MemberForm'\nimport { initializeMembers } from './reducers/membersReducer'\nimport { setToken } from './reducers/tokenReducer'\nimport { setUserByToken } from './reducers/userReducer'\nimport { checkPhrase } from './reducers/phraseReducer'\nimport {\n\tBrowserRouter as Router,\n\tRoute, Redirect\n} from 'react-router-dom'\nimport { Container } from 'semantic-ui-react'\n\n\nconst App = (props) => {\n\n\tconst { setToken, setUserByToken, initializeMembers, checkPhrase } = props\n\n\tuseEffect (() => {\n\t\tinitializeMembers()\n\t}, [initializeMembers])\n\n\tuseEffect (() => {\n\t\tcheckPhrase()\n\t})\n\n\tuseEffect (() => {\n\t\tconst loggedUserTokenJSON = window.localStorage.getItem('oshigameUserToken')\n\n\t\tif (loggedUserTokenJSON) {\n\t\t\tconst savedToken = JSON.parse(loggedUserTokenJSON)\n\t\t\tsetToken(savedToken)\n\t\t\tsetUserByToken(savedToken)\n\t\t}\n\t}, [setToken, setUserByToken])\n\n\tconst memberById = (id) => {\n    return props.members.find(m => m.id === id)\n  }\n\n\treturn (\n\t\t<Container>\n\t\t\t<Router>\n\t\t\t\t<div>\n\t\t\t\t\t<Route path=\"/\" render={() =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Menu />\n\t\t\t\t\t\t\t<Notification />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/\" render={() =>\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/login\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <Login />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/sign_up\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <SignUpForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members\" render={() =>\n\t\t\t\t\t\t<Members />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members/:id\" render={({ match }) =>\n\t\t\t\t\t\t<Member shownMember={memberById(match.params.id)} />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/profile\" render={() =>\n\t\t\t\t\t\t<Profile />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/cpkeys\" render={() =>\n\t\t\t\t\t\t<Cpkeys />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/users\" render={() =>\n\t\t\t\t\t\t<Users />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/negotiations\" render={() =>\n\t\t\t\t\t\t<Negotiations />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/new_member\" render={() =>\n\t\t\t\t\t\t<MemberForm />\n\t\t\t\t\t} />\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmembers: state.members,\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetToken,\n\tsetUserByToken,\n\tinitializeMembers,\n\tcheckPhrase\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport membersReducer from './reducers/membersReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport tokenReducer from './reducers/tokenReducer'\r\nimport cpkeysReducer from './reducers/cpkeysReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport negotiationsReducer from './reducers/negotiationsReducer'\r\nimport phraseReducer from './reducers/phraseReducer'\r\nimport bidsReducer from './reducers/bidsReducer'\r\n\r\nconst reducer = combineReducers({\r\n\tmembers: membersReducer,\r\n\tnotification: notificationReducer,\r\n\tuser: userReducer,\r\n\ttoken: tokenReducer,\r\n\tcpkeys: cpkeysReducer,\r\n\tusers: usersReducer,\r\n\tnegotiations: negotiationsReducer,\r\n\tphrase: phraseReducer,\r\n\tbids: bidsReducer\r\n})\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nconst render = () => {\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t)\n}\n\nrender()\nstore.subscribe(render)"],"sourceRoot":""}