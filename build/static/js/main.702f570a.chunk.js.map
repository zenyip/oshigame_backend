{"version":3,"sources":["components/CurrentUser.js","services/reset.js","reducers/notificationReducer.js","components/AdminMenu.js","reducers/tokenReducer.js","services/login.js","services/users.js","reducers/userReducer.js","components/Logout.js","components/Menu.js","components/Notification.js","services/negotiations.js","reducers/bidsReducer.js","components/TopBids.js","components/TopValues.js","components/TopPopularity.js","components/Loading.js","components/Banner.js","reducers/shownNoticeReducer.js","components/Home.js","services/members.js","reducers/membersReducer.js","components/modules/remainTime.js","components/NegoPayriseForm.js","components/NegoBidForm.js","components/NegoOfferForm.js","components/ButtonLateSign.js","components/ButtonRelease.js","services/job.js","components/AssignmentForm.js","components/ButtonAssignmentCancel.js","components/ButtonAssignmentCollect.js","components/Member.js","components/Members.js","components/LoginForm.js","components/Login.js","components/SignUpForm.js","components/User.js","components/PDFCert.js","components/ReportViewer.js","components/ReportDownloader.js","components/Profile.js","reducers/usersReducer.js","components/Users.js","reducers/negotiationsReducer.js","components/Negotiations.js","components/MemberForm.js","services/cpkeys.js","reducers/cpkeysReducer.js","components/CpkeyForm.js","components/Cpkeys.js","services/notices.js","reducers/noticesReducer.js","components/Notices.js","services/certBackground.js","reducers/certBackgroundReducer.js","components/CertBackGroundForm.js","components/CertBackGround.js","components/MissingInfo.js","components/Controls.js","services/time.js","reducers/timeReducer.js","reducers/displaynamesReducer.js","services/phrase.js","reducers/phraseReducer.js","App.js","store.js","index.js"],"names":["style","marginBottom","connect","state","user","props","fluid","widths","Item","Grid","Column","verticalAlign","displayname","assest","token","a","async","config","headers","Authorization","axios","post","response","data","initialState","content","colour","setNotification","message","time","ms","dispatch","type","header","listing","Promise","resolve","setTimeout","notificationReducer","action","newMessage","mapDispatchToProps","useState","confirmOpen","setConfirmOpen","linkStyle","textDecoration","color","Fragment","link","to","Button","onClick","Confirm","open","onCancel","onConfirm","resetService","setToken","newToken","tokenReducer","credentials","get","setUserByToken","userService","userReducer","setUser","Logout","withRouter","handleLogout","window","localStorage","removeItem","history","push","Responsive","onlyMobile","Icon","name","minWidth","onlyTablet","admin","inverted","adminMenu","quickSilent","notification","active","Dimmer","page","Message","list","Header","newBid","newOffer","negotiationId","newForceTrade","newLateSign","newRelease","payriseBody","bidsReducer","sortByBid","b","BidA","bid","sortedBids","sort","getBids","negotiationsService","bids","hoverBid","setHoverBid","useEffect","hidePic","mobile","tablet","computer","length","topBids","slice","map","key","id","indexOf","memberId","onMouseOver","onMouseOut","nickname","bidsList","only","src","pic_link","alt","firstname_e","lastname_e","height","memberPic","members","hoverMember","setHoverMember","sortFunctionByValue","valueA","value","topMembers","m","membersList","name_e","firstname","lastname","sortFunctionByFanSize","fanA","fanSize","Loading","Loader","jobList","randomJob","Math","floor","random","picStyle","display","membersPic","job","workingMembers","filter","randomIndices","showingMembers","i","pendingIndex","includes","width","sylte","className","switchOn","noMore","shownNoticeReducer","newState","noMoreNoticeOn","noMoreNoticeOff","turnOnNotice","turnOffNotice","phrase","notices","shownNotice","shownList","setShownList","handleNoticeClose","Form","Field","control","Select","label","options","text","placeholder","onChange","e","Modal","closeOnDimmerClick","onClose","Content","List","ordered","n","Actions","Checkbox","checked","newMember","updateMember","put","initializeMembers","memberService","membersReducer","sortFunctionByGen","generation","sortValue","sortFunctionByTeam","x","y","teamList","team","sortFunctionByFirstname_e","nameA","nameB","sortFunctionByLastname_e","sortFunctionByKatakanaLastName","katakanaA","katakanaB","katakanaList","minLength","min","name_k","sortFunctionByKatakanaFirstName","sortFunctionByKks","kks","sortFunctionByHometown","prefectureList","hometown","englishNameSort","sortingMembers","katakanaSort","defaultSort","nonT8Members","t8Members","concat","sortedMember","toString","remainTimeMSCal","serverTime","endTime","Date","parse","compo","remainTimeMS","remainTimeS","remainHrs","remainMins","remainS","shownMember","payrise","setPayrise","dummyConfirmOpen","setDummyConfirmOpen","handleDummyClick","event","preventDefault","onSubmit","Input","target","parseInt","amount","updatedMember","name_j","error","setBid","negotiation","tradeType","placedBid","memberUpdate","member","applicant","updateMemberBid","offer","setOffer","forceTradeConfirmOpen","setForceTradeConfirmOpen","lowerLimit","upperLimit","forceTradePrice","recipient","agency","lateSignConfirmOpen","setLateSignConfirmOpen","lateSignPrice","releaseConfirmOpen","setReleaseConfirmOpen","releasePrice","assignment","jobType","setAssignemt","jobService","currentAssest","short","cancelButton","confirmButton","remainTime","fanReward","moneyReward","currentFanSize","bidFormStyle","offerFormStyle","payriseFormStyle","releaseButtonStyle","assignmentFormStyle","lateSignButtonStyle","assignmentCancelStyle","assignmentCollectStyle","oshimens","bday","birthday","substring","Row","columns","Table","striped","unstackable","Body","Cell","join","current","tradable","teamOptions","t","genOptions","g","hometownOptions","p","agencyList","agencyOptions","sortOptions","sortMembersByDefault","sortMembersByGen","sortMembersByTeam","sortMembersByEnglishName","sortMembersByKatakana","sortMembersByHometown","sortMembersByValue","sortMembersByFanSize","teamFilter","setTeamFilter","genFilter","setGenFilter","hometownFilter","setHometownFilter","agencyFilter","setAgencyFilter","currentSort","setCurrentSort","memberSpan","s","filteredMembers","filteringByAgency","profilePicStyle","hidden","colorCheck","checkTeam","teamColor1","teamColor2","opacity","borderTop","borderLeft","borderBottom","borderRight","revealTextStyle","position","top","left","transform","fontSize","lineHeight","textAlign","textShadow","Reveal","animated","instant","visible","Image","quickInfo","method","doSort","userLogin","loginInfo","username","password","loginService","LoginForm","setUsername","setPassword","loggedUser","setItem","JSON","stringify","padding","Login","SignUpForm","setDisplayname","password_1","setPassword_1","password_2","setPassword_2","createkey","setCreatekey","newUserInfo","createdUser","displaynames","shownUser","paddingTop","u","negotiations","biddingList","releasedList","forcedList","sentOfferList","receivedOfferList","digestedBiddingList","biddingSpan","digestedSentOfferList","sentOfferSpan","digestedForcedList","forcedSpan","digestedReleasedList","releasedSpan","negotiationList","jobState","oshimenList","PDFCert","backgroundPic","certBackground","Font","registerHyphenationCallback","word","styles","StyleSheet","create","backgroundColor","backgroundImage","section","margin","pageBackground","minHeight","heading","marginTop","marginHorizontal","paddingHorizontal","paddingVertical","smallText","hyphens","title","subtitle","dateStamp","horizontalView","flexDirection","bestMemberFrame","paddingBottom","flex","bestMemberTitle","bestMemberPic","objectFit","border","borderWidth","borderColor","bestMemberText","sectionHeadText","generalStatTitle","generalStatData","breakLine","marginVertical","borderTopWidth","horizontalViewPadded","memberlistName","memberlistData","now","dummyMember","MPM","maxFans","max","find","MVM","maxValue","MEM","maxFTV","mPicP","pic_forCert","mPicV","mPicE","stat","sum","array","reduce","average","dp","d","pow","totalValue","totalFans","pageTemplate","disaplayname","author","size","orientation","fanSizes","avgFanSize","values","avgValue","FTVs","avgFTV","firstHalf","secondHalf","oshimenPages","document","fileName","blob","url","loading","displayText","showReport","setShowReport","reportStyle","onlyComputer","float","usersReducer","sortByUsername","usernameA","usernameB","sortedUser","allUsers","usersService","users","negotiationsReducer","sortedNegotiations","allNegotiations","clearNegotiations","headstyle","teamOptions1","teamOptions2","addNewMember","addedMember","editExistingMember","editedMember","memberOptions","setFirstname_e","setLastname_e","setName_j","firstname_k","setFirstname_k","lastname_k","setLastname_k","setNickname","setBirthday","setHometown","setGeneration","setPic_link","setPic_forCert","team1","setTeam1","team2","setTeam2","setCurrent","setKks","editMemberID","setEditMemberID","resetForm","lookupMember","checkLink","Group","inline","teams","Radio","cpkeysReducer","sortByKey","keyA","keyB","sortedKey","addNewKey","cpkeysService","addedKey","newCpkey","setNewCpkey","allKeys","cpkeys","k","delete","noticesReducer","addNotice","noticesService","addedNotice","removeNotice","removedNotice","updateNotice","updatedNotice","newNotice","setNewNotice","newImgLink","certBackgroundReducer","changeCertBackground","certBackgroundService","updatedCertBackground","imgLink","setNewImgLink","changedBackground","breakLineStyle","Controls","timeReducer","newTime","displaynamesReducer","phraseReducer","getServerTime","timeService","oneTick","initializeDisplaynames","initializeNotices","checkPhrase","phraseService","getCertBackground","setInterval","loggedUserTokenJSON","getItem","savedToken","Container","Segment","basic","path","render","exact","exaxt","match","params","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById","subscribe"],"mappings":"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","file":"static/js/main.702f570a.chunk.js","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Grid } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\"\r\n}\r\n\r\nconst CurrentUser = (props) => {\r\n\tif (props.user) {\r\n\t\treturn (\r\n\t\t\t<UIMenu style={style} fluid widths={1}>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t<Grid.Column verticalAlign='middle'>\r\n\t\t\t\t\t\t\t<div>{props.user.displayname}</div>\r\n\t\t\t\t\t\t\t<div>Money: ${props.user.assest}</div>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t</UIMenu>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnull\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrentUser)","import axios from 'axios'\r\nconst baseUrl = '/api/resetDB'\r\n\r\nconst resetDB = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { resetDB }","const initialState = { content: null, colour: 'white' }\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'NOTIFY': {\r\n\t\t\tconst newMessage = { header: action.data.header, content: action.data.content, colour: action.data.colour, listing: action.data.listing }\r\n\t\t\treturn newMessage\r\n\t\t}\r\n\t\tcase 'SILENT':\r\n\t\t\treturn { header: null, content: null, colour: 'white', listing: false }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setNotification = (message, time) => {\r\n\tlet ms = 2000\r\n\tif (time === 'long') {\r\n\t\tms = 3000\r\n\t}\r\n\tif (time === 'short') {\r\n\t\tms = 1000\r\n\t}\r\n\tif (time === 'byClick') {\r\n\t\treturn async dispatch => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'NOTIFY',\r\n\t\t\t\tdata: { header: message.header, content: message.content, colour: message.colour, listing: message.listing }\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOTIFY',\r\n\t\t\tdata: { header: message.header, content: message.content, colour: message.colour, listing: message.listing }\r\n\t\t})\r\n\t\tawait new Promise(resolve => setTimeout(resolve, ms))\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const quickSilent = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","import React, { useState } from 'react'\r\nimport resetService from '../services/reset'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst AdminMenu = (props) => {\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleConfirmCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleConfirmConfirm = async () => {\r\n\t\tawait resetService.resetDB(props.token)\r\n\t\tprops.setNotification({ content: 'database reseted', colour: 'orange' }, 'long')\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst linkStyle = {\r\n\t\ttextDecoration: 'none',\r\n\t\tcolor: 'white'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/users\" style={linkStyle}>users</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/negotiations\" style={linkStyle}>negotiations</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/new_member\" style={linkStyle}>edit member</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/controls\" style={linkStyle}>controls</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t<Button onClick={handleReset}>RESET DB</Button>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={confirmOpen}\r\n\t\t\t\t\tonCancel={handleConfirmCancel}\r\n\t\t\t\t\tonConfirm={handleConfirmConfirm}\r\n\t\t\t\t/>\r\n\t\t\t</UIMenu.Item>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminMenu)","const tokenReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'TOKEN_CHANGE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'TOKEN_CLEAR': {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setToken = (newToken) => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CHANGE',\r\n\t\tdata: newToken\r\n\t}\r\n}\r\n\r\nexport const clearToken = () => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CLEAR'\r\n\t}\r\n}\r\n\r\nexport default tokenReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getByToken = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(`${ baseUrl }/byToken`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getDisplaynames = async () => {\r\n\tconst response = await axios.get(`${ baseUrl }/displaynames`)\r\n\treturn response.data\r\n}\r\n\r\nconst addUser = async (data) => {\r\n\tconst response = await axios.post(baseUrl, data)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, getByToken, getDisplaynames, addUser }","import loginService from '../services/login'\r\nimport userService from '../services/users'\r\n\r\nconst userReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'SET_USER': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'SET_USER_BY_TOKEN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'USER_LOGIN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUser = (user) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER',\r\n\t\t\tdata: user \r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const setUserByToken = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst user = await userService.getByToken(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER_BY_TOKEN',\r\n\t\t\tdata: user\r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const userLogin = (loginInfo) => {\r\n\tconst username = loginInfo.username\r\n\tconst password = loginInfo.password\r\n\treturn async dispatch => {\r\n\t\tconst data = await loginService.login({ username, password })\r\n\t\tdispatch({\r\n\t\t\ttype: 'USER_LOGIN',\r\n\t\t\tdata\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { Responsive, Icon } from 'semantic-ui-react'\r\n\r\nconst LogoutNoHistory = (props) => {\r\n\tconst handleLogout = () => {\r\n\t\twindow.localStorage.removeItem('oshigameUserToken')\r\n\t\tprops.setToken(null)\r\n\t\tprops.setUser(null)\r\n\t\tprops.setNotification({ content: 'logged out successfully', colour: 'green' }, 'short')\r\n\t\tprops.history.push('/')\r\n\t}\r\n\r\n\tconst linkStyle = {\r\n\t\ttextDecoration: 'none',\r\n\t\tcolor: 'white'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link onClick={handleLogout} to=\"/\" style={linkStyle}><Icon name='sign out' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='sign out' onClick={handleLogout} />\r\n\t\t\t\t<Link onClick={handleLogout} to='/' style={linkStyle}>Logout</Link>\r\n\t\t\t</Responsive>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUser,\r\n\tsetToken\r\n}\r\n\r\nconst Logout = withRouter(LogoutNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout)","import React from 'react'\r\nimport CurrentUser from './CurrentUser'\r\nimport AdminMenu from './AdminMenu'\r\nimport Logout from './Logout'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Icon, Responsive } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\"\r\n}\r\n\r\nconst linkStyle = {\r\n\ttextDecoration: 'none',\r\n\tcolor: 'white'\r\n}\r\n\r\nconst Menu = (props) => {\r\n\r\n\tconst extendedMenu = () => (props.user ?\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link to=\"/profile\" style={linkStyle}><Icon name='vcard' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='vcard' />\r\n\t\t\t\t<Link to=\"/profile\" style={linkStyle}>Profile</Link>\r\n\t\t\t</Responsive>\r\n\t\t</UIMenu.Item> :\r\n\t\tnull\r\n\t)\r\n\r\n\tconst adminMenu = () => {\r\n\t\tif (props.user) {\r\n\t\t\tif (props.user.admin) {\r\n\t\t\t\treturn <AdminMenu />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst signInOut = () => (props.user ?\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Logout />\r\n\t\t</UIMenu.Item> :\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link to=\"/login\" style={linkStyle}><Icon name='sign in' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='sign in' />\r\n\t\t\t\t<Link to=\"/login\" style={linkStyle}>login / sign up</Link>\r\n\t\t\t</Responsive>\r\n\t\t</UIMenu.Item>\r\n\t)\r\n\r\n\tconst menuWidth = () => {\r\n\t\tif (!props.user) {\r\n\t\t\treturn 3\r\n\t\t} else if (props.user.admin) {\r\n\t\t\treturn 9\r\n\t\t} else {\r\n\t\t\treturn 4\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu style={style} widths={menuWidth()} color='pink' inverted>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}><Icon name='home' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='home' />\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}>Home</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/members\" style={linkStyle}><Icon name='female' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='female' />\r\n\t\t\t\t\t\t<Link to=\"/members\" style={linkStyle}>Members</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t{extendedMenu()}\r\n\t\t\t\t{adminMenu()}\r\n\t\t\t\t{signInOut()}\r\n\t\t\t</UIMenu>\r\n\t\t\t<CurrentUser />\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Menu)","import React from 'react'\r\nimport { quickSilent } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Dimmer, Message } from 'semantic-ui-react'\r\n\r\nconst Notification = (props) => {\r\n\r\n\tif (props.notification.content === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst active = props.notification.content ? true : false\r\n\r\n\r\n\r\n\tif (props.notification.listing) {\r\n\t\treturn (\r\n\t\t\t<Dimmer active={active} page onClick={()=>props.quickSilent()}>\r\n\t\t\t\t<Message color={props.notification.colour} header={props.notification.header} list={props.notification.content} />\r\n\t\t\t</Dimmer>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Dimmer active={active} page onClick={()=>props.quickSilent()}>\r\n\t\t\t\t<Message color={props.notification.colour}>\r\n\t\t\t\t\t<Message.Header>\r\n\t\t\t\t\t\t{props.notification.header}\r\n\t\t\t\t\t</Message.Header>\r\n\t\t\t\t\t{props.notification.content}\r\n\t\t\t\t</Message>\r\n\t\t\t</Dimmer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotification: state.notification\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tquickSilent,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notification)","import axios from 'axios'\r\nconst baseUrl = '/api/negotiations'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getBids = async() => {\r\n\tconst response = await axios.get(`${ baseUrl }/currentbids`)\r\n\treturn response.data\r\n}\r\n\r\nconst placeBid = async (newBid, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newBid\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst sendOffer = async (newOffer, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newOffer\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst acceptOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/accept`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst rejectOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/reject`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst applyForceTrade = async (newForceTrade, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newForceTrade\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst lateSign = async (newLateSign, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newLateSign\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst memberPayrise = async (payriseBody, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = payriseBody\r\n\tconst response = await axios.post(`${ baseUrl }/payrise`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst releaseMember = async (newRelease, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newRelease\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst settle = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(`${ baseUrl }/settle`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default {\r\n\tgetAll,\r\n\tgetBids,\r\n\tsettle,\r\n\tplaceBid,\r\n\tsendOffer,\r\n\tacceptOffer,\r\n\trejectOffer,\r\n\tapplyForceTrade,\r\n\tlateSign,\r\n\treleaseMember,\r\n\tmemberPayrise\r\n}","import negotiationsService from '../services/negotiations'\r\n\r\nconst bidsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_BIDS': {\r\n\t\t\tconst sortedBids = action.data.sort(sortByBid)\r\n\t\t\treturn sortedBids\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getBids = () => {\r\n\treturn async dispatch => {\r\n\t\tconst bids = await negotiationsService.getBids()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_BIDS',\r\n\t\t\tdata: bids\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default bidsReducer","import React, { useEffect, useState }  from 'react'\r\nimport { getBids } from '../reducers/bidsReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopBids = (props) => {\r\n\tconst [hoverBid, setHoverBid] = useState(null)\r\n\r\n\tconst {bids, getBids } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tgetBids()\r\n\t}, [getBids])\r\n\r\n\tconst showPic = (bid) => {\r\n\t\tsetHoverBid(bid)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverBid(null)\r\n\t}\r\n\r\n\tconst bidsList = () => {\r\n\t\tif (bids.length > 0) {\r\n\t\t\tlet topBids = bids\r\n\t\t\tif (topBids.length > 10) {\r\n\t\t\t\ttopBids = topBids.slice(0, 10)\r\n\t\t\t}\r\n\t\t\treturn topBids.map(b => (\r\n\t\t\t\t<div key={b.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${topBids.indexOf(b) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${b.memberId}`} onMouseOver={()=>showPic(b)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t\t{b.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` at ${b.bid}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Bids</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverBid) {\r\n\t\t\treturn <img src={hoverBid.pic_link} alt={`${hoverBid.firstname_e} ${hoverBid.lastname_e}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Current Top 10 Bids</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ bidsList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbids: state.bids\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetBids\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBids)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopValues = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByValue).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{` at ${m.value}`}\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Expensive Members</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopValues)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopPopularity = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByFanSize).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{` with ${m.fanSize} fans`}\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Popular Members</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopPopularity)","import React from 'react'\r\nimport { Dimmer, Loader } from 'semantic-ui-react'\r\n\r\nconst Loading = () => {\r\n\treturn (\r\n\t\t<Dimmer active page>\r\n\t\t\t<Loader>Loading...</Loader>\r\n\t\t</Dimmer>\r\n\t)\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport { Responsive } from 'semantic-ui-react'\r\nimport '../css/animations.css'\r\n\r\nconst Banner = (props) => {\r\n\tconst { members } = props\r\n\r\n\tconst jobList = ['SHOWROOM', 'HANDSHAKE', 'TV']\r\n\tconst randomJob = jobList[Math.floor(Math.random() * (jobList.length))]\r\n\r\n\tconst picStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst membersPic = (job, mobile) => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tconst workingMembers = members.filter(m => {\r\n\t\t\t\tif (m.job) {\r\n\t\t\t\t\tif (m.job.name === job) {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t})\r\n\t\t\tif (workingMembers.length === 0) {\r\n\t\t\t\treturn <div>No Member Currently Working for {job}</div>\r\n\t\t\t}\r\n\t\t\tlet randomIndices = []\r\n\t\t\tlet showingMembers = []\r\n\t\t\tif (workingMembers.length <=3) {\r\n\t\t\t\tshowingMembers = workingMembers\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\t\twhile (randomIndices.length === i) {\r\n\t\t\t\t\t\tconst pendingIndex = Math.floor(Math.random() * (workingMembers.length))\r\n\t\t\t\t\t\tif (!randomIndices.includes(pendingIndex)) {\r\n\t\t\t\t\t\t\trandomIndices.push(pendingIndex)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tshowingMembers = [workingMembers[randomIndices[0]], workingMembers[randomIndices[1]], workingMembers[randomIndices[2]]]\r\n\t\t\t}\r\n\t\t\tlet width='150'\r\n\t\t\tif (mobile) {\r\n\t\t\t\twidth='100'\r\n\t\t\t}\r\n\t\t\treturn showingMembers.map(m => (\r\n\t\t\t\t<img key={m.id} src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} sylte={picStyle} width={width}/>\r\n\t\t\t))\r\n\t\t}\r\n\t\treturn <Loading />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Members Currently Working for {randomJob}</h3>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<div className='banner'>\r\n\t\t\t\t\t{ membersPic(randomJob, false) }\r\n\t\t\t\t</div>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<div className='bannerMobile'>\r\n\t\t\t\t\t{ membersPic(randomJob, true) }\r\n\t\t\t\t</div>\r\n\t\t\t</Responsive>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Banner)","const initialState = {\r\n\tswitchOn: false,\r\n\tnoMore: false\r\n}\r\n\r\nconst shownNoticeReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'NOMORE_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: state.switchOn,\r\n\t\t\t\tnoMore: true\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'COMEBACK_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: state.switchOn,\r\n\t\t\t\tnoMore: false\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'TURNON_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: true,\r\n\t\t\t\tnoMore: state.noMore\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'TURNOFF_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: false,\r\n\t\t\t\tnoMore: state.noMore\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const noMoreNoticeOn = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOMORE_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const noMoreNoticeOff = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'COMEBACK_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const turnOnNotice = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'TURNON_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const turnOffNotice = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'TURNOFF_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport default shownNoticeReducer","import React, { useState, useEffect } from 'react'\r\nimport TopBids from './TopBids'\r\nimport TopValues from './TopValues'\r\nimport TopPopularity from './TopPopularity'\r\nimport Banner from './Banner'\r\nimport { noMoreNoticeOn, noMoreNoticeOff, turnOnNotice, turnOffNotice } from '../reducers/shownNoticeReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Select, List, Modal, Button, Icon, Checkbox } from 'semantic-ui-react'\r\n\r\nconst Home = (props) => {\r\n\tconst { shownNotice,  noMoreNoticeOn, noMoreNoticeOff, turnOnNotice, turnOffNotice } = props\r\n\tconst [shownList, setShownList] = useState('FAN')\r\n\t\r\n\tconst listOptions = [\r\n\t\t{ key: 'list1', text: 'Most Expensive Members', value: 'VALUE' },\r\n\t\t{ key: 'list2', text: 'Most Popular Members', value: 'FAN' },\r\n\t\t{ key: 'list3', text: 'Current Top 10 Bids', value: 'BID' }\r\n\t]\r\n\r\n\tuseEffect (() => {\r\n\t\tif (!shownNotice.noMore) {\r\n\t\t\tturnOnNotice()\r\n\t\t}\r\n\t}, [shownNotice.noMore, turnOnNotice])\r\n\r\n\tconst handleNewsButtonClicked = () => {\r\n\t\tturnOnNotice()\r\n\t}\r\n\r\n\tconst handleNoticeClose = () => {\r\n\t\tturnOffNotice()\r\n\t}\r\n\r\n\tconst notices = () => (\r\n\t\t<div>\r\n\t\t\t<List ordered>\r\n\t\t\t\t{props.notices.map(n => <List.Item key={n.id}>{n.content}</List.Item>)}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst list = () => {\r\n\t\tswitch(shownList) {\r\n\t\t\tcase 'VALUE': {\r\n\t\t\t\treturn <TopValues />\r\n\t\t\t}\r\n\t\t\tcase 'BID': {\r\n\t\t\t\treturn <TopBids />\r\n\t\t\t}\r\n\t\t\tcase 'FAN': {\r\n\t\t\t\treturn <TopPopularity />\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst toggleNoMoreNotice = () => {\r\n\t\tif (shownNotice.noMore) {\r\n\t\t\tnoMoreNoticeOff()\r\n\t\t} else {\r\n\t\t\tnoMoreNoticeOn()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Welcome to Oshigame <Button onClick={handleNewsButtonClicked}><Icon name='newspaper outline' /> What's New</Button></h2>\r\n\t\t\t<Banner />\r\n\t\t\t<h3>phrase: {props.phrase} </h3>\r\n\t\t\t<Form.Field\r\n\t\t\t\tcontrol={Select}\r\n\t\t\t\tlabel='List to Show: '\r\n\t\t\t\toptions={listOptions}\r\n\t\t\t\tplaceholder='Lists'\r\n\t\t\t\tonChange={(e, data) => setShownList(data.value)}\r\n\t\t\t\tvalue={shownList}\r\n\t\t\t/>\r\n\t\t\t{list()}\r\n\t\t\t<Modal open={shownNotice.switchOn} closeOnDimmerClick={false} onClose={handleNoticeClose}>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Content>\r\n\t\t\t\t\t{notices()}\r\n\t\t\t\t</Modal.Content>\r\n\t\t\t\t<Modal.Actions>\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tlabel=\"Don't show again before next visit.\"\r\n\t\t\t\t\t\tchecked={shownNotice.noMore}\r\n\t\t\t\t\t\tonChange={toggleNoMoreNotice}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button onClick={handleNoticeClose}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Actions>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tphrase: state.phrase,\r\n\t\tnotices: state.notices,\r\n\t\tshownNotice: state.shownNotice\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tnoMoreNoticeOn,\r\n\tnoMoreNoticeOff,\r\n\tturnOnNotice,\r\n\tturnOffNotice\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import axios from 'axios'\r\nconst baseUrl = '/api/members'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst addMember = async (newMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newMember }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst editMember = async (id, updateMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { updateMember }\r\n\tconst response = await axios.put(`${ baseUrl }/${ id }`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addMember, editMember }","import memberService from '../services/members'\r\n\r\nconst membersReducer = (state = [], action) => {\r\n\r\n\tconst sortFunctionByGen = (a, b) => {\r\n\t\tconst genA = a.generation.sortValue\r\n\t\tconst genB = b.generation.sortValue\r\n\t\treturn genA - genB\r\n\t}\r\n\r\n\tconst sortFunctionByTeam = (x, y) => {\r\n\t\tconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\n\t\tlet teamX = teamList.indexOf(x.team[0])\r\n\t\tlet teamY = teamList.indexOf(y.team[0])\r\n\t\treturn teamX - teamY\t\r\n\t}\r\n\r\n\tconst sortFunctionByFirstname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.firstname\r\n\t\tconst nameB = b.name_e.firstname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByLastname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.lastname\r\n\t\tconst nameB = b.name_e.lastname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaLastName = (a, b) => {\r\n\t\tconst katakanaList = ''\r\n\t\tconst minLength = Math.min(a.name_k.lastname.length, b.name_k.lastname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.lastname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.lastname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.lastname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.lastname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaFirstName = (a, b) => {\r\n\t\tconst katakanaList = ''\r\n\t\tconst minLength = Math.min(a.name_k.firstname.length, b.name_k.firstname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.firstname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.firstname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.firstname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.firstname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKks = (a, b) => {\r\n\t\tconst kksA = a.kks ? 99 : 1\r\n\t\tconst kksB = b.kks ? 99 : 1\r\n\t\treturn kksA - kksB\r\n\t}\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\t}\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\t}\r\n\r\n\tconst sortFunctionByHometown = (x, y) => {\r\n\t\tconst prefectureList = [\r\n\t\t\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t\t\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t\t\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t\t\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t\t\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t\t\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t\t\t'Taiwan'\r\n\t\t]\r\n\t\tlet prefectureX = prefectureList.indexOf(x.hometown)\r\n\t\tlet prefectureY = prefectureList.indexOf(y.hometown)\r\n\t\treturn prefectureX - prefectureY\t\r\n\t}\r\n\r\n\tconst englishNameSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByFirstname_e)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByLastname_e)\r\n\t\treturn sortingMembers\r\n\t}\r\n\r\n\tconst katakanaSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaFirstName)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaLastName)\r\n\t\treturn sortingMembers\r\n\t}\r\n\t\r\n\tconst defaultSort = (members) => {\r\n\t\tlet nonT8Members = members.filter(m => m.team[0] !== 'Team 8')\r\n\t\tlet t8Members = members.filter(m => m.team[0] === 'Team 8')\r\n\t\tnonT8Members = katakanaSort(nonT8Members)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByKks)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByTeam)\r\n\t\tt8Members = t8Members.sort(sortFunctionByHometown)\r\n\t\tconst sortedMembers = nonT8Members.concat(t8Members)\r\n\t\treturn sortedMembers\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_MEMBERS': {\r\n\t\t\tconst sortedMember = defaultSort(action.data)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'ADD_MEMBER': {\r\n\t\t\tlet newState = state.concat(action.data)\r\n\t\t\tnewState = defaultSort(newState)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'EDIT_MEMBER': {\r\n\t\t\tconst newState = state.map(m => m.id.toString().includes(action.data.id) ? action.data : m)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_DEFAULT': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = defaultSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_GENERATION': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByGen)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_TEAM': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByTeam)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_ENGLISHNAME': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = englishNameSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_KATAKANA': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = katakanaSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_HOMETOWN': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByHometown)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_VALUE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByValue)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_FANSIZE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByFanSize)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'UPDATE_MEMBER_BID': {\r\n\t\t\tconst newState = state.map(m => m.id === action.data.id ? action.data : m)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeMembers = () => {\r\n\treturn async dispatch => {\r\n\t\tconst members = await memberService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_MEMBERS',\r\n\t\t\tdata: members\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewMember = (member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedMember = await memberService.addMember(member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_MEMBER',\r\n\t\t\tdata: addedMember\r\n\t\t})\r\n\t\treturn addedMember\r\n\t}\r\n}\r\n\r\nexport const editExistingMember = (id, member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst editedMember = await memberService.editMember(id, member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'EDIT_MEMBER',\r\n\t\t\tdata: editedMember\r\n\t\t})\r\n\t\treturn editedMember\r\n\t}\r\n}\r\n\r\nexport const sortMembersByDefault = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_DEFAULT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByGen = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_GENERATION'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByTeam = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_TEAM'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByEnglishName = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_ENGLISHNAME'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByKatakana = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_KATAKANA'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByHometown = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_HOMETOWN'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByValue = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_VALUE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByFanSize = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_FANSIZE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateMemberBid = (memberUpdate) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_MEMBER_BID',\r\n\t\t\tdata: memberUpdate\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default membersReducer","const remainTimeMSCal = (serverTime, endTime) => {\r\n\tconst endTimeMS = Date.parse(endTime)\r\n\tconst currentTimeMS = Date.parse(serverTime)\r\n\tconst remainTimeMS = endTimeMS - currentTimeMS\r\n\treturn remainTimeMS\r\n}\r\n\r\nconst remainTimeText = (serverTime, endTime, compo) => {\r\n\tif (serverTime && endTime) {\r\n\t\tconst remainTimeMS = remainTimeMSCal(serverTime, endTime)\r\n\t\tif (remainTimeMS > 0) {\r\n\t\t\tlet remainTimeS = Math.floor(remainTimeMS / 1000)\r\n\t\t\tconst remainHrs = Math.floor(remainTimeS / 3600)\r\n\t\t\tremainTimeS = remainTimeS % 3600\r\n\t\t\tconst remainMins = Math.floor(remainTimeS / 60)\r\n\t\t\tconst remainS = remainTimeS % 60\r\n\t\t\tif (compo === 'Member') {\r\n\t\t\t\treturn `back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t}\r\n\t\t\tif (compo === 'User') {\r\n\t\t\t\treturn `will be back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t}\r\n\t\t\treturn `${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t} else {\r\n\t\t\treturn 'is ready to collect'\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n\r\nconst collectable = (serverTime, job) => {\r\n\tif (serverTime && job) {\r\n\t\treturn remainTimeMSCal(serverTime, job.endTime) > 0 ? false : true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport default { remainTimeText, collectable }","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst PayriseForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [payrise, setPayrise] = useState('')\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\tconst [dummyConfirmOpen, setDummyConfirmOpen] = useState(false)\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst handlePayriseCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handlePayriseConfirm = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(false)\r\n\t\tsetDummyConfirmOpen(true)\r\n\t\ttry {\r\n\t\t\tconst payriseBody = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tamount: payrise\r\n\t\t\t}\r\n\t\t\tconst updatedMember = await negotiationsService.memberPayrise(payriseBody, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `value of ${shownMember.name_j} is raised by ${payriseBody.amount} to ${updatedMember.value}`, colour: 'green' })\r\n\t\t\tsetPayrise('')\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetDummyConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleDummyClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\tconst handlePayrise = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Form onSubmit={handlePayrise} style={props.style}>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tlabel='Pay Rise Amount:'\r\n\t\t\t\t\tplaceholder={payrise}\r\n\t\t\t\t\tonChange={({ target }) => setPayrise(target.value)}\r\n\t\t\t\t\tvalue={payrise}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\tConfirm Pay Rise\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={confirmOpen}\r\n\t\t\t\tcontent={`Confirm to value up ${shownMember.nickname} by $${payrise} to $${parseInt(shownMember.value) + parseInt(payrise)}?`}\r\n\t\t\t\tonCancel={handlePayriseCancel}\r\n\t\t\t\tonConfirm={handlePayriseConfirm}\r\n\t\t\t/>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={dummyConfirmOpen}\r\n\t\t\t\tcontent={`Please wait......`}\r\n\t\t\t\tonCancel={handleDummyClick}\r\n\t\t\t\tonConfirm={handleDummyClick}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PayriseForm)","import React, { useState, useEffect } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst BidForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [bid, setBid] = useState('')\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tuseEffect (() => {\r\n\t\tsetBid(shownMember.negotiation ? shownMember.negotiation.bid + 10 : shownMember.value)\r\n\t}, [shownMember])\r\n\r\n\tconst handleBid = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (props.phrase === 'negotiation') {\r\n\t\t\ttry {\r\n\t\t\t\tconst newBid = {\r\n\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\tbid,\r\n\t\t\t\t\ttradeType: 'bid'\r\n\t\t\t\t}\r\n\t\t\t\tconst placedBid = await negotiationsService.placeBid(newBid, props.token)\r\n\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\tconst memberUpdate = {\r\n\t\t\t\t\t...shownMember,\r\n\t\t\t\t\t'negotiation': {\r\n\t\t\t\t\t\t'member': placedBid.member,\r\n\t\t\t\t\t\t'bid': placedBid.bid,\r\n\t\t\t\t\t\t'tradeType': placedBid.tradeType,\r\n\t\t\t\t\t\t'applicant': placedBid.applicant,\r\n\t\t\t\t\t\t'id': placedBid.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tprops.updateMemberBid(memberUpdate)\r\n\t\t\t\tsetBid(shownMember.value)\r\n\t\t\t\tprops.setNotification({ content: `a bid of $${bid} is placed for signing ${shownMember.name_j}`, colour: 'green' })\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst currentBid = () => {\r\n\t\tif (!shownMember.negotiation) {\r\n\t\t\treturn 'none'\r\n\t\t} else {\r\n\t\t\tif (props.user) {\r\n\t\t\t\treturn `${shownMember.negotiation.bid} from ${props.user.id === shownMember.negotiation.applicant? 'YOU' : 'other user'}.`\r\n\t\t\t} else {\r\n\t\t\t\treturn '---'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleBid} style={props.style}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tlabel={`Bid: (highest bid at the moment: ${currentBid()})`}\r\n\t\t\t\tplaceholder={bid}\r\n\t\t\t\tonChange={({ target }) => setBid(target.value)}\r\n\t\t\t\tvalue={bid}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\tPlace Bid\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tphrase: state.phrase,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BidForm)","import React, { useState, useEffect } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst OfferForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [offer, setOffer] = useState('')\r\n\tconst [forceTradeConfirmOpen, setForceTradeConfirmOpen] = useState(false)\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst lowerLimit = Math.floor(shownMember.value*0.8)\r\n\tconst upperLimit = Math.floor(shownMember.value*1.3)\r\n\tconst forceTradePrice = upperLimit + 1\r\n\r\n\tuseEffect (() => {\r\n\t\tsetOffer(lowerLimit)\r\n\t}, [lowerLimit])\r\n\r\n\tconst handleForceTradeCancel = () => {\r\n\t\tsetForceTradeConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleForceTradeConfirm = async () => {\r\n\t\ttry {\r\n\t\t\tconst newForceTrade = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: forceTradePrice,\r\n\t\t\t\ttradeType: 'force',\r\n\t\t\t\trecipient: shownMember.agency\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.applyForceTrade(newForceTrade, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `a force trade is applied at $${forceTradePrice} for signing ${shownMember.name_j} from ${shownMember.agency.displayname} `, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetForceTradeConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleOffer = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (props.phrase === 'negotiation') {\r\n\t\t\tif (offer < lowerLimit) {\r\n\t\t\t\tprops.setNotification({ content: 'your offer is too low', colour: 'red' }, 5)\r\n\t\t\t} else if (offer > upperLimit) {\r\n\t\t\t\tsetForceTradeConfirmOpen(true)\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst newOffer = {\r\n\t\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\t\tbid: offer,\r\n\t\t\t\t\t\ttradeType: 'offer',\r\n\t\t\t\t\t\trecipient: shownMember.agency\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait negotiationsService.sendOffer(newOffer, props.token)\r\n\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\tprops.setNotification({ content: `an offer of $${offer} is sent to ${shownMember.agency.displayname} for signing ${shownMember.name_j}`, colour: 'green' })\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Form onSubmit={handleOffer} style={props.style}>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tlabel={`Offer: (Range: ${lowerLimit}-${upperLimit} or Forced Trade at ${forceTradePrice})`}\r\n\t\t\t\t\tplaceholder={offer}\r\n\t\t\t\t\tonChange={({ target }) => setOffer(target.value)}\r\n\t\t\t\t\tvalue={offer}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\tSend Negotiation Offer\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={forceTradeConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to force trade ${shownMember.nickname} at ${forceTradePrice} ?`}\r\n\t\t\t\tonCancel={handleForceTradeCancel}\r\n\t\t\t\tonConfirm={handleForceTradeConfirm}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tphrase: state.phrase,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OfferForm)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst ButtonLateSign = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [lateSignConfirmOpen, setLateSignConfirmOpen] = useState(false)\r\n\r\n\tconst lateSignPrice = Math.floor(shownMember.value*1.2)\r\n\r\n\tconst handleLateSignCancel = () => {\r\n\t\tsetLateSignConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleLateSignConfirm = async () => {\r\n\t\ttry {\r\n\t\t\tconst newLateSign = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: lateSignPrice,\r\n\t\t\t\ttradeType: 'late',\r\n\t\t\t\trecipient: shownMember.agency\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.lateSign(newLateSign, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `late signed ${shownMember.name_j} at $${lateSignPrice}. `, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetLateSignConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleLateSign = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetLateSignConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleLateSign} style={props.style} color='pink'>\r\n\t\t\t\t\tLate Sign at ${lateSignPrice}\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={lateSignConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to late sign ${shownMember.nickname} at ${lateSignPrice} ?`}\r\n\t\t\t\tonCancel={handleLateSignCancel}\r\n\t\t\t\tonConfirm={handleLateSignConfirm}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonLateSign)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst ButtonRelease = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [releaseConfirmOpen, setReleaseConfirmOpen] = useState(false)\r\n\r\n\tconst releasePrice = Math.floor(shownMember.value*0.5)\r\n\r\n\tconst handleReleaseCancel = () => {\r\n\t\tsetReleaseConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleReleaseConfirm = async () => {\r\n\t\ttry {\r\n\t\t\tconst newRelease = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: releasePrice,\r\n\t\t\t\ttradeType: 'release',\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.releaseMember(newRelease, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `${shownMember.name_j} is released and cash back ${releasePrice}`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetReleaseConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleRelease = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetReleaseConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleRelease} style={props.style} color='violet'>\r\n\t\t\t\tRelease\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={releaseConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to RELEASE ${shownMember.nickname} and get back ${releasePrice} ?`}\r\n\t\t\t\tonCancel={handleReleaseCancel}\r\n\t\t\t\tonConfirm={handleReleaseConfirm}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonRelease)","import axios from 'axios'\r\nconst baseUrl = '/api/job'\r\n\r\nconst assignJob = async (memberId, assignment, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t\tjobType: assignment\r\n\t}\r\n\tconst response = await axios.post(`${ baseUrl }/assign`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst cancelJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/cancel`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst collectJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/collect`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { assignJob, cancelJob, collectJob }","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Select } from 'semantic-ui-react'\r\n\r\nconst AssignmentForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [assignment, setAssignemt] = useState('')\r\n\r\n\tconst assignmentOptions = [\r\n\t\t{ key: 'assignment1', text: '1hr Showroom (free, gain little fans)', value: 'SHOWROOM' },\r\n\t\t{ key: 'assignment2', text: '4hr handshaking (4hr salary, gain money base on fanbase size)', value: 'HANDSHAKE' },\r\n\t\t{ key: 'assignment3', text: '2hr TV show ($1000 + 2hr salary, gain large number of fans)', value: 'TV' }\r\n\t]\r\n\r\n\tconst handleAssign = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!assignment) {\r\n\t\t\tprops.setNotification({ content: 'assignment has not been chosen' , colour: 'red' })\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst response = await jobService.assignJob(shownMember.id, assignment, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tsetAssignemt('')\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({\r\n\t\t\t\theader: `${response.job.name} is assigned.`,\r\n\t\t\t\tcontent: `Current asset: $${response.currentAssest}`,\r\n\t\t\t\tcolour: 'green'\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAssign} style={props.style}>\r\n\t\t\t<Form.Field\r\n\t\t\t\tcontrol={Select}\r\n\t\t\t\tlabel='Job Assignment: '\r\n\t\t\t\toptions={assignmentOptions}\r\n\t\t\t\tplaceholder='Job Assignment'\r\n\t\t\t\tonChange={(e, data) => setAssignemt(data.value)}\r\n\t\t\t\tvalue={assignment}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">Assign</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AssignmentForm)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm  } from 'semantic-ui-react'\r\n\r\nconst ButtonAssignmentCancel = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n\tlet style = {}\r\n\tif (props.style) {\r\n\t\tstyle = props.style\r\n\t} else {\r\n\t\tstyle = shownMember.job ? { display: 'inline' } : { display: 'none' } \r\n\t}\r\n\r\n\tconst handleCancelCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleCancelConfirm = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tawait jobService.cancelJob(shownMember.id, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({ content: `job is cancelled`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleAssignmentCancel = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleAssignmentCancel} style={style} color='violet'>\r\n\t\t\t\t{props.short ? 'Cancel' : 'Cancel Assignment'}\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={confirmOpen}\r\n\t\t\t\tcancelButton='Back'\r\n\t\t\t\tconfirmButton=\"Confirm Cancel\"\r\n\t\t\t\tcontent={`Confirm to cancel the assignment of ${shownMember.nickname}? (No Refund)`}\r\n\t\t\t\tonCancel={handleCancelCancel}\r\n\t\t\t\tonConfirm={handleCancelConfirm}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonAssignmentCancel)","import React from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport remainTime from './modules/remainTime'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst ButtonAssignmentCollect = (props) => {\r\n\tconst { shownMember } = props\r\n\tlet style = {}\r\n\tif (props.style) {\r\n\t\tstyle = props.style\r\n\t} else {\r\n\t\tstyle = remainTime.collectable(props.serverTime, shownMember.job) ? { display: 'inline' } : { display: 'none' } \r\n\t}\r\n\r\n\tconst handleAssignmentCollect = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst response = await jobService.collectJob(shownMember.id, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({\r\n\t\t\t\theader: 'Rewards Collected',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\t`gained ${response.fanReward} fans and $${response.moneyReward}.`,\r\n\t\t\t\t\t`New fans number: ${response.currentFanSize}.`,\r\n\t\t\t\t\t`Current asset: $${response.currentAssest}.`,\r\n\t\t\t\t\t' (click to continue)  '\r\n\t\t\t\t],\r\n\t\t\t\tcolour: 'green',\r\n\t\t\t\tlisting: true\r\n\t\t\t}, 'byClick')\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Button onClick={handleAssignmentCollect} style={style} color='pink'>\r\n\t\t\t{props.short ? 'Collect' : 'Collect Assignment Rewards'}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonAssignmentCollect)","import React from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { updateMemberBid, initializeMembers } from '../reducers/membersReducer'\r\nimport remainTime from './modules/remainTime'\r\nimport PayriseForm from './NegoPayriseForm'\r\nimport BidForm from './NegoBidForm'\r\nimport OfferForm from './NegoOfferForm'\r\nimport ButtonLateSign from './ButtonLateSign'\r\nimport ButtonRelease from './ButtonRelease'\r\nimport AssignmentForm from './AssignmentForm'\r\nimport ButtonAssignmentCancel from './ButtonAssignmentCancel'\r\nimport ButtonAssignmentCollect from './ButtonAssignmentCollect'\r\nimport { connect } from 'react-redux'\r\nimport { Grid, Table } from 'semantic-ui-react'\r\n\r\nconst Member = (props) => {\r\n\tconst { shownMember, serverTime } = props\r\n\r\n\tlet bidFormStyle = { display: 'none' }\r\n\tlet offerFormStyle = { display: 'none' }\r\n\tlet payriseFormStyle = { display: 'none' }\r\n\tlet releaseButtonStyle = { display: 'none' }\r\n\tlet assignmentFormStyle = { display: 'none' }\r\n\tlet lateSignButtonStyle = { display: 'none' }\r\n\tlet assignmentCancelStyle = { display: 'none' }\r\n\tlet assignmentCollectStyle = { display: 'none' }\r\n\r\n\tif (shownMember && props.user) {\r\n\t\tif (shownMember.agency) {\r\n\t\t\tif (shownMember.agency.displayname.toString().includes(props.user.displayname)) {\r\n\t\t\t\treleaseButtonStyle = { display: 'inline' }\r\n\t\t\t\tpayriseFormStyle = { display: 'inline' }\r\n\t\t\t\tif (remainTime.collectable(serverTime, shownMember.job)) {\r\n\t\t\t\t\tassignmentCollectStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t\tif (shownMember.job) {\r\n\t\t\t\t\tassignmentCancelStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t\tif (props.phrase === 'general') {\r\n\t\t\t\t\tif (!shownMember.job) {\r\n\t\t\t\t\t\tassignmentFormStyle = { display: null }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\t\tofferFormStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (props.phrase !== 'negotiation' && props.user.oshimens.length < 3) {\r\n\t\t\t\tlateSignButtonStyle = { display: 'inline' }\r\n\t\t\t}\r\n\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\tbidFormStyle = { display: 'inline' }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (shownMember) {\r\n\t\tconst bday = shownMember.birthday.substring(0, 10)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{shownMember.name_j}</h2>\r\n\t\t\t\t<div>{shownMember.name_k.firstname}{shownMember.name_k.lastname}</div>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Grid.Row columns={1} only='mobile'>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<Table striped columns={2} unstackable>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Fanbase Size:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.fanSize}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Salary:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{Math.floor(shownMember.value/10)}/hr</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Tradability:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.tradable ? 'Tradable' : 'Untradable' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Current Job:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? shownMember.job.name : 'None'}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? remainTime.remainTimeText(serverTime, shownMember.job.endTime, 'Member') : null}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t<AssignmentForm shownMember={shownMember} style={assignmentFormStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={shownMember} style={assignmentCollectStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={shownMember} style={assignmentCancelStyle} />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row columns={16} only='computer tablet'>\r\n\t\t\t\t\t\t<Grid.Column computer={5} tablet={7}>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column computer={11} tablet={9}>\r\n\t\t\t\t\t\t\t<Table striped>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Fanbase Size:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.fanSize}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Salary:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{Math.floor(shownMember.value/10)}/hr</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Tradability:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.tradable ? 'Tradable' : 'Untradable' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Current Job:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? shownMember.job.name : 'None'}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? remainTime.remainTimeText(serverTime, shownMember.job.endTime, 'Member') : null}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t<AssignmentForm shownMember={shownMember} style={assignmentFormStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={shownMember} style={assignmentCollectStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={shownMember} style={assignmentCancelStyle} />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<BidForm shownMember={shownMember} style={bidFormStyle} />\r\n\t\t\t\t<OfferForm shownMember={shownMember} style={offerFormStyle} />\r\n\t\t\t\t<PayriseForm shownMember={shownMember} style={payriseFormStyle} />\r\n\t\t\t\t<ButtonLateSign shownMember={shownMember} style={lateSignButtonStyle} />\r\n\t\t\t\t<ButtonRelease shownMember={shownMember} style={releaseButtonStyle} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tMember Not found\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tphrase: state.phrase,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tupdateMemberBid,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Member)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n\tsortMembersByDefault,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n} from '../reducers/membersReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport Loading from './Loading'\r\nimport { Grid, Button, Select, Image, Icon, Reveal, Responsive } from 'semantic-ui-react'\r\n\r\nconst teamList = ['All Teams', 'Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions = teamList.map(t => {return { key: t, text: t, value: t }})\r\n\r\nconst genList = ['All Generations', '1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\n\r\nconst hometownList = [\r\n\t'Any Hometown',\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = hometownList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nlet agencyList = ['All Agency', 'Not Free', 'Free']\r\nlet agencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\r\nconst sortList = ['Default', 'Team', 'Name (Katakana)', 'Name (English)', 'Generation', 'Hometown', 'Value', 'Fan Size']\r\nconst sortOptions = sortList.map(m => {return { key: m, text: m, value: m }})\r\n\r\nconst Members = props => {\r\n\r\n\tconst [teamFilter, setTeamFilter] = useState('All Teams')\r\n\tconst [genFilter, setGenFilter] = useState('All Generations')\r\n\tconst [hometownFilter, setHometownFilter] = useState('Any Hometown')\r\n\tconst [agencyFilter, setAgencyFilter] = useState('All Agency')\r\n\tconst [currentSort, setCurrentSort] = useState('Default')\r\n\r\n\tif (props.user) {\r\n\t\tagencyList = ['All Agency', 'Under Your Agency', 'Signed by Others', 'Not Free', 'Free']\r\n\t\tagencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\t}\r\n\r\n\tif (props.members.length > 0) {\r\n\t\tconst resetFilters = () => {\r\n\t\t\tsetTeamFilter('All Teams')\r\n\t\t\tsetGenFilter('All Generations')\r\n\t\t\tsetHometownFilter('Any Hometown')\r\n\t\t\tsetAgencyFilter('All Agency')\r\n\t\t}\r\n\r\n\t\tconst doSort = (method) => {\r\n\t\t\tswitch(method) {\r\n\t\t\t\tcase 'Default':{\r\n\t\t\t\t\tprops.sortMembersByDefault()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Team':{\r\n\t\t\t\t\tprops.sortMembersByTeam()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Name (Katakana)':{\r\n\t\t\t\t\tprops.sortMembersByKatakana()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Name (English)':{\r\n\t\t\t\t\tprops.sortMembersByEnglishName()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Generation':{\r\n\t\t\t\t\tprops.sortMembersByGen()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Hometown':{\r\n\t\t\t\t\tprops.sortMembersByHometown()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Value':{\r\n\t\t\t\t\tprops.sortMembersByValue()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Fan Size':{\r\n\t\t\t\t\tprops.sortMembersByFanSize()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n        const memberSpan = (s) => {\r\n\t\t\tconst filteringByAgency = (members, filter) => {\r\n\t\t\t\tswitch(filter) {\r\n\t\t\t\t\tcase 'Under Your Agency':{\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Signed by Others': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && !m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Not Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency == null)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\treturn members\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet filteredMembers = props.members\r\n\t\t\tfilteredMembers = teamFilter === 'All Teams' ? filteredMembers : filteredMembers.filter(m => m.team.includes(teamFilter))\r\n\t\t\tfilteredMembers = genFilter === 'All Generations' ? filteredMembers : filteredMembers.filter(m => m.generation.name === genFilter)\r\n\t\t\tfilteredMembers = hometownFilter === 'Any Hometown' ? filteredMembers : filteredMembers.filter(m => m.hometown === hometownFilter)\r\n\t\t\tfilteredMembers = filteringByAgency(filteredMembers, agencyFilter)\r\n\t\t\tconst profilePicStyle = (team, hidden) => {\r\n\t\t\t\tconst colorCheck = (checkTeam) => {\r\n\t\t\t\t\tswitch(checkTeam) {\r\n\t\t\t\t\t\tcase 'Team A': {\r\n\t\t\t\t\t\t\treturn '#ff66ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team K': {\r\n\t\t\t\t\t\t\treturn '#00cc00'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team B': {\r\n\t\t\t\t\t\t\treturn '#3399ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 4': {\r\n\t\t\t\t\t\t\treturn 'Yellow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 8': {\r\n\t\t\t\t\t\t\treturn '#000066'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\treturn 'black'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst teamColor1 = colorCheck(team[0])\r\n\t\t\t\tconst teamColor2 = team.length > 1 ? colorCheck(team[1]) : teamColor1\r\n\r\n\t\t\t\tconst opacity = hidden ? '0.3' : '1'\r\n\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\tborderTop: `${s}px solid ${teamColor1}`,\r\n\t\t\t\t\tborderLeft: `${s}px solid ${teamColor1}`,\r\n\t\t\t\t\tborderBottom: `${s}px solid ${teamColor2}`,\r\n\t\t\t\t\tborderRight: `${s}px solid ${teamColor2}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst revealTextStyle = {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '50%',\r\n\t\t\t\tleft: '50%',\r\n\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\tfontSize: '16px',\r\n\t\t\t\tlineHeight: '1.5em',\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\tcolor: '#000000',\r\n\t\t\t\ttextShadow: '2px 2px 2px #FFFFFF'\r\n\t\t\t}\r\n\t\t\tconst agencyName = (member) => {\r\n\t\t\t\tif (member.agency) {\r\n\t\t\t\t\treturn member.agency.displayname\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'No Agency'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst quickInfo = (m) => {\r\n\t\t\t\tif (s === 5) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<div>{m.name_e.firstname} {m.name_e.lastname}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='dollar sign' />{m.value}{' / '}<Icon name='users' />{m.fanSize}</div>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (s === 3) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t\t\t<div>{m.name_e.firstname}</div>\r\n\t\t\t\t\t\t\t<div>{m.name_e.lastname}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='dollar sign' />{m.value}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='users' />{m.fanSize}</div>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (filteredMembers.length > 0) {\r\n\t\t\t\treturn filteredMembers.map(m => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Column key={m.id}>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Reveal animated='fade' instant>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Reveal.Content visible>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, false)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Reveal.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Reveal.Content hidden>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, true)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={revealTextStyle} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{m.name_j}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tin\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agencyName(m)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValue: {m.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFans: {m.fanSize}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Reveal.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t</Reveal>\r\n\t\t\t\t\t\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t\t\t\t\t\t<Responsive {...Responsive.onlyMobile} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, false)} />\r\n\t\t\t\t\t\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t{quickInfo(m)}\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn <div> No Matching Member</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Members</h2>\r\n\t\t\t\t<Grid columns={16}>\r\n\t\t\t\t\t<Grid.Row only='computer tablet'>\r\n\t\t\t\t\t\t<Grid.Column tablet={4} computer={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column tablet={12} computer={14}>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByDefault} content='Default'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByTeam} content='Team'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByKatakana} content='Name (Katakana)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByEnglishName} content='Name (English)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByGen} content='Generation'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByHometown} content='Hometown'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByValue} content='Value'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByFanSize} content='Fan Size'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t<Grid.Column width={5} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={11}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={sortOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => doSort(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={currentSort}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column mobile={5} tablet={4} computer={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tFilters :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column mobile={11} tablet={12} computer={14}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={teamOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setTeamFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={teamFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setGenFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={genFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setHometownFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={hometownFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={agencyOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setAgencyFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={agencyFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button onClick={resetFilters} content='Clear'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={5}>\r\n\t\t\t\t\t<Grid.Row only='tablet computer'>\r\n\t\t\t\t\t\t{memberSpan(5)}\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={3}>\r\n\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t\t{memberSpan(3)}\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Loading />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsortMembersByDefault,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Members)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { userLogin } from '../reducers/userReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoginNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\tconst handleLogin = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst loginInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tpassword\r\n\t\t\t}\r\n\r\n\t\t\tconst loggedUser = await props.userLogin(loginInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetPassword('')\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t'oshigameUserToken', JSON.stringify(loggedUser.token)\r\n\t\t\t)\r\n\t\t\tprops.setToken(loggedUser.token)\r\n\t\t\tconst user = await props.setUserByToken(loggedUser.token)\r\n\t\t\tprops.history.push('/')\r\n\t\t\tprops.setNotification({ content: `successfully logged in as ${user.displayname}`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: 'wrong user name or password', colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleLogin} padding=\"5\" >\r\n\t\t\t<Form.Input \r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='username'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword(target.value)}\r\n\t\t\t\tvalue={password}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">login</Button>\r\n\t\t\t<Link to=\"/sign_up\"><Button color='pink' >Sign Up</Button></Link>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetToken,\r\n\tsetUserByToken,\r\n\tuserLogin\r\n}\r\n\r\nconst LoginForm = withRouter(LoginNoHistory)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)","import React from 'react'\r\nimport LoginForm from './LoginForm'\r\n\r\nconst Login = () => (\r\n\t<div>\r\n\t\t<h2>Log in to Oshigame</h2>\r\n\t\t<LoginForm />\r\n\t</div>\r\n)\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport userService from '../services/users'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst SignUpNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [displayname, setDisplayname] = useState('')\r\n\tconst [password_1, setPassword_1] = useState('')\r\n\tconst [password_2, setPassword_2] = useState('')\r\n\tconst [createkey, setCreatekey] = useState('')\r\n\r\n\tconst submit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!username || !displayname || !password_1 || !password_2 || !createkey) {\r\n\t\t\tprops.setNotification({ content: 'one or more entries missing', colour: 'red' })\r\n\t\t\treturn \r\n\t\t}\r\n\t\tif (password_1 !== password_2) {\r\n\t\t\tprops.setNotification({ content: 'passwords have to be the same', colour: 'red' })\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tdisplayname,\r\n\t\t\t\tpassword: password_1,\r\n\t\t\t\tcreatekey\r\n\t\t\t}\r\n\t\t\tconst createdUser = await userService.addUser(newUserInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetDisplayname('')\r\n\t\t\tsetPassword_1('')\r\n\t\t\tsetPassword_2('')\r\n\t\t\tsetCreatekey('')\r\n\t\t\tprops.history.push('/login')\r\n\t\t\tprops.setNotification({ content: `account for ${createdUser.username} is created successfully`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submit}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='e.g. Fans0048'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='name for display'\r\n\t\t\t\tplaceholder='e.g. The Legenary Idol Agency'\r\n\t\t\t\tonChange={({ target }) => setDisplayname(target.value)}\r\n\t\t\t\tvalue={displayname}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_1(target.value)}\r\n\t\t\t\tvalue={password_1}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tplaceholder='password (please type again)'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_2(target.value)}\r\n\t\t\t\tvalue={password_2}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='create-key'\r\n\t\t\t\tplaceholder='create-key (provided by admin)'\r\n\t\t\t\tonChange={({ target }) => setCreatekey(target.value)}\r\n\t\t\t\tvalue={createkey}\r\n\t\t\t/>\r\n\t\t\t<Button color='pink' type=\"submit\">Submit</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nconst SignUpForm = withRouter(SignUpNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUpForm)","import React from 'react'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport remainTime from './modules/remainTime'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport ButtonAssignmentCollect from './ButtonAssignmentCollect'\r\nimport ButtonAssignmentCancel from './ButtonAssignmentCancel'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst User = (props) => {\r\n\tconst { shownUser, members} = props\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tif (shownUser) {\r\n\r\n\t\tconst admin = (u) => u.admin ?\r\n\t\t\t<div>ADMIN</div> :\r\n\t\t\tnull\r\n\r\n\t\tconst oshimenList = (u) => {\r\n\t\t\tconst jobState = (m) => {\r\n\t\t\t\tif (m.job) {\r\n\t\t\t\t\tif (m.job.name) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<span> is on {m.job.name} <br /> >> and {remainTime.remainTimeText(props.serverTime, m.job.endTime, 'User')} </span>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ' is waiting for assignments'\r\n\t\t\t}\r\n\r\n\t\t\treturn (u.oshimens.length > 0 ?\r\n\t\t\t\tu.oshimens.map(m => (\r\n\t\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{jobState(m)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={m} short={true}/>\r\n\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={m} short={true}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)) :\r\n\t\t\t\t'none'\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst negotiationList = (u) => {\r\n\t\t\tif (u.negotiations.length > 0) {\r\n\t\t\t\tconst biddingList = u.negotiations.filter(n => n.tradeType === 'bid')\r\n\t\t\t\tconst biddingSpan = () => {\r\n\t\t\t\t\tif (biddingList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedBiddingList = biddingList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tbiddings: {digestedBiddingList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst releasedList = u.negotiations.filter(n => n.tradeType === 'release')\r\n\t\t\t\tconst releasedSpan = () => {\r\n\t\t\t\t\tif (releasedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedReleasedList = releasedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\treleased: {digestedReleasedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst forcedList = u.negotiations.filter(n => n.tradeType === 'force')\r\n\t\t\t\tconst forcedSpan = () => {\r\n\t\t\t\t\tif (forcedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedForcedList = forcedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn n.recipient.toString().includes(shownUser.id) ? `LOST ${name} at ${n.bid}` : `SIGNED ${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tforced trades: {digestedForcedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst sentOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.applicant.toString().includes(shownUser.id))\r\n\t\t\t\tconst sentOfferSpan = () => {\r\n\t\t\t\t\tif (sentOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedSentOfferList = sentOfferList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tsent offers: {digestedSentOfferList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet receivedOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.recipient.toString().includes(shownUser.id))\r\n\t\t\t\tconst receivedOffers = () => {\r\n\t\t\t\t\tconst displayname = (applicant) => {\r\n\t\t\t\t\t\tconst displaynames = props.displaynames.filter(n => n.id === applicant)\r\n\t\t\t\t\t\treturn displaynames[0].displayname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst nickname = (member) => {\r\n\t\t\t\t\t\tconst nicknames = props.members.filter(m => m.id === member)\r\n\t\t\t\t\t\treturn nicknames[0].nickname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleAccept = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.acceptOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is accepted', colour: 'green' })\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleReject = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.rejectOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is rejected', colour: 'green' })\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (receivedOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>RECEIVED OFFERS</div>\r\n\t\t\t\t\t\t\t\t{receivedOfferList.map(n => (\r\n\t\t\t\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/members/${n.member}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{nickname(n.member)}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t{` at ${n.bid} from ${displayname(n.applicant)} `}\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Accept' color='violet' onClick={() => handleAccept(n.id)} />\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Reject' color='pink' onClick={() => handleReject(n.id)} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{biddingSpan()}\r\n\t\t\t\t\t\t{sentOfferSpan()}\r\n\t\t\t\t\t\t{receivedOffers()}\r\n\t\t\t\t\t\t{forcedSpan()}\r\n\t\t\t\t\t\t{releasedSpan()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3 style={headstyle}>{shownUser.username}</h3>\r\n\t\t\t\t<div>displayname: {shownUser.displayname}</div>\r\n\t\t\t\t<div>assest: {shownUser.assest}</div>\r\n\t\t\t\t{admin(shownUser)}\r\n\t\t\t\t<div>negotiations:</div>\r\n\t\t\t\t<div>{negotiationList(shownUser)}</div>\r\n\t\t\t\t<div>oshimens:</div>\r\n\t\t\t\t<div>{oshimenList(shownUser)}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <Loading />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tdisplaynames: state.displaynames,\r\n\t\ttoken: state.token,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetUserByToken,\r\n\tinitializeMembers,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)","import React from 'react'\r\nimport { Page, Image, Text, View, Document, StyleSheet, Font } from '@react-pdf/renderer'\r\n\r\nconst PDFCert = (props) => {\r\n\tconst { user } = props\r\n\tconst backgroundPic = props.certBackground\r\n\r\n\tFont.registerHyphenationCallback(word => [word])\r\n\r\n\tconst styles = StyleSheet.create({\r\n\t\tpage: {\r\n\t\t\tbackgroundColor: '#FFFFFF',\r\n\t\t\tbackgroundImage: `url(${backgroundPic})`\r\n\t\t},\r\n\t\tsection: {\r\n\t\t\tmargin: 0,\r\n\t\t\tpadding: 0\r\n\t\t},\r\n\t\tpageBackground: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tminWidth: '100%',\r\n\t\t\tminHeight: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\topacity: 0.3\r\n\t\t},\r\n\t\theading: {\r\n\t\t\tmarginTop: 5,\r\n\t\t\tmarginBottom: 5,\r\n\t\t\tmarginHorizontal: 10,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tsmallText: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tfontSize: 12,\r\n\t\t\thyphens: 'none'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: 20\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tdateStamp: {\r\n\t\t\tfontSize: 8,\r\n\t\t\tpaddingTop: 5\r\n\t\t},\r\n\t\thorizontalView: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tbestMemberFrame: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 10,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 1,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tbestMemberTitle: {\r\n\t\t\tfontSize: 16\r\n\t\t},\r\n\t\tbestMemberPic: {\r\n\t\t\tmarginHorizontal: 'auto',\r\n\t\t\theight: 140,\r\n\t\t\twidth: 105,\r\n\t\t\tobjectFit: 'cover',\r\n\t\t\tborder: 'solid',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderColor: 'white'\r\n\t\t},\r\n\t\tbestMemberText: {\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tsectionHeadText: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tfontSize: 16\r\n\t\t},\r\n\t\tgeneralStatTitle: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 3,\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tgeneralStatData: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 2,\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tbreakLine: {\r\n\t\t\tmarginVertical: 5,\r\n\t\t\tmarginHorizontal: 10,\r\n\t\t\tpadding: 0,\r\n\t\t\tborder: 'solid',\r\n\t\t\tborderTopWidth: 1\r\n\t\t},\r\n\t\thorizontalViewPadded: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tpaddingHorizontal: 20\r\n\t\t},\r\n\t\tmemberlistName: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tfontSize: 12,\r\n\t\t\tflex: 2.5\r\n\t\t},\r\n\t\tmemberlistData: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tfontSize: 12,\r\n\t\t\tflex: 1\r\n\t\t}\r\n\t})\r\n\r\n\tconst oshimenList = (members) => {\r\n\t\tif (members.length > 0) {\r\n\t\t\treturn members.map(m => (\r\n\t\t\t\t<View key={m.id} style={styles.horizontalViewPadded}>\r\n\t\t\t\t\t<Text style={styles.memberlistName}>{`${m.name_e.firstname} ${m.name_e.lastname} (${m.nickname})`}</Text>\r\n\t\t\t\t\t<Text style={styles.memberlistData}>{`Fans: ${m.fanSize}`}</Text>\r\n\t\t\t\t\t<Text style={styles.memberlistData}>{`Value: ${m.value}`}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn (<Text style={styles.smallText}>none</Text>)\r\n\t\t}\r\n\t}\r\n\r\n\tconst printDate = () => new Date(Date.now())\r\n\r\n\tconst header = () => (\r\n\t\t<View style={styles.heading}>\r\n\t\t\t<Text style={styles.title}>{user.displayname}</Text>\r\n\t\t\t<Text style={styles.subtitle}>by {user.username}</Text>\r\n\t\t\t<Text style={styles.dateStamp}>Report prined at {printDate().toString()}</Text>\r\n\t\t</View>\r\n\t)\r\n\r\n\tconst dummyMember = {\r\n\t\tname_e: {\r\n\t\t\tfirstname: 'N',\r\n\t\t\tlastname: 'A'\r\n\t\t},\r\n\t\tnickname: 'NA',\r\n\t\tpic_link: 'https://pbs.twimg.com/media/EN-4YBDU8AA_U85?format=jpg&name=medium',\r\n\t\tvalue: '---',\r\n\t\tfanSize: '---'\r\n\t}\r\n\r\n\tconst MPM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxFans = Math.max(...user.oshimens.map(m => m.fanSize))\r\n\t\treturn user.oshimens.find(m => m.fanSize === maxFans)\r\n\t}\r\n\r\n\tconst MVM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxValue = Math.max(...user.oshimens.map(m => m.value))\r\n\t\treturn user.oshimens.find(m => m.value === maxValue)\r\n\t}\r\n\r\n\tconst MEM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxFTV = Math.max(...user.oshimens.map(m => m.fanSize / m.value))\r\n\t\treturn user.oshimens.find(m => m.fanSize / m.value === maxFTV)\r\n\t}\r\n\r\n\tconst mPicP = MPM().pic_forCert ? MPM().pic_forCert : dummyMember.pic_link\r\n\tconst mPicV = MVM().pic_forCert ? MVM().pic_forCert : dummyMember.pic_link\r\n\tconst mPicE = MEM().pic_forCert ? MEM().pic_forCert : dummyMember.pic_link\r\n\r\n\tconst stat = (title, data) => (\r\n\t\t<View style={styles.horizontalView}>\r\n\t\t\t<Text style={styles.generalStatTitle}>{title}</Text>\r\n\t\t\t<Text style={styles.generalStatData}>{data}</Text>\r\n\t\t</View>\r\n\t)\r\n\t\r\n\tconst sum = (array) => array.reduce((a, b) => a + b, 0)\r\n\tconst average = (array) => sum(array) / array.length\r\n\tconst dp = (n, d) => Math.floor(n * Math.pow(10, d)) / Math.pow(10, d)\r\n\r\n\tconst totalValue = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn sum(user.oshimens.map(m => m.value))\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgValue = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst values = user.oshimens.map(m => m.value)\r\n\t\t\treturn dp(average(values), 1)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst totalFans = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn sum(user.oshimens.map(m => m.fanSize))\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgFanSize = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst fanSizes = user.oshimens.map(m => m.fanSize)\r\n\t\t\treturn dp(average(fanSizes), 1)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgFTV = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst FTVs = user.oshimens.map(m => m.fanSize / m.value)\r\n\t\t\treturn dp(average(FTVs), 2)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst overallFTV = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn dp(totalFans() / totalValue(), 2)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst pageTemplate = () => (\r\n\t\t<React.Fragment>\r\n\t\t\t<Image src={backgroundPic} style={styles.pageBackground} />\r\n\t\t\t{header()}\r\n\t\t\t<View style={styles.breakLine} />\r\n\t\t</React.Fragment>\r\n\t)\r\n\r\n\tconst oshimenPages = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tif (user.oshimens.length < 9) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members:</Text>\r\n\t\t\t\t\t\t{oshimenList(user.oshimens)}\r\n\t\t\t\t\t</Page>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tconst firstHalf = user.oshimens.slice(0, 8)\r\n\t\t\t\tconst secondHalf = user.oshimens.slice(8)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members: (Page 1 of 2)</Text>\r\n\t\t\t\t\t\t\t{oshimenList(firstHalf)}\r\n\t\t\t\t\t\t</Page>\r\n\t\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members: (Page 2 of 2)</Text>\r\n\t\t\t\t\t\t\t{oshimenList(secondHalf)}\r\n\t\t\t\t\t\t</Page>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Document title={`Oshigame Agency Report for ${user.disaplayname}`} author='Oshigame'>\r\n\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t{pageTemplate()}\r\n\t\t\t\t<View style={styles.horizontalView}>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Popular</Text>\r\n\t\t\t\t\t\t<Image src={mPicP} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MPM().name_e.firstname} ${MPM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`Fans: ${MPM().fanSize}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Valuable</Text>\r\n\t\t\t\t\t\t<Image src={mPicV} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MVM().name_e.firstname} ${MVM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`Value: ${MVM().value}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Effective</Text>\r\n\t\t\t\t\t\t<Image src={mPicE} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MEM().name_e.firstname} ${MEM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`FtV Index: ${dp(MEM().fanSize / MEM().value, 2)}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</Page>\r\n\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t{pageTemplate()}\r\n\t\t\t\t<Text style={styles.sectionHeadText}>Summary:</Text>\r\n\t\t\t\t{stat('Cash:', `$ ${user.assest}`)}\r\n\t\t\t\t{stat('Number of Members:', user.oshimens.length)}\r\n\t\t\t\t{stat('Total Fan Size:', totalFans())}\r\n\t\t\t\t{stat('Member Total Value:', `$ ${totalValue()}`)}\r\n\t\t\t\t{stat('Member Average Fan Size:', avgFanSize())}\r\n\t\t\t\t{stat('Member Average Value:', `$ ${avgValue()}`)}\r\n\t\t\t\t{stat('Overall Fans-to-Value Index:', overallFTV())}\r\n\t\t\t\t{stat('Average Fans-to-Value Index:', avgFTV())}\r\n\t\t\t</Page>\r\n\t\t\t{oshimenPages()}\r\n\t\t</Document>\r\n\t)\r\n}\r\n\r\nexport default PDFCert","import React from 'react'\r\nimport { PDFViewer } from '@react-pdf/renderer'\r\nimport PDFCert from './PDFCert'\r\nimport { connect } from 'react-redux'\r\n\r\nconst ReportViewer = (props) => (\r\n\t<PDFViewer width='100%' height={500}>\r\n\t\t<PDFCert user={props.user} certBackground={props.certBackground} />\r\n\t</PDFViewer>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ReportViewer)","import React from 'react'\r\nimport PDFCert from './PDFCert'\r\nimport { PDFDownloadLink } from '@react-pdf/renderer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst linkStyle = {\r\n\ttextDecoration: 'none',\r\n\tcolor: 'grey'\r\n}\r\n\r\nconst ReportDownloader = (props) => (\r\n\t<PDFDownloadLink style={linkStyle} document={<PDFCert user={props.user} certBackground={props.certBackground} />} fileName=\"oshigameTestdoc.pdf\">\r\n\t\t{({ blob, url, loading, error }) => (loading ? 'Loading...' : props.displayText)}\r\n\t</PDFDownloadLink>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ReportDownloader)","import React, { useState } from 'react'\r\nimport User from './User'\r\nimport Loading from './Loading'\r\nimport ReportViewer from './ReportViewer'\r\nimport ReportDownloader from './ReportDownloader'\r\nimport { connect } from 'react-redux'\r\nimport { Responsive, Button, Icon } from 'semantic-ui-react'\r\n\r\nconst Profile = (props) => {\r\n\tconst { user, members } = props\r\n\tconst [showReport, setShowReport] = useState(false)\r\n\tconst reportStyle = showReport ? {display: null} : {display: 'none'}\r\n\r\n\tconst toggleReport = () => {\r\n\t\tsetShowReport(!showReport)\r\n\t}\r\n\r\n\tif (user && members.length > 0) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2 style={{display: 'inline'}}>Profile</h2>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyComputer} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}} onClick={toggleReport}><Icon name='vcard' />Show/Hide Agency Report</Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyTablet} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}}><Icon name='vcard' /><ReportDownloader displayText='Download Agency Report' /></Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}}><Icon name='vcard' /><ReportDownloader displayText='Download' /></Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={reportStyle}>\r\n\t\t\t\t\t<ReportViewer />\r\n\t\t\t\t</div>\r\n\t\t\t\t<User shownUser = {user} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <Loading />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import usersService from '../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n\tconst sortByUsername = (a, b) => {\r\n\t\tconst usernameA = a.username\r\n\t\tconst usernameB = b.username\r\n\t\tif (usernameA < usernameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (usernameB < usernameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_USERS': {\r\n\t\t\tconst sortedUser = action.data.sort(sortByUsername)\r\n\t\t\treturn sortedUser\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allUsers = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst users = await usersService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_USERS',\r\n\t\t\tdata: users\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default usersReducer","import React, { useEffect }  from 'react'\r\nimport User from './User'\r\nimport Loading from './Loading'\r\nimport { allUsers } from '../reducers/usersReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Users = (props) => {\r\n\tconst {token, user, users, members, allUsers } = props\r\n\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallUsers(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allUsers])\r\n\r\n\tconst usersList = () => {\r\n\t\tif (users.length > 0 && members.length > 0) {\r\n\t\t\treturn users.map(u => (\r\n\t\t\t\t<div key={u.id}>\r\n\t\t\t\t\t<User shownUser = {u} />\r\n\t\t\t\t\t\t<div>id: {u.id}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <Loading />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Users</h2>\r\n\t\t\t{ usersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tusers: state.users,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallUsers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import negotiationsService from '../services/negotiations'\r\n\r\nconst negotiationsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NEGOTIATIONS': {\r\n\t\t\tconst sortedNegotiations = action.data.sort(sortByBid)\r\n\t\t\treturn sortedNegotiations\r\n\t\t}\r\n\t\tcase 'CLEAR_NEGOTIATIONS': {\r\n\t\t\treturn []\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allNegotiations = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst negotiations = await negotiationsService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NEGOTIATIONS',\r\n\t\t\tdata: negotiations\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const clearNegotiations = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'CLEAR_NEGOTIATIONS'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default negotiationsReducer","import React, { useEffect }  from 'react'\r\nimport { allNegotiations, clearNegotiations } from '../reducers/negotiationsReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst Negotiations = (props) => {\r\n\tconst {token, user, negotiations, allNegotiations, clearNegotiations } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallNegotiations(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allNegotiations])\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tconst negotiationsList = () => {\r\n\t\tif (negotiations.length > 0) {\r\n\t\t\treturn negotiations.map(n => (\r\n\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t<h3 style={headstyle}>{n.member.name_j}</h3>\r\n\t\t\t\t\t<div>type of trade: {n.tradeType}</div>\r\n\t\t\t\t\t<div>bid: {n.bid}</div>\r\n\t\t\t\t\t<div>applicant: {n.applicant.username}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Negotiations</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSettle = async () => {\r\n\t\ttry {\r\n\t\t\tawait negotiationsService.settle(props.token)\r\n\t\t\tprops.setNotification({ content: 'negotiations have been settled', colour: 'green' })\r\n\t\t\tclearNegotiations()\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Negotiations</h2>\r\n\t\t\t<Button onClick={handleSettle}> Settle </Button>\r\n\t\t\t{ negotiationsList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tnegotiations: state.negotiations\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallNegotiations,\r\n\tclearNegotiations,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Negotiations)","import React, { useState } from 'react'\r\nimport { addNewMember, editExistingMember } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button, Select, Radio } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst genList = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\nconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions1 = teamList.map(t => {return { key: t, text: t, value: t }})\r\nconst teamOptions2 = teamList.concat('No Kennin').map(t => {return { key: t, text: t, value: t }})\r\nconst prefectureList = [\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = prefectureList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nconst MemberForm = (props) => {\r\n\tconst memberOptions = props.members.map(m => {return { key: m.id, text: m.name_j, value: m.id }})\r\n\r\n\tconst [firstname_e, setFirstname_e] = useState('')\r\n\tconst [lastname_e, setLastname_e] = useState('')\r\n\tconst [name_j, setName_j] = useState('')\r\n\tconst [firstname_k, setFirstname_k] = useState('')\r\n\tconst [lastname_k, setLastname_k] = useState('')\r\n\tconst [nickname, setNickname] = useState('')\r\n\tconst [birthday, setBirthday] = useState('')\r\n\tconst [hometown, setHometown] = useState('')\r\n\tconst [generation, setGeneration] = useState('')\r\n\tconst [pic_link, setPic_link] = useState('')\r\n\tconst [pic_forCert, setPic_forCert] = useState('')\r\n\tconst [team1, setTeam1] = useState(null)\r\n\tconst [team2, setTeam2] = useState(null)\r\n\tconst [current, setCurrent] = useState(true)\r\n\tconst [kks, setKks] = useState(false)\r\n\r\n\tconst [editMemberID, setEditMemberID] = useState('')\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetFirstname_e('')\r\n\t\tsetLastname_e('')\r\n\t\tsetName_j('')\r\n\t\tsetFirstname_k('')\r\n\t\tsetLastname_k('')\r\n\t\tsetNickname('')\r\n\t\tsetBirthday('')\r\n\t\tsetHometown('')\r\n\t\tsetGeneration('')\r\n\t\tsetPic_link('')\r\n\t\tsetPic_forCert('')\r\n\t\tsetTeam1('')\r\n\t\tsetTeam2(null)\r\n\t\tsetCurrent(true)\r\n\t\tsetKks(false)\r\n\t\tsetEditMemberID('')\r\n\t}\r\n\r\n\tconst handleAddMember = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst newMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\tpic_forCert,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst addedMember = await props.addNewMember(newMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${addedMember.name_j}\" is added`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleEdit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst updateMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\tpic_forCert,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst editedMember = await props.editExistingMember(editMemberID, updateMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${editedMember.name_j}\" is edited`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\tconst lookupMember = props.members.find(m => m.id === editMemberID)\r\n\r\n\tconst checkLink = (link) => link ? link : ''\r\n\r\n\tconst handleCopy = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetFirstname_e(lookupMember.name_e.firstname)\r\n\t\tsetLastname_e(lookupMember.name_e.lastname)\r\n\t\tsetName_j(lookupMember.name_j)\r\n\t\tsetFirstname_k(lookupMember.name_k.firstname)\r\n\t\tsetLastname_k(lookupMember.name_k.lastname)\r\n\t\tsetNickname(lookupMember.nickname)\r\n\t\tsetBirthday(lookupMember.birthday.substring(0, 10))\r\n\t\tsetHometown(lookupMember.hometown)\r\n\t\tsetGeneration(lookupMember.generation.name)\r\n\t\tsetPic_link(checkLink(lookupMember.pic_link))\r\n\t\tsetPic_forCert(checkLink(lookupMember.pic_forCert))\r\n\t\tsetTeam1(lookupMember.team[0])\r\n\t\tsetTeam2(lookupMember.team[1] ? lookupMember.team[1] : 'No Kennin')\r\n\t\tsetCurrent(lookupMember.current)\r\n\t\tsetKks(lookupMember.kks)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>New Member</h2>\r\n\t\t\t<Form onSubmit={handleCopy}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tinline\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Copy Existing Member'\r\n\t\t\t\t\t\toptions={memberOptions}\r\n\t\t\t\t\t\tplaceholder='Existing Members'\r\n\t\t\t\t\t\tonChange={(e, data) => setEditMemberID(data.value)}\r\n\t\t\t\t\t\tvalue={editMemberID}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\">COPY</Button>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t</Form>\r\n\t\t\t<Form onSubmit={handleAddMember}>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (English)'\r\n\t\t\t\t\t\tplaceholder='First name'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_e(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (English)'\r\n\t\t\t\t\t\tplaceholder='Last name'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_e(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Full name (Japanese Kanji)'\r\n\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\tonChange={({ target }) => setName_j(target.value)}\r\n\t\t\t\t\tvalue={name_j}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (Katakana)'\r\n\t\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_k(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (Katakana)'\r\n\t\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_k(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Nickname'\r\n\t\t\t\t\t\tplaceholder='Nickname'\r\n\t\t\t\t\t\tonChange={({ target }) => setNickname(target.value)}\r\n\t\t\t\t\t\tvalue={nickname}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Birthday'\r\n\t\t\t\t\t\tplaceholder='YYYY-MM-DD'\r\n\t\t\t\t\t\tonChange={({ target }) => setBirthday(target.value)}\r\n\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Hometown'\r\n\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\tplaceholder='Hometown'\r\n\t\t\t\t\t\tonChange={(e, data) => setHometown(data.value)}\r\n\t\t\t\t\t\tvalue={hometown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Profile Picture Link'\r\n\t\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\t\tonChange={({ target }) => setPic_link(target.value)}\r\n\t\t\t\t\t\tvalue={pic_link}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Certificate Picture Link'\r\n\t\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\t\tonChange={({ target }) => setPic_forCert(target.value)}\r\n\t\t\t\t\t\tvalue={pic_forCert}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Generation'\r\n\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\tplaceholder='Generation'\r\n\t\t\t\t\t\tonChange={(e, data) => setGeneration(data.value)}\r\n\t\t\t\t\t\tvalue={generation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Main)'\r\n\t\t\t\t\t\toptions={teamOptions1}\r\n\t\t\t\t\t\tplaceholder='Team (Main)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam1(data.value)}\r\n\t\t\t\t\t\tvalue={team1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Kennin)'\r\n\t\t\t\t\t\toptions={teamOptions2}\r\n\t\t\t\t\t\tplaceholder='Team (Kennin)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam2(data.value)}\r\n\t\t\t\t\t\tvalue={team2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Membership</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Current'\r\n\t\t\t\t\t\tchecked={current === true}\r\n\t\t\t\t\t\tonChange={() => setCurrent(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Graduated'\r\n\t\t\t\t\t\tchecked={current === false}\r\n\t\t\t\t\t\tonChange={() => setCurrent(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Status</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Regular'\r\n\t\t\t\t\t\tchecked={kks === false}\r\n\t\t\t\t\t\tonChange={() => setKks(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Kenkyosen'\r\n\t\t\t\t\t\tchecked={kks === true}\r\n\t\t\t\t\t\tonChange={() => setKks(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\" color='pink'>ADD MEMBER</Button>\r\n\t\t\t\t<Button onClick={handleEdit}>EDIT MEMBER</Button>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewMember,\r\n\teditExistingMember\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberForm)","import axios from 'axios'\r\nconst baseUrl = '/api/cpkeys'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst addKey = async (key, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { key }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addKey }","import cpkeysService from '../services/cpkeys'\r\n\r\nconst cpkeysReducer = (state = [], action) => {\r\n\tconst sortByKey = (a, b) => {\r\n\t\tconst keyA = a.key\r\n\t\tconst keyB = b.key\r\n\t\tif (keyA < keyB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (keyB < keyA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_KEYS': {\r\n\t\t\tconst sortedKey = action.data.sort(sortByKey)\r\n\t\t\treturn sortedKey\r\n\t\t}\r\n\t\tcase 'ADD_KEY': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState.slice(0).sort(sortByKey)\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allKeys = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst cpkeys = await cpkeysService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_KEYS',\r\n\t\t\tdata: cpkeys\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewKey = (key, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedKey = await cpkeysService.addKey(key, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_KEY',\r\n\t\t\tdata: addedKey\r\n\t\t})\r\n\t\treturn addedKey\r\n\t}\r\n}\r\n\r\nexport default cpkeysReducer","import React, { useState } from 'react'\r\nimport { addNewKey } from '../reducers/cpkeysReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CpkeyForm = (props) => {\r\n\tconst [newCpkey, setNewCpkey] = useState('')\r\n\r\n\tconst handleAddKey = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst addedKey = await props.addNewKey(newCpkey, props.token)\r\n\t\t\tsetNewCpkey('')\r\n\t\t\tprops.setNotification({ content: `key \"${addedKey.key}\" is added`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAddKey}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new CP-Key'\r\n\t\t\t\tplaceholder='new CP-Key'\r\n\t\t\t\tonChange={({ target }) => setNewCpkey(target.value)}\r\n\t\t\t\tvalue={newCpkey}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\" color='pink'>Add Key</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewKey\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpkeyForm)","import React, { useEffect }  from 'react'\r\nimport CpkeyForm from './CpkeyForm'\r\nimport { allKeys } from '../reducers/cpkeysReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Cpkeys = (props) => {\r\n\tconst { token, user, allKeys, cpkeys } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallKeys(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allKeys])\r\n\r\n\tconst cpkeysList = () => {\r\n\t\tif (cpkeys.length > 0) {\r\n\t\t\treturn cpkeys.map(k => <div key={k.id}>{k.key}</div>)\r\n\t\t} else {\r\n\t\t\treturn <div>no available keys</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Cpkeys</h2>\r\n\t\t\t{ cpkeysList() }\r\n\t\t\t<CpkeyForm />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tcpkeys: state.cpkeys\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallKeys\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cpkeys)","import axios from 'axios'\r\nconst baseUrl = '/api/notices'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst create = async (content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst remove = async (id, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst response = await axios.delete(`${ baseUrl }/${ id }`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst update = async (id, content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.put(`${ baseUrl }/${ id }`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import noticesService from '../services/notices'\r\n\r\nconst noticesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NOTICES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ADD_NOTICE': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'UPDATE_NOTICE': {\r\n\t\t\tconst newState = state.map(n => n.id.toString().includes(action.data.id) ? action.data : n)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'REMOVE_NOTICE': {\r\n\t\t\tconst newState = state.filter(n => !n.id.toString().includes(action.data))\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeNotices = () => {\r\n\treturn async dispatch => {\r\n\t\tconst notices = await noticesService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NOTICES',\r\n\t\t\tdata: notices\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNotice = (content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedNotice = await noticesService.create(content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_NOTICE',\r\n\t\t\tdata: addedNotice\r\n\t\t})\r\n\t\treturn addedNotice\r\n\t}\r\n}\r\n\r\nexport const updateNotice = (id, content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedNotice = await noticesService.update(id, content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_NOTICE',\r\n\t\t\tdata: updatedNotice\r\n\t\t})\r\n\t\treturn updatedNotice\r\n\t}\r\n}\r\n\r\nexport const removeNotice = (id, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst removedNotice = await noticesService.remove(id, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'REMOVE_NOTICE',\r\n\t\t\tdata: id\r\n\t\t})\r\n\t\treturn removedNotice\r\n\t}\r\n}\r\n\r\nexport default noticesReducer","import React, { useState } from 'react'\r\nimport { addNotice, removeNotice, updateNotice } from '../reducers/noticesReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, List } from 'semantic-ui-react'\r\n\r\nconst Notices = (props) => {\r\n\tconst [newNotice, setNewNotice] = useState('')\r\n\r\n\tconst notices = () => {\r\n\t\tconst noticeList = () => {\r\n\t\t\tconst handleEditNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.updateNotice(id, newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Updated`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst handleRemoveNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.removeNotice(id, props.token)\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Removed`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn props.notices.map(n => (\r\n\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleEditNotice(n.id)}>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleRemoveNotice(n.id)} color='violet'>\r\n\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{`${props.notices.indexOf(n) + 1}. ${n.content}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<List ordered>\r\n\t\t\t\t\t{props.notices.map(n => <List.Item key={n.id}>{n.content}</List.Item>)}\r\n\t\t\t\t</List>\r\n\t\t\t)\r\n\t\t}\r\n\t\tconst noticeForm = () => {\r\n\t\t\tconst handleNewNotice = async (event) => {\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.addNotice(newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `New Notice Posted`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Form onSubmit={handleNewNotice}>\r\n\t\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\t\tlabel='New/Updated Notice:'\r\n\t\t\t\t\t\t\tplaceholder={newNotice}\r\n\t\t\t\t\t\t\tonChange={({ target }) => setNewNotice(target.value)}\r\n\t\t\t\t\t\t\tvalue={newNotice}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\t\tPost New Notice\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Current Notes</h2>\r\n\t\t\t\t{noticeList()}\r\n\t\t\t\t{noticeForm()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn notices()\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotices: state.notices,\r\n\t\tuser: state.user,\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNotice,\r\n\tremoveNotice,\r\n\tupdateNotice\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notices)","import axios from 'axios'\r\nconst baseUrl = '/api/certBackground'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newImgLink, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newImgLink }\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import certBackgroundService from '../services/certBackground'\r\n\r\nconst certBackgroundReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_CERTBACKGROUND': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'CHANGE_CERTBACKGROUND': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getCertBackground = () => {\r\n\treturn async dispatch => {\r\n\t\tconst imgLink = await certBackgroundService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_CERTBACKGROUND',\r\n\t\t\tdata: imgLink\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changeCertBackground = (newImgLink, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedCertBackground = await certBackgroundService.change(newImgLink, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_CERTBACKGROUND',\r\n\t\t\tdata: updatedCertBackground.imgLink\r\n\t\t})\r\n\t\treturn updatedCertBackground\r\n\t}\r\n}\r\n\r\nexport default certBackgroundReducer","import React, { useState } from 'react'\r\nimport { changeCertBackground } from '../reducers/certBackgroundReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CertBackgroundForm = (props) => {\r\n\tconst { certBackground } = props\r\n\tconst [newImgLink, setNewImgLink] = useState(certBackground)\r\n\r\n\tconst handleChangeCertBackground = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst changedBackground = await props.changeCertBackground(newImgLink, props.token)\r\n\t\t\tprops.setNotification({ content: `cert background is changed to \"${changedBackground.imgLink}\"`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleChangeCertBackground}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new cert background'\r\n\t\t\t\tplaceholder='http://newCertBackgroun.jpg'\r\n\t\t\t\tonChange={({ target }) => setNewImgLink(target.value)}\r\n\t\t\t\tvalue={newImgLink}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\" color='pink'>Change Background</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tchangeCertBackground\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CertBackgroundForm)","import React from 'react'\r\nimport CertBackgroundForm from './CertBackGroundForm'\r\nimport { Image } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CertBackGround = (props) => {\r\n\tconst { certBackground } = props\r\n\r\n\treturn certBackground ? (\r\n\t\t<div>\r\n\t\t\t<h2>Cert Background</h2>\r\n\t\t\t<Image src={certBackground} width={500} height='auto' alt='cert background'/>\r\n\t\t\t<CertBackgroundForm />\r\n\t\t</div>\r\n\t) :\r\n\t<CertBackgroundForm />\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CertBackGround)","import React  from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst MissingInfo = (props) => {\r\n\tconst membersList = () => {\r\n\t\tconst filteredMembers = props.members.filter(m => !m.pic_forCert)\r\n\t\tif (filteredMembers.length > 0) {\r\n\t\t\treturn filteredMembers.map(m => (<div key={m.id}>{m.name_j}</div>))\r\n\t\t} else {\r\n\t\t\treturn (<div>No missing infos</div>)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Members without Picture for Cert</h2>\r\n\t\t\t{ membersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(MissingInfo)","import React from 'react'\r\nimport Cpkeys from './Cpkeys'\r\nimport Notices from './Notices'\r\nimport CertBackGround from './CertBackGround'\r\nimport MissingInfo from './MissingInfo'\r\n\r\nconst breakLineStyle = {\r\n\tmargin: 20,\r\n\tpadding: 0,\r\n\tborderTop: 'solid',\r\n\tborderColor: 'pink',\r\n\tborderWidth: 1\r\n}\r\n\r\nconst Controls = () => (\r\n\t<div>\r\n\t\t<Notices />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<Cpkeys />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<CertBackGround />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<MissingInfo />\r\n\t</div>\r\n)\r\n\r\n\r\nexport default Controls","import axios from 'axios'\r\nconst baseUrl = '/api/time'\r\n\r\nconst get = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get }","import timeService from '../services/time'\r\n\r\nconst timeReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_TIME': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ONE_TICK': {\r\n\t\t\tconst newTime = new Date(Date.parse(state) + 1000)\r\n\t\t\treturn newTime\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getServerTime = () => {\r\n\treturn async dispatch => {\r\n\t\tconst serverTime = await timeService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_TIME',\r\n\t\t\tdata: serverTime\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const oneTick = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'ONE_TICK'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default timeReducer","import usersService from '../services/users'\r\n\r\nconst displaynamesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_DISPLAYNAMES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeDisplaynames = () => {\r\n\treturn async dispatch => {\r\n\t\tconst displaynames = await usersService.getDisplaynames()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_DISPLAYNAMES',\r\n\t\t\tdata: displaynames\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default displaynamesReducer","import axios from 'axios'\r\nconst baseUrl = '/api/phrase'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newPhrase, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newPhrase\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import phraseService from '../services/phrase'\r\n\r\nconst phraseReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'CHANGE_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const checkPhrase = () => {\r\n\treturn async dispatch => {\r\n\t\tconst phrase = await phraseService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_PHRASE',\r\n\t\t\tdata: phrase\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changePhrase = (newPhrase, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedPhrase = await phraseService.change(newPhrase, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_PHRASE',\r\n\t\t\tdata: updatedPhrase.phrase\r\n\t\t})\r\n\t\treturn updatedPhrase\r\n\t}\r\n}\r\n\r\nexport default phraseReducer","import React, { useEffect }  from 'react'\nimport { connect } from 'react-redux'\nimport Menu from './components/Menu'\nimport Notification from './components/Notification'\nimport Home from './components/Home'\nimport Member from './components/Member'\nimport Members from './components/Members'\nimport Login from './components/Login'\nimport SignUpForm from './components/SignUpForm'\nimport Profile from './components/Profile'\nimport Users from './components/Users'\nimport Negotiations from './components/Negotiations'\nimport MemberForm from './components/MemberForm'\nimport Controls from './components/Controls'\nimport { getServerTime, oneTick } from './reducers/timeReducer'\nimport { initializeMembers } from './reducers/membersReducer'\nimport { initializeDisplaynames } from './reducers/displaynamesReducer'\nimport { initializeNotices } from './reducers/noticesReducer'\nimport { setToken } from './reducers/tokenReducer'\nimport { setUserByToken } from './reducers/userReducer'\nimport { checkPhrase } from './reducers/phraseReducer'\nimport { getCertBackground } from './reducers/certBackgroundReducer'\nimport {\n\tBrowserRouter as Router,\n\tRoute, Redirect\n} from 'react-router-dom'\nimport { Container, Segment } from 'semantic-ui-react'\nimport './css/oshigame.css'\n\nconst App = (props) => {\n\n\tconst { getServerTime, oneTick, setToken, setUserByToken, initializeMembers, initializeDisplaynames, initializeNotices, checkPhrase, getCertBackground } = props\n\n\tuseEffect (() => {\n\t\tconst startsTicking = () => {\n\t\t\tsetInterval(oneTick, 1000)\n\t\t}\n\t\tgetServerTime()\n\t\tstartsTicking()\n\t\tinitializeMembers()\n\t\tinitializeDisplaynames()\n\t\tinitializeNotices()\n\t}, [getServerTime, oneTick, initializeMembers, initializeDisplaynames, initializeNotices])\n\n\tuseEffect (() => {\n\t\tcheckPhrase()\n\t\tgetCertBackground()\n\t})\n\n\tuseEffect (() => {\n\t\tconst loggedUserTokenJSON = window.localStorage.getItem('oshigameUserToken')\n\n\t\tif (loggedUserTokenJSON) {\n\t\t\tconst savedToken = JSON.parse(loggedUserTokenJSON)\n\t\t\tsetToken(savedToken)\n\t\t\tsetUserByToken(savedToken)\n\t\t}\n\t}, [setToken, setUserByToken])\n\n\tconst memberById = (id) => {\n\t\treturn props.members.find(m => m.id === id)\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Router>\n\t\t\t\t<Segment basic>\n\t\t\t\t\t<Route path=\"/\" render={() =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Menu />\n\t\t\t\t\t\t\t<Notification />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/\" render={() =>\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/login\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <Login />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/sign_up\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <SignUpForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members\" render={() =>\n\t\t\t\t\t\t<Members />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members/:id\" render={({ match }) =>\n\t\t\t\t\t\t<Member shownMember={memberById(match.params.id)} />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/profile\" render={() =>\n\t\t\t\t\t\t<Profile />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/users\" render={() =>\n\t\t\t\t\t\t<Users />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/negotiations\" render={() =>\n\t\t\t\t\t\t<Negotiations />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/new_member\" render={() =>\n\t\t\t\t\t\t<MemberForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/controls\" render={() =>\n\t\t\t\t\t\t<Controls />\n\t\t\t\t\t} />\n\t\t\t\t</Segment>\n\t\t\t</Router>\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmembers: state.members,\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetToken,\n\tsetUserByToken,\n\tgetServerTime,\n\toneTick,\n\tinitializeMembers,\n\tinitializeDisplaynames,\n\tinitializeNotices,\n\tcheckPhrase,\n\tgetCertBackground\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport timeReducer from './reducers/timeReducer'\r\nimport membersReducer from './reducers/membersReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport tokenReducer from './reducers/tokenReducer'\r\nimport cpkeysReducer from './reducers/cpkeysReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport negotiationsReducer from './reducers/negotiationsReducer'\r\nimport phraseReducer from './reducers/phraseReducer'\r\nimport bidsReducer from './reducers/bidsReducer'\r\nimport displaynamesReducer from './reducers/displaynamesReducer'\r\nimport noticesReducer from './reducers/noticesReducer'\r\nimport shownNoticeReducer from './reducers/shownNoticeReducer'\r\nimport certBackgroundReducer from './reducers/certBackgroundReducer'\r\n\r\nconst reducer = combineReducers({\r\n\tmembers: membersReducer,\r\n\tnotification: notificationReducer,\r\n\tuser: userReducer,\r\n\ttoken: tokenReducer,\r\n\tcpkeys: cpkeysReducer,\r\n\tusers: usersReducer,\r\n\tnegotiations: negotiationsReducer,\r\n\tphrase: phraseReducer,\r\n\tbids: bidsReducer,\r\n\tdisplaynames: displaynamesReducer,\r\n\tnotices: noticesReducer,\r\n\tserverTime: timeReducer,\r\n\tshownNotice: shownNoticeReducer,\r\n\tcertBackground: certBackgroundReducer\r\n})\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nconst render = () => {\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t)\n}\n\nrender()\nstore.subscribe(render)"],"sourceRoot":""}