{"version":3,"sources":["components/CurrentUser.js","services/reset.js","reducers/notificationReducer.js","components/AdminMenu.js","reducers/tokenReducer.js","services/login.js","services/users.js","reducers/userReducer.js","components/Logout.js","components/Menu.js","components/Notification.js","services/negotiations.js","reducers/bidsReducer.js","components/TopBids.js","components/TopValues.js","components/TopPopularity.js","components/Loading.js","components/Banner.js","reducers/shownNoticeReducer.js","components/Home.js","services/members.js","reducers/membersReducer.js","components/modules/remainTime.js","components/NegoPayriseForm.js","components/ButtonProcessing.js","components/NegoBidForm.js","components/NegoOfferForm.js","components/ButtonLateSign.js","components/ButtonRelease.js","services/job.js","components/AssignmentForm.js","components/ButtonAssignmentCancel.js","components/ButtonAssignmentCollect.js","components/Member.js","components/Members.js","components/LoginForm.js","components/Login.js","components/SignUpForm.js","components/User.js","components/PDFCert.js","components/ReportViewer.js","components/ReportDownloader.js","components/Profile.js","reducers/usersReducer.js","components/Users.js","reducers/negotiationsReducer.js","components/Negotiations.js","components/MemberForm.js","services/cpkeys.js","reducers/cpkeysReducer.js","components/CpkeyForm.js","components/Cpkeys.js","services/notices.js","reducers/noticesReducer.js","components/Notices.js","services/certBackground.js","reducers/certBackgroundReducer.js","components/CertBackGroundForm.js","components/CertBackGround.js","components/MissingInfo.js","components/Controls.js","components/MenuBottom.js","components/HowToPlay.js","components/About.js","services/time.js","reducers/timeReducer.js","reducers/displaynamesReducer.js","services/phrase.js","reducers/phraseReducer.js","App.js","store.js","index.js"],"names":["style","marginBottom","marginTop","connect","state","user","props","fluid","widths","Item","Grid","Column","verticalAlign","displayname","assest","token","a","async","config","headers","Authorization","axios","post","response","data","initialState","content","colour","setNotification","message","time","ms","dispatch","type","header","listing","Promise","resolve","setTimeout","notificationReducer","action","newMessage","mapDispatchToProps","useState","confirmOpen","setConfirmOpen","linkStyle","textDecoration","color","Fragment","link","to","Button","onClick","Confirm","open","onCancel","onConfirm","resetService","setToken","newToken","tokenReducer","credentials","get","setUserByToken","userService","userReducer","setUser","Logout","withRouter","handleLogout","window","localStorage","removeItem","history","push","Responsive","onlyMobile","Icon","name","minWidth","onlyTablet","className","admin","inverted","adminMenu","padding","quickSilent","notification","active","Dimmer","page","Message","list","Header","newBid","newOffer","negotiationId","newForceTrade","newLateSign","newRelease","payriseBody","bidsReducer","sortByBid","b","BidA","bid","sortedBids","sort","getBids","negotiationsService","bids","hoverBid","setHoverBid","useEffect","hidePic","mobile","tablet","computer","length","topBids","slice","map","key","id","indexOf","memberId","onMouseOver","onMouseOut","nickname","bidsList","only","src","pic_link","alt","firstname_e","lastname_e","height","memberPic","members","hoverMember","setHoverMember","sortFunctionByValue","valueA","value","topMembers","m","membersList","name_e","firstname","lastname","sortFunctionByFanSize","fanA","fanSize","Loading","Loader","jobList","randomJob","Math","floor","random","picStyle","display","membersPic","job","workingMembers","filter","randomIndices","showingMembers","i","pendingIndex","includes","width","sylte","switchOn","noMore","shownNoticeReducer","newState","noMoreNoticeOn","noMoreNoticeOff","turnOnNotice","turnOffNotice","phrase","notices","shownNotice","shownList","setShownList","handleNoticeClose","Form","Field","control","Select","label","options","text","placeholder","onChange","e","Modal","closeOnDimmerClick","onClose","Content","List","ordered","n","Actions","Checkbox","checked","newMember","updateMember","put","initializeMembers","memberService","updateMemberBid","memberUpdate","membersReducer","sortFunctionByGen","generation","sortValue","sortFunctionByTeam","x","y","teamList","team","sortFunctionByFirstname_e","nameA","nameB","sortFunctionByLastname_e","sortFunctionByKatakanaLastName","katakanaA","katakanaB","katakanaList","minLength","min","name_k","sortFunctionByKatakanaFirstName","sortFunctionByKks","kks","sortFunctionByHometown","prefectureList","hometown","englishNameSort","sortingMembers","katakanaSort","defaultSort","nonT8Members","t8Members","concat","sortedMember","toString","remainTimeMSCal","serverTime","endTime","Date","parse","compo","remainTimeMS","remainTimeS","remainHrs","remainMins","remainS","shownMember","payrise","setPayrise","dummyConfirmOpen","setDummyConfirmOpen","handleDummyClick","event","preventDefault","onSubmit","Input","target","parseInt","amount","updatedMember","name_j","error","ButtonProcessing","disabled","setBid","processing","setProcessing","negotiation","tradeType","placedBid","member","applicant","offer","setOffer","forceTradeConfirmOpen","setForceTradeConfirmOpen","lowerLimit","upperLimit","forceTradePrice","recipient","agency","lateSignConfirmOpen","setLateSignConfirmOpen","lateSignPrice","releaseConfirmOpen","setReleaseConfirmOpen","releasePrice","assignment","jobType","setAssignemt","assignmentOptions","jobService","currentAssest","short","cancelButton","confirmButton","remainTime","fanReward","moneyReward","currentFanSize","bidFormStyle","offerFormStyle","payriseFormStyle","releaseButtonStyle","assignmentFormStyle","lateSignButtonStyle","assignmentCancelStyle","assignmentCollectStyle","oshimens","bday","birthday","substring","Row","columns","Table","striped","unstackable","Body","Cell","join","current","tradable","teamOptions","t","genOptions","g","hometownOptions","p","agencyList","agencyOptions","sortOptions","sortMembersByDefault","sortMembersByGen","sortMembersByTeam","sortMembersByEnglishName","sortMembersByKatakana","sortMembersByHometown","sortMembersByValue","sortMembersByFanSize","teamFilter","setTeamFilter","genFilter","setGenFilter","hometownFilter","setHometownFilter","agencyFilter","setAgencyFilter","currentSort","setCurrentSort","memberSpan","s","filteredMembers","filteringByAgency","profilePicStyle","hidden","colorCheck","checkTeam","teamColor1","teamColor2","opacity","borderTop","borderLeft","borderBottom","borderRight","revealTextStyle","position","top","left","transform","fontSize","lineHeight","textAlign","textShadow","Reveal","animated","instant","visible","Image","quickInfo","method","doSort","userLogin","loginInfo","username","password","loginService","LoginForm","setUsername","setPassword","loggedUser","setItem","JSON","stringify","Login","SignUpForm","setDisplayname","password_1","setPassword_1","password_2","setPassword_2","createkey","setCreatekey","newUserInfo","createdUser","displaynames","shownUser","paddingTop","u","negotiations","biddingList","releasedList","forcedList","sentOfferList","receivedOfferList","digestedBiddingList","biddingSpan","digestedSentOfferList","sentOfferSpan","digestedForcedList","forcedSpan","digestedReleasedList","releasedSpan","negotiationList","jobState","oshimenList","PDFCert","backgroundPic","certBackground","Font","registerHyphenationCallback","word","styles","StyleSheet","create","backgroundColor","backgroundImage","section","margin","pageBackground","minHeight","heading","marginHorizontal","paddingHorizontal","paddingVertical","smallText","hyphens","title","subtitle","dateStamp","horizontalView","flexDirection","bestMemberFrame","paddingBottom","flex","bestMemberTitle","bestMemberPic","objectFit","border","borderWidth","borderColor","bestMemberText","sectionHeadText","generalStatTitle","generalStatData","breakLine","marginVertical","borderTopWidth","horizontalViewPadded","memberlistName","memberlistData","now","dummyMember","MPM","maxFans","max","find","MVM","maxValue","MEM","maxFTV","mPicP","pic_forCert","mPicV","mPicE","stat","sum","array","reduce","average","dp","d","pow","totalValue","totalFans","pageTemplate","disaplayname","author","size","orientation","fanSizes","avgFanSize","values","avgValue","FTVs","avgFTV","firstHalf","secondHalf","oshimenPages","document","fileName","blob","url","loading","displayText","showReport","setShowReport","reportStyle","onlyComputer","float","usersReducer","sortByUsername","usernameA","usernameB","sortedUser","allUsers","usersService","users","negotiationsReducer","sortedNegotiations","allNegotiations","clearNegotiations","headstyle","teamOptions1","teamOptions2","addNewMember","addedMember","editExistingMember","editedMember","memberOptions","setFirstname_e","setLastname_e","setName_j","firstname_k","setFirstname_k","lastname_k","setLastname_k","setNickname","setBirthday","setHometown","setGeneration","setPic_link","setPic_forCert","team1","setTeam1","team2","setTeam2","setCurrent","setKks","editMemberID","setEditMemberID","resetForm","lookupMember","checkLink","Group","inline","teams","Radio","cpkeysReducer","sortByKey","keyA","keyB","sortedKey","addNewKey","cpkeysService","addedKey","newCpkey","setNewCpkey","allKeys","cpkeys","k","delete","noticesReducer","addNotice","noticesService","addedNotice","removeNotice","removedNotice","updateNotice","updatedNotice","newNotice","setNewNotice","newImgLink","certBackgroundReducer","changeCertBackground","certBackgroundService","updatedCertBackground","imgLink","setNewImgLink","changedBackground","breakLineStyle","Controls","MenuBottom","panels","icon","href","HowToPlay","Accordion","defaultActiveIndex","exclusive","styled","About","timeReducer","newTime","displaynamesReducer","phraseReducer","getServerTime","timeService","oneTick","initializeDisplaynames","initializeNotices","checkPhrase","phraseService","getCertBackground","setInterval","loggedUserTokenJSON","getItem","savedToken","Container","Segment","basic","path","render","exact","exaxt","match","params","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById","subscribe"],"mappings":"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","file":"static/js/main.a923beaf.chunk.js","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Grid } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\",\r\n\tmarginTop: \"0px\"\r\n}\r\n\r\nconst CurrentUser = (props) => {\r\n\tif (props.user) {\r\n\t\treturn (\r\n\t\t\t<UIMenu style={style} fluid widths={1}>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t<Grid.Column verticalAlign='middle'>\r\n\t\t\t\t\t\t\t<div>{props.user.displayname}</div>\r\n\t\t\t\t\t\t\t<div>Money: ${props.user.assest}</div>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t</UIMenu>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnull\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CurrentUser)","import axios from 'axios'\r\nconst baseUrl = '/api/resetDB'\r\n\r\nconst resetDB = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { resetDB }","const initialState = { content: null, colour: 'white' }\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'NOTIFY': {\r\n\t\t\tconst newMessage = { header: action.data.header, content: action.data.content, colour: action.data.colour, listing: action.data.listing }\r\n\t\t\treturn newMessage\r\n\t\t}\r\n\t\tcase 'SILENT':\r\n\t\t\treturn { header: null, content: null, colour: 'white', listing: false }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setNotification = (message, time) => {\r\n\tlet ms = 2000\r\n\tif (time === 'long') {\r\n\t\tms = 3000\r\n\t}\r\n\tif (time === 'short') {\r\n\t\tms = 1000\r\n\t}\r\n\tif (time === 'byClick') {\r\n\t\treturn async dispatch => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'NOTIFY',\r\n\t\t\t\tdata: { header: message.header, content: message.content, colour: message.colour, listing: message.listing }\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOTIFY',\r\n\t\t\tdata: { header: message.header, content: message.content, colour: message.colour, listing: message.listing }\r\n\t\t})\r\n\t\tawait new Promise(resolve => setTimeout(resolve, ms))\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const quickSilent = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SILENT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","import React, { useState } from 'react'\r\nimport resetService from '../services/reset'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst AdminMenu = (props) => {\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n\tconst handleReset = () => {\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleConfirmCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleConfirmConfirm = async () => {\r\n\t\tawait resetService.resetDB(props.token)\r\n\t\tprops.setNotification({ content: 'database reseted', colour: 'orange' }, 'long')\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst linkStyle = {\r\n\t\ttextDecoration: 'none',\r\n\t\tcolor: 'white'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/users\" style={linkStyle}>users</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/negotiations\" style={linkStyle}>negotiations</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/new_member\" style={linkStyle}>edit member</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item link>\r\n\t\t\t\t<Link to=\"/controls\" style={linkStyle}>controls</Link>\r\n\t\t\t</UIMenu.Item>\r\n\t\t\t<UIMenu.Item>\r\n\t\t\t\t<Button onClick={handleReset}>RESET DB</Button>\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\topen={confirmOpen}\r\n\t\t\t\t\tonCancel={handleConfirmCancel}\r\n\t\t\t\t\tonConfirm={handleConfirmConfirm}\r\n\t\t\t\t/>\r\n\t\t\t</UIMenu.Item>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminMenu)","const tokenReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'TOKEN_CHANGE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'TOKEN_CLEAR': {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setToken = (newToken) => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CHANGE',\r\n\t\tdata: newToken\r\n\t}\r\n}\r\n\r\nexport const clearToken = () => {\r\n\treturn {\r\n\t\ttype: 'TOKEN_CLEAR'\r\n\t}\r\n}\r\n\r\nexport default tokenReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getByToken = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(`${ baseUrl }/byToken`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getDisplaynames = async () => {\r\n\tconst response = await axios.get(`${ baseUrl }/displaynames`)\r\n\treturn response.data\r\n}\r\n\r\nconst addUser = async (data) => {\r\n\tconst response = await axios.post(baseUrl, data)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, getByToken, getDisplaynames, addUser }","import loginService from '../services/login'\r\nimport userService from '../services/users'\r\n\r\nconst userReducer = (state = null, action) => {\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'SET_USER': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'SET_USER_BY_TOKEN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'USER_LOGIN': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUser = (user) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER',\r\n\t\t\tdata: user \r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const setUserByToken = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst user = await userService.getByToken(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'SET_USER_BY_TOKEN',\r\n\t\t\tdata: user\r\n\t\t})\r\n\t\treturn user\r\n\t}\r\n}\r\n\r\nexport const userLogin = (loginInfo) => {\r\n\tconst username = loginInfo.username\r\n\tconst password = loginInfo.password\r\n\treturn async dispatch => {\r\n\t\tconst data = await loginService.login({ username, password })\r\n\t\tdispatch({\r\n\t\t\ttype: 'USER_LOGIN',\r\n\t\t\tdata\r\n\t\t})\r\n\t\treturn data\r\n\t}\r\n}\r\n\r\nexport default userReducer","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { setUser } from '../reducers/userReducer'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { Responsive, Icon } from 'semantic-ui-react'\r\n\r\nconst LogoutNoHistory = (props) => {\r\n\tconst handleLogout = () => {\r\n\t\twindow.localStorage.removeItem('oshigameUserToken')\r\n\t\tprops.setToken(null)\r\n\t\tprops.setUser(null)\r\n\t\tprops.setNotification({ content: 'logged out successfully', colour: 'green' }, 'short')\r\n\t\tprops.history.push('/')\r\n\t}\r\n\r\n\tconst linkStyle = {\r\n\t\ttextDecoration: 'none',\r\n\t\tcolor: 'white'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link onClick={handleLogout} to=\"/\" style={linkStyle}><Icon name='sign out' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='sign out' onClick={handleLogout} />\r\n\t\t\t\t<Link onClick={handleLogout} to='/' style={linkStyle}>Logout</Link>\r\n\t\t\t</Responsive>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUser,\r\n\tsetToken\r\n}\r\n\r\nconst Logout = withRouter(LogoutNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout)","import React from 'react'\r\nimport CurrentUser from './CurrentUser'\r\nimport AdminMenu from './AdminMenu'\r\nimport Logout from './Logout'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Menu as UIMenu, Icon, Responsive } from 'semantic-ui-react'\r\n\r\nconst style = {\r\n\tmarginBottom: \"20px\"\r\n}\r\n\r\nconst linkStyle = {\r\n\ttextDecoration: 'none',\r\n\tcolor: 'white'\r\n}\r\n\r\nconst Menu = (props) => {\r\n\r\n\tconst extendedMenu = () => (props.user ?\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link to=\"/profile\" style={linkStyle}><Icon name='vcard' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='vcard' />\r\n\t\t\t\t<Link to=\"/profile\" style={linkStyle}>Profile</Link>\r\n\t\t\t</Responsive>\r\n\t\t</UIMenu.Item> :\r\n\t\tnull\r\n\t)\r\n\r\n\tconst adminMenu = () => {\r\n\t\tif (props.user) {\r\n\t\t\tif (props.user.admin) {\r\n\t\t\t\treturn <AdminMenu />\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst signInOut = () => (props.user ?\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Logout />\r\n\t\t</UIMenu.Item> :\r\n\t\t<UIMenu.Item>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<Link to=\"/login\" style={linkStyle}><Icon name='sign in' /></Link>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<Icon name='sign in' />\r\n\t\t\t\t<Link to=\"/login\" style={linkStyle}>Login / Sign up</Link>\r\n\t\t\t</Responsive>\r\n\t\t</UIMenu.Item>\r\n\t)\r\n\r\n\tconst menuWidth = () => {\r\n\t\tif (!props.user) {\r\n\t\t\treturn 3\r\n\t\t} else if (props.user.admin) {\r\n\t\t\treturn 9\r\n\t\t} else {\r\n\t\t\treturn 4\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<UIMenu className='ui top fixed menu' style={style} widths={menuWidth()} color='pink' inverted>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}><Icon name='home' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='home' />\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}>Home</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/members\" style={linkStyle}><Icon name='female' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='female' />\r\n\t\t\t\t\t\t<Link to=\"/members\" style={linkStyle}>Members</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t{extendedMenu()}\r\n\t\t\t\t{adminMenu()}\r\n\t\t\t\t{signInOut()}\r\n\t\t\t</UIMenu>\r\n\t\t\t<div style={{padding: 20}}/>\r\n\t\t\t<CurrentUser />\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Menu)","import React from 'react'\r\nimport { quickSilent } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Dimmer, Message } from 'semantic-ui-react'\r\n\r\nconst Notification = (props) => {\r\n\r\n\tif (props.notification.content === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst active = props.notification.content ? true : false\r\n\r\n\r\n\r\n\tif (props.notification.listing) {\r\n\t\treturn (\r\n\t\t\t<Dimmer active={active} page onClick={()=>props.quickSilent()}>\r\n\t\t\t\t<Message color={props.notification.colour} header={props.notification.header} list={props.notification.content} />\r\n\t\t\t</Dimmer>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Dimmer active={active} page onClick={()=>props.quickSilent()}>\r\n\t\t\t\t<Message color={props.notification.colour}>\r\n\t\t\t\t\t<Message.Header>\r\n\t\t\t\t\t\t{props.notification.header}\r\n\t\t\t\t\t</Message.Header>\r\n\t\t\t\t\t{props.notification.content}\r\n\t\t\t\t</Message>\r\n\t\t\t</Dimmer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotification: state.notification\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tquickSilent,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notification)","import axios from 'axios'\r\nconst baseUrl = '/api/negotiations'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst getBids = async() => {\r\n\tconst response = await axios.get(`${ baseUrl }/currentbids`)\r\n\treturn response.data\r\n}\r\n\r\nconst placeBid = async (newBid, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newBid\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst sendOffer = async (newOffer, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newOffer\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst acceptOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/accept`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst rejectOffer = async (negotiationId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { negotiationId }\r\n\tconst response = await axios.post(`${ baseUrl }/reject`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst applyForceTrade = async (newForceTrade, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newForceTrade\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst lateSign = async (newLateSign, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newLateSign\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst memberPayrise = async (payriseBody, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = payriseBody\r\n\tconst response = await axios.post(`${ baseUrl }/payrise`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst releaseMember = async (newRelease, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newRelease\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst settle = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = null\r\n\tconst response = await axios.post(`${ baseUrl }/settle`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default {\r\n\tgetAll,\r\n\tgetBids,\r\n\tsettle,\r\n\tplaceBid,\r\n\tsendOffer,\r\n\tacceptOffer,\r\n\trejectOffer,\r\n\tapplyForceTrade,\r\n\tlateSign,\r\n\treleaseMember,\r\n\tmemberPayrise\r\n}","import negotiationsService from '../services/negotiations'\r\n\r\nconst bidsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_BIDS': {\r\n\t\t\tconst sortedBids = action.data.sort(sortByBid)\r\n\t\t\treturn sortedBids\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getBids = () => {\r\n\treturn async dispatch => {\r\n\t\tconst bids = await negotiationsService.getBids()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_BIDS',\r\n\t\t\tdata: bids\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default bidsReducer","import React, { useEffect, useState }  from 'react'\r\nimport { getBids } from '../reducers/bidsReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopBids = (props) => {\r\n\tconst [hoverBid, setHoverBid] = useState(null)\r\n\r\n\tconst {bids, getBids } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tgetBids()\r\n\t}, [getBids])\r\n\r\n\tconst showPic = (bid) => {\r\n\t\tsetHoverBid(bid)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverBid(null)\r\n\t}\r\n\r\n\tconst bidsList = () => {\r\n\t\tif (bids.length > 0) {\r\n\t\t\tlet topBids = bids\r\n\t\t\tif (topBids.length > 10) {\r\n\t\t\t\ttopBids = topBids.slice(0, 10)\r\n\t\t\t}\r\n\t\t\treturn topBids.map(b => (\r\n\t\t\t\t<div key={b.id}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{`${topBids.indexOf(b) + 1}. `}\r\n\t\t\t\t\t\t<Link to={`/members/${b.memberId}`} onMouseOver={()=>showPic(b)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t\t{b.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{` at ${b.bid}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Bids</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverBid) {\r\n\t\t\treturn <img src={hoverBid.pic_link} alt={`${hoverBid.firstname_e} ${hoverBid.lastname_e}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Current Top 10 Bids</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ bidsList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbids: state.bids\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tgetBids\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TopBids)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopValues = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByValue).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{` at ${m.value}`}\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Expensive Members</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopValues)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Grid } from 'semantic-ui-react'\r\n\r\nconst TopPopularity = (props) => {\r\n\tconst [hoverMember, setHoverMember] = useState(null)\r\n\r\n\tconst { members } = props\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\r\n\t}\r\n\r\n\tconst showPic = (member) => {\r\n\t\tsetHoverMember(member)\r\n\t}\r\n\r\n\tconst hidePic = () => {\r\n\t\tsetHoverMember(null)\r\n\t}\r\n\r\n\tconst membersList = () => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tlet topMembers = members.slice(0)\r\n\t\t\ttopMembers = topMembers.sort(sortFunctionByFanSize).slice(0, 10)\r\n\t\t\treturn topMembers.map(m => (\r\n\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t{`${topMembers.indexOf(m) + 1}. `}\r\n\t\t\t\t\t<Link to={`/members/${m.id}`} onMouseOver={()=>showPic(m)} onMouseOut={hidePic}>\r\n\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{` with ${m.fanSize} fans`}\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn null\r\n\t\t}\r\n\t}\r\n\r\n\tconst memberPic = () => {\r\n\t\tif (hoverMember) {\r\n\t\t\treturn <img src={hoverMember.pic_link} alt={`${hoverMember.name_e.firstname} ${hoverMember.name_e.lastname}`} height=\"200\" />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Most Popular Members</h3>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column mobile={16} tablet={16} computer={8}>\r\n\t\t\t\t\t{ membersList() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column only='computer'>\r\n\t\t\t\t\t{ memberPic() }\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(TopPopularity)","import React from 'react'\r\nimport { Dimmer, Loader } from 'semantic-ui-react'\r\n\r\nconst Loading = () => {\r\n\treturn (\r\n\t\t<Dimmer active page>\r\n\t\t\t<Loader>Loading...</Loader>\r\n\t\t</Dimmer>\r\n\t)\r\n}\r\n\r\nexport default Loading","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport { Responsive } from 'semantic-ui-react'\r\nimport '../css/animations.css'\r\n\r\nconst Banner = (props) => {\r\n\tconst { members } = props\r\n\r\n\tconst jobList = ['SHOWROOM', 'HANDSHAKE', 'TV']\r\n\tconst randomJob = jobList[Math.floor(Math.random() * (jobList.length))]\r\n\r\n\tconst picStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst membersPic = (job, mobile) => {\r\n\t\tif (members.length > 0) {\r\n\t\t\tconst workingMembers = members.filter(m => {\r\n\t\t\t\tif (m.job) {\r\n\t\t\t\t\tif (m.job.name === job) {\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t})\r\n\t\t\tif (workingMembers.length === 0) {\r\n\t\t\t\treturn <div>No Member Currently Working for {job}</div>\r\n\t\t\t}\r\n\t\t\tlet randomIndices = []\r\n\t\t\tlet showingMembers = []\r\n\t\t\tif (workingMembers.length <=3) {\r\n\t\t\t\tshowingMembers = workingMembers\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\t\t\twhile (randomIndices.length === i) {\r\n\t\t\t\t\t\tconst pendingIndex = Math.floor(Math.random() * (workingMembers.length))\r\n\t\t\t\t\t\tif (!randomIndices.includes(pendingIndex)) {\r\n\t\t\t\t\t\t\trandomIndices.push(pendingIndex)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tshowingMembers = [workingMembers[randomIndices[0]], workingMembers[randomIndices[1]], workingMembers[randomIndices[2]]]\r\n\t\t\t}\r\n\t\t\tlet width='150'\r\n\t\t\tif (mobile) {\r\n\t\t\t\twidth='100'\r\n\t\t\t}\r\n\t\t\treturn showingMembers.map(m => (\r\n\t\t\t\t<img key={m.id} src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} sylte={picStyle} width={width}/>\r\n\t\t\t))\r\n\t\t}\r\n\t\treturn <Loading />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Members Currently Working for {randomJob}</h3>\r\n\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t<div className='banner'>\r\n\t\t\t\t\t{ membersPic(randomJob, false) }\r\n\t\t\t\t</div>\r\n\t\t\t</Responsive>\r\n\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t<div className='bannerMobile'>\r\n\t\t\t\t\t{ membersPic(randomJob, true) }\r\n\t\t\t\t</div>\r\n\t\t\t</Responsive>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Banner)","const initialState = {\r\n\tswitchOn: false,\r\n\tnoMore: false\r\n}\r\n\r\nconst shownNoticeReducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'NOMORE_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: state.switchOn,\r\n\t\t\t\tnoMore: true\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'COMEBACK_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: state.switchOn,\r\n\t\t\t\tnoMore: false\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'TURNON_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: true,\r\n\t\t\t\tnoMore: state.noMore\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'TURNOFF_NOTICE': {\r\n\t\t\tconst newState = {\r\n\t\t\t\tswitchOn: false,\r\n\t\t\t\tnoMore: state.noMore\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const noMoreNoticeOn = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'NOMORE_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const noMoreNoticeOff = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'COMEBACK_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const turnOnNotice = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'TURNON_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const turnOffNotice = () => {\r\n\treturn dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'TURNOFF_NOTICE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport default shownNoticeReducer","import React, { useState, useEffect } from 'react'\r\nimport TopBids from './TopBids'\r\nimport TopValues from './TopValues'\r\nimport TopPopularity from './TopPopularity'\r\nimport Banner from './Banner'\r\nimport { noMoreNoticeOn, noMoreNoticeOff, turnOnNotice, turnOffNotice } from '../reducers/shownNoticeReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Select, List, Modal, Button, Icon, Checkbox } from 'semantic-ui-react'\r\n\r\nconst Home = (props) => {\r\n\tconst { shownNotice,  noMoreNoticeOn, noMoreNoticeOff, turnOnNotice, turnOffNotice } = props\r\n\tconst [shownList, setShownList] = useState('FAN')\r\n\t\r\n\tconst listOptions = [\r\n\t\t{ key: 'list1', text: 'Most Expensive Members', value: 'VALUE' },\r\n\t\t{ key: 'list2', text: 'Most Popular Members', value: 'FAN' },\r\n\t\t{ key: 'list3', text: 'Current Top 10 Bids', value: 'BID' }\r\n\t]\r\n\r\n\tuseEffect (() => {\r\n\t\tif (!shownNotice.noMore) {\r\n\t\t\tturnOnNotice()\r\n\t\t}\r\n\t}, [shownNotice.noMore, turnOnNotice])\r\n\r\n\tconst handleNewsButtonClicked = () => {\r\n\t\tturnOnNotice()\r\n\t}\r\n\r\n\tconst handleNoticeClose = () => {\r\n\t\tturnOffNotice()\r\n\t}\r\n\r\n\tconst notices = () => (\r\n\t\t<div>\r\n\t\t\t<List ordered>\r\n\t\t\t\t{props.notices.map(n => <List.Item key={n.id}>{n.content}</List.Item>)}\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst list = () => {\r\n\t\tswitch(shownList) {\r\n\t\t\tcase 'VALUE': {\r\n\t\t\t\treturn <TopValues />\r\n\t\t\t}\r\n\t\t\tcase 'BID': {\r\n\t\t\t\treturn <TopBids />\r\n\t\t\t}\r\n\t\t\tcase 'FAN': {\r\n\t\t\t\treturn <TopPopularity />\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst toggleNoMoreNotice = () => {\r\n\t\tif (shownNotice.noMore) {\r\n\t\t\tnoMoreNoticeOff()\r\n\t\t} else {\r\n\t\t\tnoMoreNoticeOn()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Welcome to Oshigame <Button onClick={handleNewsButtonClicked}><Icon name='newspaper outline' /> What's New</Button></h2>\r\n\t\t\t<Banner />\r\n\t\t\t<h3>phrase: {props.phrase} </h3>\r\n\t\t\t<Form.Field\r\n\t\t\t\tcontrol={Select}\r\n\t\t\t\tlabel='List to Show: '\r\n\t\t\t\toptions={listOptions}\r\n\t\t\t\tplaceholder='Lists'\r\n\t\t\t\tonChange={(e, data) => setShownList(data.value)}\r\n\t\t\t\tvalue={shownList}\r\n\t\t\t/>\r\n\t\t\t{list()}\r\n\t\t\t<Modal open={shownNotice.switchOn} closeOnDimmerClick={false} onClose={handleNoticeClose}>\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Content>\r\n\t\t\t\t\t{notices()}\r\n\t\t\t\t</Modal.Content>\r\n\t\t\t\t<Modal.Actions>\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tlabel=\"Don't show again before next visit.\"\r\n\t\t\t\t\t\tchecked={shownNotice.noMore}\r\n\t\t\t\t\t\tonChange={toggleNoMoreNotice}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button onClick={handleNoticeClose}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Actions>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tphrase: state.phrase,\r\n\t\tnotices: state.notices,\r\n\t\tshownNotice: state.shownNotice\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tnoMoreNoticeOn,\r\n\tnoMoreNoticeOff,\r\n\tturnOnNotice,\r\n\tturnOffNotice\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import axios from 'axios'\r\nconst baseUrl = '/api/members'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst addMember = async (newMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newMember }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst editMember = async (id, updateMember, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { updateMember }\r\n\tconst response = await axios.put(`${ baseUrl }/${ id }`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addMember, editMember }","import memberService from '../services/members'\r\n\r\nconst membersReducer = (state = [], action) => {\r\n\r\n\tconst sortFunctionByGen = (a, b) => {\r\n\t\tconst genA = a.generation.sortValue\r\n\t\tconst genB = b.generation.sortValue\r\n\t\treturn genA - genB\r\n\t}\r\n\r\n\tconst sortFunctionByTeam = (x, y) => {\r\n\t\tconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\n\t\tlet teamX = teamList.indexOf(x.team[0])\r\n\t\tlet teamY = teamList.indexOf(y.team[0])\r\n\t\treturn teamX - teamY\t\r\n\t}\r\n\r\n\tconst sortFunctionByFirstname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.firstname\r\n\t\tconst nameB = b.name_e.firstname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByLastname_e = (a, b) => {\r\n\t\tconst nameA = a.name_e.lastname\r\n\t\tconst nameB = b.name_e.lastname\r\n\t\tif (nameA < nameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (nameB < nameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaLastName = (a, b) => {\r\n\t\tconst katakanaList = ''\r\n\t\tconst minLength = Math.min(a.name_k.lastname.length, b.name_k.lastname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.lastname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.lastname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.lastname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.lastname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKatakanaFirstName = (a, b) => {\r\n\t\tconst katakanaList = ''\r\n\t\tconst minLength = Math.min(a.name_k.firstname.length, b.name_k.firstname.length)\r\n\t\tlet i, katakanaA, katakanaB\r\n\t\tfor (i = 0; i < minLength; i++) {\r\n\t\t\tkatakanaA = katakanaList.indexOf(a.name_k.firstname[i])\r\n\t\t\tkatakanaB = katakanaList.indexOf(b.name_k.firstname[i])\r\n\t\t\tif (katakanaA !== katakanaB) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tif (i === minLength - 1) {\r\n\t\t\t\tkatakanaA = a.name_k.firstname.length === minLength ? -1 : katakanaA\r\n\t\t\t\tkatakanaB = b.name_k.firstname.length === minLength ? -1 : katakanaB\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn katakanaA - katakanaB\t\r\n\t}\r\n\r\n\tconst sortFunctionByKks = (a, b) => {\r\n\t\tconst kksA = a.kks ? 99 : 1\r\n\t\tconst kksB = b.kks ? 99 : 1\r\n\t\treturn kksA - kksB\r\n\t}\r\n\r\n\tconst sortFunctionByValue = (a, b) => {\r\n\t\tconst valueA = a.value\r\n\t\tconst valueB = b.value\r\n\t\treturn valueB - valueA\r\n\t}\r\n\r\n\tconst sortFunctionByFanSize = (a, b) => {\r\n\t\tconst fanA = a.fanSize\r\n\t\tconst fanB = b.fanSize\r\n\t\treturn fanB - fanA\r\n\t}\r\n\r\n\tconst sortFunctionByHometown = (x, y) => {\r\n\t\tconst prefectureList = [\r\n\t\t\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t\t\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t\t\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t\t\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t\t\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t\t\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t\t\t'Taiwan'\r\n\t\t]\r\n\t\tlet prefectureX = prefectureList.indexOf(x.hometown)\r\n\t\tlet prefectureY = prefectureList.indexOf(y.hometown)\r\n\t\treturn prefectureX - prefectureY\t\r\n\t}\r\n\r\n\tconst englishNameSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByFirstname_e)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByLastname_e)\r\n\t\treturn sortingMembers\r\n\t}\r\n\r\n\tconst katakanaSort = (members) => {\r\n\t\tlet sortingMembers = members\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaFirstName)\r\n\t\tsortingMembers = sortingMembers.sort(sortFunctionByKatakanaLastName)\r\n\t\treturn sortingMembers\r\n\t}\r\n\t\r\n\tconst defaultSort = (members) => {\r\n\t\tlet nonT8Members = members.filter(m => m.team[0] !== 'Team 8')\r\n\t\tlet t8Members = members.filter(m => m.team[0] === 'Team 8')\r\n\t\tnonT8Members = katakanaSort(nonT8Members)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByKks)\r\n\t\tnonT8Members = nonT8Members.sort(sortFunctionByTeam)\r\n\t\tt8Members = t8Members.sort(sortFunctionByHometown)\r\n\t\tconst sortedMembers = nonT8Members.concat(t8Members)\r\n\t\treturn sortedMembers\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_MEMBERS': {\r\n\t\t\tconst sortedMember = defaultSort(action.data)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'ADD_MEMBER': {\r\n\t\t\tlet newState = state.concat(action.data)\r\n\t\t\tnewState = defaultSort(newState)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'EDIT_MEMBER': {\r\n\t\t\tconst newState = state.map(m => m.id.toString().includes(action.data.id) ? action.data : m)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_DEFAULT': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = defaultSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_GENERATION': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByGen)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_TEAM': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByTeam)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_ENGLISHNAME': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = englishNameSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_KATAKANA': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = katakanaSort(sortedMember)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_HOMETOWN': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByHometown)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_VALUE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByValue)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'MEMBERSORT_FANSIZE': {\r\n\t\t\tlet sortedMember = state.slice(0)\r\n\t\t\tsortedMember = sortedMember.sort(sortFunctionByFanSize)\r\n\t\t\treturn sortedMember\r\n\t\t}\r\n\t\tcase 'UPDATE_MEMBER_BID': {\r\n\t\t\tconst newState = state.map(m => m.id === action.data.id ? action.data : m)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeMembers = () => {\r\n\treturn async dispatch => {\r\n\t\tconst members = await memberService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_MEMBERS',\r\n\t\t\tdata: members\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewMember = (member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedMember = await memberService.addMember(member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_MEMBER',\r\n\t\t\tdata: addedMember\r\n\t\t})\r\n\t\treturn addedMember\r\n\t}\r\n}\r\n\r\nexport const editExistingMember = (id, member, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst editedMember = await memberService.editMember(id, member, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'EDIT_MEMBER',\r\n\t\t\tdata: editedMember\r\n\t\t})\r\n\t\treturn editedMember\r\n\t}\r\n}\r\n\r\nexport const sortMembersByDefault = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_DEFAULT'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByGen = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_GENERATION'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByTeam = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_TEAM'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByEnglishName = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_ENGLISHNAME'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByKatakana = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_KATAKANA'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByHometown = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_HOMETOWN'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByValue = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_VALUE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const sortMembersByFanSize = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'MEMBERSORT_FANSIZE'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateMemberBid = (memberUpdate) => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_MEMBER_BID',\r\n\t\t\tdata: memberUpdate\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default membersReducer","const remainTimeMSCal = (serverTime, endTime) => {\r\n\tconst endTimeMS = Date.parse(endTime)\r\n\tconst currentTimeMS = Date.parse(serverTime)\r\n\tconst remainTimeMS = endTimeMS - currentTimeMS\r\n\treturn remainTimeMS\r\n}\r\n\r\nconst remainTimeText = (serverTime, endTime, compo) => {\r\n\tif (serverTime && endTime) {\r\n\t\tconst remainTimeMS = remainTimeMSCal(serverTime, endTime)\r\n\t\tif (remainTimeMS > 0) {\r\n\t\t\tlet remainTimeS = Math.floor(remainTimeMS / 1000)\r\n\t\t\tconst remainHrs = Math.floor(remainTimeS / 3600)\r\n\t\t\tremainTimeS = remainTimeS % 3600\r\n\t\t\tconst remainMins = Math.floor(remainTimeS / 60)\r\n\t\t\tconst remainS = remainTimeS % 60\r\n\t\t\tif (compo === 'Member') {\r\n\t\t\t\treturn `back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t}\r\n\t\t\tif (compo === 'User') {\r\n\t\t\t\treturn `will be back in ${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t\t}\r\n\t\t\treturn `${remainHrs} hr ${remainMins} min ${remainS} s`\r\n\t\t} else {\r\n\t\t\treturn 'is ready to collect'\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n\r\nconst collectable = (serverTime, job) => {\r\n\tif (serverTime && job) {\r\n\t\treturn remainTimeMSCal(serverTime, job.endTime) > 0 ? false : true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport default { remainTimeText, collectable }","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst PayriseForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [payrise, setPayrise] = useState('')\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\tconst [dummyConfirmOpen, setDummyConfirmOpen] = useState(false)\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst handlePayriseCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handlePayriseConfirm = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(false)\r\n\t\tsetDummyConfirmOpen(true)\r\n\t\ttry {\r\n\t\t\tconst payriseBody = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tamount: payrise\r\n\t\t\t}\r\n\t\t\tconst updatedMember = await negotiationsService.memberPayrise(payriseBody, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `value of ${shownMember.name_j} is raised by ${payriseBody.amount} to ${updatedMember.value}`, colour: 'green' })\r\n\t\t\tsetPayrise('')\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetDummyConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleDummyClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\tconst handlePayrise = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Form onSubmit={handlePayrise} style={props.style}>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tlabel='Pay Rise Amount:'\r\n\t\t\t\t\tplaceholder={payrise}\r\n\t\t\t\t\tonChange={({ target }) => setPayrise(target.value)}\r\n\t\t\t\t\tvalue={payrise}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\tPay Rise\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={confirmOpen}\r\n\t\t\t\tcontent={`Confirm to value up ${shownMember.nickname} by $${payrise} to $${parseInt(shownMember.value) + parseInt(payrise)}?`}\r\n\t\t\t\tonCancel={handlePayriseCancel}\r\n\t\t\t\tonConfirm={handlePayriseConfirm}\r\n\t\t\t/>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={dummyConfirmOpen}\r\n\t\t\t\tcontent={`Please wait......`}\r\n\t\t\t\tonCancel={handleDummyClick}\r\n\t\t\t\tonConfirm={handleDummyClick}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PayriseForm)","import React from 'react'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst ButtonProcessing = (props) => {\r\n\tconst style = props.style ? props.style : {}\r\n\r\n\treturn (\r\n\t\t<Button disabled style={style}>\r\n\t\t\tProcessing\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nexport default ButtonProcessing","import React, { useState, useEffect } from 'react'\r\nimport ButtonProcessing from './ButtonProcessing'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers, updateMemberBid } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst BidForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [bid, setBid] = useState('')\r\n\tconst [processing, setProcessing] = useState(false)\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tuseEffect (() => {\r\n\t\tsetBid(shownMember.negotiation ? shownMember.negotiation.bid + 10 : shownMember.value)\r\n\t}, [shownMember])\r\n\r\n\tconst handleBid = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (props.phrase === 'negotiation') {\r\n\t\t\tsetProcessing(true)\r\n\t\t\ttry {\r\n\t\t\t\tconst newBid = {\r\n\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\tbid,\r\n\t\t\t\t\ttradeType: 'bid'\r\n\t\t\t\t}\r\n\t\t\t\tconst placedBid = await negotiationsService.placeBid(newBid, props.token)\r\n\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\tconst memberUpdate = {\r\n\t\t\t\t\t...shownMember,\r\n\t\t\t\t\t'negotiation': {\r\n\t\t\t\t\t\t'member': placedBid.member,\r\n\t\t\t\t\t\t'bid': placedBid.bid,\r\n\t\t\t\t\t\t'tradeType': placedBid.tradeType,\r\n\t\t\t\t\t\t'applicant': placedBid.applicant,\r\n\t\t\t\t\t\t'id': placedBid.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tprops.updateMemberBid(memberUpdate)\r\n\t\t\t\tsetBid(shownMember.value)\r\n\t\t\t\tprops.setNotification({ content: `a bid of $${bid} is placed for signing ${shownMember.name_j}`, colour: 'green' })\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t}\r\n\t\t\tsetProcessing(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst currentBid = () => {\r\n\t\tif (!shownMember.negotiation) {\r\n\t\t\treturn 'none'\r\n\t\t} else {\r\n\t\t\tif (props.user) {\r\n\t\t\t\treturn `${shownMember.negotiation.bid} from ${props.user.id === shownMember.negotiation.applicant? 'YOU' : 'other user'}.`\r\n\t\t\t} else {\r\n\t\t\t\treturn '---'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst button = () => processing ?\r\n\t\t<ButtonProcessing /> : (\r\n\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\tPlace Bid\r\n\t\t</Button>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleBid} style={props.style}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tlabel={`Bid: (highest bid at the moment: ${currentBid()})`}\r\n\t\t\t\tplaceholder={bid}\r\n\t\t\t\tonChange={({ target }) => setBid(target.value)}\r\n\t\t\t\tvalue={bid}\r\n\t\t\t/>\r\n\t\t\t{button()}\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tphrase: state.phrase,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers,\r\n\tupdateMemberBid\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BidForm)","import React, { useState, useEffect } from 'react'\r\nimport ButtonProcessing from './ButtonProcessing'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst OfferForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [offer, setOffer] = useState('')\r\n\tconst [forceTradeConfirmOpen, setForceTradeConfirmOpen] = useState(false)\r\n\tconst [dummyConfirmOpen, setDummyConfirmOpen] = useState(false)\r\n\tconst [processing, setProcessing] = useState(false)\r\n\r\n\tconst inlineStyle = {\r\n\t\tdisplay: 'inline'\r\n\t}\r\n\r\n\tconst lowerLimit = Math.floor(shownMember.value*0.8)\r\n\tconst upperLimit = Math.floor(shownMember.value*1.3)\r\n\tconst forceTradePrice = upperLimit + 1\r\n\r\n\tuseEffect (() => {\r\n\t\tsetOffer(lowerLimit)\r\n\t}, [lowerLimit])\r\n\r\n\tconst handleForceTradeCancel = () => {\r\n\t\tsetForceTradeConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleForceTradeConfirm = async () => {\r\n\t\tsetForceTradeConfirmOpen(false)\r\n\t\tsetDummyConfirmOpen(true)\r\n\t\ttry {\r\n\t\t\tconst newForceTrade = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: forceTradePrice,\r\n\t\t\t\ttradeType: 'force',\r\n\t\t\t\trecipient: shownMember.agency\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.applyForceTrade(newForceTrade, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `a force trade is applied at $${forceTradePrice} for signing ${shownMember.name_j} from ${shownMember.agency.displayname} `, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetDummyConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleOffer = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (props.phrase === 'negotiation') {\r\n\t\t\tsetProcessing(true)\r\n\t\t\tif (offer < lowerLimit) {\r\n\t\t\t\tprops.setNotification({ content: 'your offer is too low', colour: 'red' }, 5)\r\n\t\t\t} else if (offer > upperLimit) {\r\n\t\t\t\tsetForceTradeConfirmOpen(true)\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst newOffer = {\r\n\t\t\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\t\t\tbid: offer,\r\n\t\t\t\t\t\ttradeType: 'offer',\r\n\t\t\t\t\t\trecipient: shownMember.agency\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait negotiationsService.sendOffer(newOffer, props.token)\r\n\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\tprops.setNotification({ content: `an offer of $${offer} is sent to ${shownMember.agency.displayname} for signing ${shownMember.name_j}`, colour: 'green' })\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetProcessing(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDummyClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\tconst button = () => processing ?\r\n\t\t<ButtonProcessing /> : (\r\n\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\tSend Negotiation Offer\r\n\t\t</Button>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Form onSubmit={handleOffer} style={props.style}>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tstyle={inlineStyle}\r\n\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\tlabel={`Offer: (Range: ${lowerLimit}-${upperLimit} or Forced Trade at ${forceTradePrice})`}\r\n\t\t\t\t\tplaceholder={offer}\r\n\t\t\t\t\tonChange={({ target }) => setOffer(target.value)}\r\n\t\t\t\t\tvalue={offer}\r\n\t\t\t\t/>\r\n\t\t\t\t{button()}\r\n\t\t\t</Form>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={forceTradeConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to force trade ${shownMember.nickname} at ${forceTradePrice} ?`}\r\n\t\t\t\tonCancel={handleForceTradeCancel}\r\n\t\t\t\tonConfirm={handleForceTradeConfirm}\r\n\t\t\t/>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={dummyConfirmOpen}\r\n\t\t\t\tcontent={`Please wait......`}\r\n\t\t\t\tonCancel={handleDummyClick}\r\n\t\t\t\tonConfirm={handleDummyClick}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tphrase: state.phrase,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OfferForm)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst ButtonLateSign = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [lateSignConfirmOpen, setLateSignConfirmOpen] = useState(false)\r\n\r\n\tconst lateSignPrice = Math.floor(shownMember.value*1.2)\r\n\r\n\tconst handleLateSignCancel = () => {\r\n\t\tsetLateSignConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleLateSignConfirm = async () => {\r\n\t\ttry {\r\n\t\t\tconst newLateSign = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: lateSignPrice,\r\n\t\t\t\ttradeType: 'late',\r\n\t\t\t\trecipient: shownMember.agency\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.lateSign(newLateSign, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `late signed ${shownMember.name_j} at $${lateSignPrice}. `, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetLateSignConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleLateSign = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetLateSignConfirmOpen(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleLateSign} style={props.style} color='pink'>\r\n\t\t\t\t\tLate Sign at ${lateSignPrice}\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={lateSignConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to late sign ${shownMember.nickname} at ${lateSignPrice} ?`}\r\n\t\t\t\tonCancel={handleLateSignCancel}\r\n\t\t\t\tonConfirm={handleLateSignConfirm}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonLateSign)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm } from 'semantic-ui-react'\r\n\r\nconst ButtonRelease = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [releaseConfirmOpen, setReleaseConfirmOpen] = useState(false)\r\n\tconst [dummyConfirmOpen, setDummyConfirmOpen] = useState(false)\r\n\r\n\tconst releasePrice = Math.floor(shownMember.value*0.5)\r\n\r\n\tconst handleReleaseCancel = () => {\r\n\t\tsetReleaseConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleReleaseConfirm = async () => {\r\n\t\tsetReleaseConfirmOpen(false)\r\n\t\tsetDummyConfirmOpen(true)\r\n\t\ttry {\r\n\t\t\tconst newRelease = {\r\n\t\t\t\tmemberId: shownMember.id,\r\n\t\t\t\tbid: releasePrice,\r\n\t\t\t\ttradeType: 'release',\r\n\t\t\t}\r\n\t\t\tawait negotiationsService.releaseMember(newRelease, props.token)\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tprops.setNotification({ content: `${shownMember.name_j} is released and cash back ${releasePrice}`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetDummyConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleRelease = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetReleaseConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleDummyClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleRelease} style={props.style} color='violet'>\r\n\t\t\t\tRelease\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={releaseConfirmOpen}\r\n\t\t\t\tcontent={`Confirm to RELEASE ${shownMember.nickname} and get back ${releasePrice} ?`}\r\n\t\t\t\tonCancel={handleReleaseCancel}\r\n\t\t\t\tonConfirm={handleReleaseConfirm}\r\n\t\t\t/>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={dummyConfirmOpen}\r\n\t\t\t\tcontent={`Please wait......`}\r\n\t\t\t\tonCancel={handleDummyClick}\r\n\t\t\t\tonConfirm={handleDummyClick}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonRelease)","import axios from 'axios'\r\nconst baseUrl = '/api/job'\r\n\r\nconst assignJob = async (memberId, assignment, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t\tjobType: assignment\r\n\t}\r\n\tconst response = await axios.post(`${ baseUrl }/assign`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst cancelJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/cancel`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst collectJob = async (memberId, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = {\r\n\t\tmemberId,\r\n\t}\r\n\tconst response = await axios.put(`${ baseUrl }/collect`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { assignJob, cancelJob, collectJob }","import React, { useState } from 'react'\r\nimport ButtonProcessing from './ButtonProcessing'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, Select } from 'semantic-ui-react'\r\n\r\nconst AssignmentForm = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [assignment, setAssignemt] = useState('')\r\n\tconst [processing, setProcessing] = useState(false)\r\n\r\n\tconst assignmentOptions = [\r\n\t\t{ key: 'assignment1', text: '1hr Showroom (free, gain little fans). Cost: Free / Expected Reward: ~50 fans', value: 'SHOWROOM' },\r\n\t\t{ key: 'assignment2', text: `4hr handshaking (4hr salary, gain money base on fanbase size). Cost: $${Math.floor(shownMember.value*0.4)} / Expected Reward: ~$${Math.floor(shownMember.fanSize*0.7)}`, value: 'HANDSHAKE' },\r\n\t\t{ key: 'assignment3', text: `2hr TV show ($1000 + 2hr salary, gain large number of fans). Cost: $${Math.floor(shownMember.value*0.2) + 1000} / Expected Reward: ~750 fans`, value: 'TV' }\r\n\t]\r\n\r\n\tconst handleAssign = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetProcessing(true)\r\n\t\tif (!assignment) {\r\n\t\t\tprops.setNotification({ content: 'assignment has not been chosen' , colour: 'red' })\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst response = await jobService.assignJob(shownMember.id, assignment, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tsetAssignemt('')\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({\r\n\t\t\t\theader: `${response.job.name} is assigned.`,\r\n\t\t\t\tcontent: `Current asset: $${response.currentAssest}`,\r\n\t\t\t\tcolour: 'green'\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetProcessing(false)\r\n\t}\r\n\r\n\tconst button = () => processing ?\r\n\t\t<ButtonProcessing /> :\r\n\t\t<Button type=\"submit\">Assign</Button>\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAssign} style={props.style}>\r\n\t\t\t<Form.Field\r\n\t\t\t\tcontrol={Select}\r\n\t\t\t\tlabel='Job Assignment: '\r\n\t\t\t\toptions={assignmentOptions}\r\n\t\t\t\tplaceholder='Job Assignment'\r\n\t\t\t\tonChange={(e, data) => setAssignemt(data.value)}\r\n\t\t\t\tvalue={assignment}\r\n\t\t\t/>\r\n\t\t\t{button()}\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AssignmentForm)","import React, { useState } from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Confirm  } from 'semantic-ui-react'\r\n\r\nconst ButtonAssignmentCancel = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [confirmOpen, setConfirmOpen] = useState(false)\r\n\tconst [dummyConfirmOpen, setDummyConfirmOpen] = useState(false)\r\n\r\n\tlet style = {}\r\n\tif (props.style) {\r\n\t\tstyle = props.style\r\n\t} else {\r\n\t\tstyle = shownMember.job ? { display: 'inline' } : { display: 'none' } \r\n\t}\r\n\r\n\tconst handleCancelCancel = () => {\r\n\t\tsetConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleCancelConfirm = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(false)\r\n\t\tsetDummyConfirmOpen(true)\r\n\t\ttry {\r\n\t\t\tawait jobService.cancelJob(shownMember.id, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({ content: `job is cancelled`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetDummyConfirmOpen(false)\r\n\t}\r\n\r\n\tconst handleAssignmentCancel = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetConfirmOpen(true)\r\n\t}\r\n\r\n\tconst handleDummyClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Button onClick={handleAssignmentCancel} style={style} color='violet'>\r\n\t\t\t\t{props.short ? 'Cancel' : 'Cancel Assignment'}\r\n\t\t\t</Button>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={confirmOpen}\r\n\t\t\t\tcancelButton='Back'\r\n\t\t\t\tconfirmButton=\"Confirm Cancel\"\r\n\t\t\t\tcontent={`Confirm to cancel the assignment of ${shownMember.nickname}? (No Refund)`}\r\n\t\t\t\tonCancel={handleCancelCancel}\r\n\t\t\t\tonConfirm={handleCancelConfirm}\r\n\t\t\t/>\r\n\t\t\t<Confirm\r\n\t\t\t\topen={dummyConfirmOpen}\r\n\t\t\t\tcontent={`Please wait......`}\r\n\t\t\t\tonCancel={handleDummyClick}\r\n\t\t\t\tonConfirm={handleDummyClick}\r\n\t\t\t/>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonAssignmentCancel)","import React, { useState } from 'react'\r\nimport ButtonProcessing from './ButtonProcessing'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport jobService from '../services/job'\r\nimport remainTime from './modules/remainTime'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst ButtonAssignmentCollect = (props) => {\r\n\tconst { shownMember } = props\r\n\tconst [processing, setProcessing] = useState(false)\r\n\r\n\tlet style = {}\r\n\tif (props.style) {\r\n\t\tstyle = props.style\r\n\t} else {\r\n\t\tstyle = remainTime.collectable(props.serverTime, shownMember.job) ? { display: 'inline' } : { display: 'none' } \r\n\t}\r\n\r\n\tconst handleAssignmentCollect = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetProcessing(true)\r\n\t\ttry {\r\n\t\t\tconst response = await jobService.collectJob(shownMember.id, props.token)\r\n\t\t\tawait props.initializeMembers()\r\n\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\tprops.setNotification({\r\n\t\t\t\theader: 'Rewards Collected',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\t`gained ${response.fanReward} fans and $${response.moneyReward}.`,\r\n\t\t\t\t\t`New fans number: ${response.currentFanSize}.`,\r\n\t\t\t\t\t`Current asset: $${response.currentAssest}.`,\r\n\t\t\t\t\t' (click to continue)  '\r\n\t\t\t\t],\r\n\t\t\t\tcolour: 'green',\r\n\t\t\t\tlisting: true\r\n\t\t\t}, 'byClick')\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t\tsetProcessing(false)\r\n\t}\r\n\r\n\treturn processing ?\r\n\t\t<ButtonProcessing style={style} /> :\r\n\t\t<Button onClick={handleAssignmentCollect} style={style} color='pink'>\r\n\t\t\t{props.short ? 'Collect' : 'Collect Assignment Rewards'}\r\n\t\t</Button>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonAssignmentCollect)","import React from 'react'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { updateMemberBid, initializeMembers } from '../reducers/membersReducer'\r\nimport remainTime from './modules/remainTime'\r\nimport PayriseForm from './NegoPayriseForm'\r\nimport BidForm from './NegoBidForm'\r\nimport OfferForm from './NegoOfferForm'\r\nimport ButtonLateSign from './ButtonLateSign'\r\nimport ButtonRelease from './ButtonRelease'\r\nimport AssignmentForm from './AssignmentForm'\r\nimport ButtonAssignmentCancel from './ButtonAssignmentCancel'\r\nimport ButtonAssignmentCollect from './ButtonAssignmentCollect'\r\nimport { connect } from 'react-redux'\r\nimport { Grid, Table } from 'semantic-ui-react'\r\n\r\nconst Member = (props) => {\r\n\tconst { shownMember, serverTime } = props\r\n\r\n\tlet bidFormStyle = { display: 'none' }\r\n\tlet offerFormStyle = { display: 'none' }\r\n\tlet payriseFormStyle = { display: 'none' }\r\n\tlet releaseButtonStyle = { display: 'none' }\r\n\tlet assignmentFormStyle = { display: 'none' }\r\n\tlet lateSignButtonStyle = { display: 'none' }\r\n\tlet assignmentCancelStyle = { display: 'none' }\r\n\tlet assignmentCollectStyle = { display: 'none' }\r\n\r\n\tif (shownMember && props.user) {\r\n\t\tif (shownMember.agency) {\r\n\t\t\tif (shownMember.agency.displayname.toString().includes(props.user.displayname)) {\r\n\t\t\t\treleaseButtonStyle = { display: 'inline' }\r\n\t\t\t\tpayriseFormStyle = { display: 'inline' }\r\n\t\t\t\tif (remainTime.collectable(serverTime, shownMember.job)) {\r\n\t\t\t\t\tassignmentCollectStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t\tif (shownMember.job) {\r\n\t\t\t\t\tassignmentCancelStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t\tif (props.phrase === 'general') {\r\n\t\t\t\t\tif (!shownMember.job) {\r\n\t\t\t\t\t\tassignmentFormStyle = { display: null }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\t\tofferFormStyle = { display: 'inline' }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (props.phrase !== 'negotiation' && props.user.oshimens.length < 3) {\r\n\t\t\t\tlateSignButtonStyle = { display: 'inline' }\r\n\t\t\t}\r\n\t\t\tif (props.phrase === 'negotiation') {\r\n\t\t\t\tbidFormStyle = { display: 'inline' }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (shownMember) {\r\n\t\tconst bday = shownMember.birthday.substring(0, 10)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{shownMember.name_j}</h2>\r\n\t\t\t\t<div>{shownMember.name_k.firstname}{shownMember.name_k.lastname}</div>\r\n\t\t\t\t<Grid>\r\n\t\t\t\t\t<Grid.Row columns={1} only='mobile'>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t<Table striped columns={2} unstackable>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Fanbase Size:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.fanSize}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Salary:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{Math.floor(shownMember.value/10)}/hr</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Tradability:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.tradable ? 'Tradable' : 'Untradable' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Current Job:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? shownMember.job.name : 'None'}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? remainTime.remainTimeText(serverTime, shownMember.job.endTime, 'Member') : null}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t<AssignmentForm shownMember={shownMember} style={assignmentFormStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={shownMember} style={assignmentCollectStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={shownMember} style={assignmentCancelStyle} />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row columns={16} only='computer tablet'>\r\n\t\t\t\t\t\t<Grid.Column computer={5} tablet={7}>\r\n\t\t\t\t\t\t\t<img src={shownMember.pic_link} alt=\"profile pic\" />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column computer={11} tablet={9}>\r\n\t\t\t\t\t\t\t<Table striped>\r\n\t\t\t\t\t\t\t\t<Table.Body>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Name:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.name_e.firstname} {shownMember.name_e.lastname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Nickname:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.nickname}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Date Of Birth:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{bday}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Hometown:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.hometown}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Team:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.team.join(\" and \")}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Generation:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.generation.name}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Member Status:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.current ? 'Current Member' : 'Graduate'} {shownMember.kks ? '(Kenkyosen)' : ''}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Fanbase Size:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.fanSize}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Value:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.value}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Salary:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{Math.floor(shownMember.value/10)}/hr</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Agency:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.agency ? shownMember.agency.displayname : 'Free' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Tradability:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.tradable ? 'Tradable' : 'Untradable' }</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t\t<Table.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>Current Job:</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? shownMember.job.name : 'None'}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell>{shownMember.job ? remainTime.remainTimeText(serverTime, shownMember.job.endTime, 'Member') : null}</Table.Cell>\r\n\t\t\t\t\t\t\t\t\t\t<Table.Cell />\r\n\t\t\t\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t\t\t\t</Table.Body>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t<AssignmentForm shownMember={shownMember} style={assignmentFormStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={shownMember} style={assignmentCollectStyle} />\r\n\t\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={shownMember} style={assignmentCancelStyle} />\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<BidForm shownMember={shownMember} style={bidFormStyle} />\r\n\t\t\t\t<OfferForm shownMember={shownMember} style={offerFormStyle} />\r\n\t\t\t\t<PayriseForm shownMember={shownMember} style={payriseFormStyle} />\r\n\t\t\t\t<ButtonLateSign shownMember={shownMember} style={lateSignButtonStyle} />\r\n\t\t\t\t<ButtonRelease shownMember={shownMember} style={releaseButtonStyle} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tMember Not found\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tphrase: state.phrase,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetUserByToken,\r\n\tupdateMemberBid,\r\n\tinitializeMembers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Member)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n\tsortMembersByDefault,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n} from '../reducers/membersReducer'\r\nimport { Link } from 'react-router-dom'\r\nimport Loading from './Loading'\r\nimport { Grid, Button, Select, Image, Icon, Reveal, Responsive } from 'semantic-ui-react'\r\n\r\nconst teamList = ['All Teams', 'Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions = teamList.map(t => {return { key: t, text: t, value: t }})\r\n\r\nconst genList = ['All Generations', '1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\n\r\nconst hometownList = [\r\n\t'Any Hometown',\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = hometownList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nlet agencyList = ['All Agency', 'Not Free', 'Free']\r\nlet agencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\r\nconst sortList = ['Default', 'Team', 'Name (Katakana)', 'Name (English)', 'Generation', 'Hometown', 'Value', 'Fan Size']\r\nconst sortOptions = sortList.map(m => {return { key: m, text: m, value: m }})\r\n\r\nconst Members = props => {\r\n\r\n\tconst [teamFilter, setTeamFilter] = useState('All Teams')\r\n\tconst [genFilter, setGenFilter] = useState('All Generations')\r\n\tconst [hometownFilter, setHometownFilter] = useState('Any Hometown')\r\n\tconst [agencyFilter, setAgencyFilter] = useState('All Agency')\r\n\tconst [currentSort, setCurrentSort] = useState('Default')\r\n\r\n\tif (props.user) {\r\n\t\tagencyList = ['All Agency', 'Under Your Agency', 'Signed by Others', 'Not Free', 'Free']\r\n\t\tagencyOptions = agencyList.map(a => {return { key: a, text: a, value: a }})\r\n\t}\r\n\r\n\tif (props.members.length > 0) {\r\n\t\tconst resetFilters = () => {\r\n\t\t\tsetTeamFilter('All Teams')\r\n\t\t\tsetGenFilter('All Generations')\r\n\t\t\tsetHometownFilter('Any Hometown')\r\n\t\t\tsetAgencyFilter('All Agency')\r\n\t\t}\r\n\r\n\t\tconst doSort = (method) => {\r\n\t\t\tswitch(method) {\r\n\t\t\t\tcase 'Default':{\r\n\t\t\t\t\tprops.sortMembersByDefault()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Team':{\r\n\t\t\t\t\tprops.sortMembersByTeam()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Name (Katakana)':{\r\n\t\t\t\t\tprops.sortMembersByKatakana()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Name (English)':{\r\n\t\t\t\t\tprops.sortMembersByEnglishName()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Generation':{\r\n\t\t\t\t\tprops.sortMembersByGen()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Hometown':{\r\n\t\t\t\t\tprops.sortMembersByHometown()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Value':{\r\n\t\t\t\t\tprops.sortMembersByValue()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tcase 'Fan Size':{\r\n\t\t\t\t\tprops.sortMembersByFanSize()\r\n\t\t\t\t\tsetCurrentSort(method)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tdefault: {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n        const memberSpan = (s) => {\r\n\t\t\tconst filteringByAgency = (members, filter) => {\r\n\t\t\t\tswitch(filter) {\r\n\t\t\t\t\tcase 'Under Your Agency':{\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Signed by Others': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency && !m.agency.id.toString().includes(props.user.id))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Not Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase 'Free': {\r\n\t\t\t\t\t\treturn members.filter(m => m.agency == null)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\treturn members\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet filteredMembers = props.members\r\n\t\t\tfilteredMembers = teamFilter === 'All Teams' ? filteredMembers : filteredMembers.filter(m => m.team.includes(teamFilter))\r\n\t\t\tfilteredMembers = genFilter === 'All Generations' ? filteredMembers : filteredMembers.filter(m => m.generation.name === genFilter)\r\n\t\t\tfilteredMembers = hometownFilter === 'Any Hometown' ? filteredMembers : filteredMembers.filter(m => m.hometown === hometownFilter)\r\n\t\t\tfilteredMembers = filteringByAgency(filteredMembers, agencyFilter)\r\n\t\t\tconst profilePicStyle = (team, hidden) => {\r\n\t\t\t\tconst colorCheck = (checkTeam) => {\r\n\t\t\t\t\tswitch(checkTeam) {\r\n\t\t\t\t\t\tcase 'Team A': {\r\n\t\t\t\t\t\t\treturn '#ff66ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team K': {\r\n\t\t\t\t\t\t\treturn '#00cc00'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team B': {\r\n\t\t\t\t\t\t\treturn '#3399ff'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 4': {\r\n\t\t\t\t\t\t\treturn 'Yellow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase 'Team 8': {\r\n\t\t\t\t\t\t\treturn '#000066'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\treturn 'black'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst teamColor1 = colorCheck(team[0])\r\n\t\t\t\tconst teamColor2 = team.length > 1 ? colorCheck(team[1]) : teamColor1\r\n\r\n\t\t\t\tconst opacity = hidden ? '0.3' : '1'\r\n\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\tborderTop: `${s}px solid ${teamColor1}`,\r\n\t\t\t\t\tborderLeft: `${s}px solid ${teamColor1}`,\r\n\t\t\t\t\tborderBottom: `${s}px solid ${teamColor2}`,\r\n\t\t\t\t\tborderRight: `${s}px solid ${teamColor2}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconst revealTextStyle = {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '50%',\r\n\t\t\t\tleft: '50%',\r\n\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\tfontSize: '16px',\r\n\t\t\t\tlineHeight: '1.5em',\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\tcolor: '#000000',\r\n\t\t\t\ttextShadow: '2px 2px 2px #FFFFFF'\r\n\t\t\t}\r\n\t\t\tconst agencyName = (member) => {\r\n\t\t\t\tif (member.agency) {\r\n\t\t\t\t\treturn member.agency.displayname\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 'No Agency'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst quickInfo = (m) => {\r\n\t\t\t\tif (s === 5) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t<div>{m.name_e.firstname} {m.name_e.lastname}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='dollar sign' />{m.value}{' / '}<Icon name='users' />{m.fanSize}</div>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (s === 3) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t\t\t<div>{m.name_e.firstname}</div>\r\n\t\t\t\t\t\t\t<div>{m.name_e.lastname}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='dollar sign' />{m.value}</div>\r\n\t\t\t\t\t\t\t<div><Icon name='users' />{m.fanSize}</div>\r\n\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (filteredMembers.length > 0) {\r\n\t\t\t\treturn filteredMembers.map(m => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Grid.Column key={m.id}>\r\n\t\t\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Reveal animated='fade' instant>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Reveal.Content visible>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, false)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Reveal.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Reveal.Content hidden>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, true)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={revealTextStyle} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{m.name_j}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tin\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agencyName(m)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValue: {m.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFans: {m.fanSize}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Reveal.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t</Reveal>\r\n\t\t\t\t\t\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t\t\t\t\t\t<Responsive {...Responsive.onlyMobile} >\r\n\t\t\t\t\t\t\t\t\t\t\t<Image fluid src={m.pic_link} alt={`${m.name_e.firstname} ${m.name_e.lastname}`} height=\"200\" style={profilePicStyle(m.team, false)} />\r\n\t\t\t\t\t\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t{quickInfo(m)}\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn <div> No Matching Member</div>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Members</h2>\r\n\t\t\t\t<Grid columns={16}>\r\n\t\t\t\t\t<Grid.Row only='computer tablet'>\r\n\t\t\t\t\t\t<Grid.Column tablet={4} computer={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column tablet={12} computer={14}>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByDefault} content='Default'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByTeam} content='Team'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByKatakana} content='Name (Katakana)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByEnglishName} content='Name (English)'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByGen} content='Generation'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByHometown} content='Hometown'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByValue} content='Value'/>\r\n\t\t\t\t\t\t\t<Button onClick={props.sortMembersByFanSize} content='Fan Size'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t<Grid.Column width={5} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tSorting by :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column width={11}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={sortOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => doSort(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={currentSort}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t<Grid.Row>\r\n\t\t\t\t\t\t<Grid.Column mobile={5} tablet={4} computer={2} verticalAlign='middle'>\r\n\t\t\t\t\t\t\tFilters :\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t<Grid.Column mobile={11} tablet={12} computer={14}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={teamOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setTeamFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={teamFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setGenFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={genFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setHometownFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={hometownFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\toptions={agencyOptions}\r\n\t\t\t\t\t\t\t\tonChange={(e, data) => setAgencyFilter(data.value)}\r\n\t\t\t\t\t\t\t\tvalue={agencyFilter}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button onClick={resetFilters} content='Clear'/>\r\n\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={5}>\r\n\t\t\t\t\t<Grid.Row only='tablet computer'>\r\n\t\t\t\t\t\t{memberSpan(5)}\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid columns={3}>\r\n\t\t\t\t\t<Grid.Row only='mobile'>\r\n\t\t\t\t\t\t{memberSpan(3)}\r\n\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Loading />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsortMembersByDefault,\r\n\tsortMembersByGen,\r\n\tsortMembersByTeam,\r\n\tsortMembersByEnglishName,\r\n\tsortMembersByKatakana,\r\n\tsortMembersByHometown,\r\n\tsortMembersByValue,\r\n\tsortMembersByFanSize\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Members)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { setToken } from '../reducers/tokenReducer'\r\nimport { userLogin } from '../reducers/userReducer'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst LoginNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n\tconst handleLogin = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst loginInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tpassword\r\n\t\t\t}\r\n\r\n\t\t\tconst loggedUser = await props.userLogin(loginInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetPassword('')\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t'oshigameUserToken', JSON.stringify(loggedUser.token)\r\n\t\t\t)\r\n\t\t\tprops.setToken(loggedUser.token)\r\n\t\t\tconst user = await props.setUserByToken(loggedUser.token)\r\n\t\t\tprops.history.push('/')\r\n\t\t\tprops.setNotification({ content: `successfully logged in as ${user.displayname}`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: 'wrong user name or password', colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleLogin} padding=\"5\" >\r\n\t\t\t<Form.Input \r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='username'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword(target.value)}\r\n\t\t\t\tvalue={password}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\">login</Button>\r\n\t\t\t<Link to=\"/sign_up\"><Button color='pink' >Sign Up</Button></Link>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tsetToken,\r\n\tsetUserByToken,\r\n\tuserLogin\r\n}\r\n\r\nconst LoginForm = withRouter(LoginNoHistory)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)","import React from 'react'\r\nimport LoginForm from './LoginForm'\r\n\r\nconst Login = () => (\r\n\t<div>\r\n\t\t<h2>Log in to Oshigame</h2>\r\n\t\t<LoginForm />\r\n\t</div>\r\n)\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport userService from '../services/users'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Form, Button } from 'semantic-ui-react'\r\n\r\nconst SignUpNoHistory = (props) => {\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [displayname, setDisplayname] = useState('')\r\n\tconst [password_1, setPassword_1] = useState('')\r\n\tconst [password_2, setPassword_2] = useState('')\r\n\tconst [createkey, setCreatekey] = useState('')\r\n\r\n\tconst submit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!username || !displayname || !password_1 || !password_2 || !createkey) {\r\n\t\t\tprops.setNotification({ content: 'one or more entries missing', colour: 'red' })\r\n\t\t\treturn \r\n\t\t}\r\n\t\tif (password_1 !== password_2) {\r\n\t\t\tprops.setNotification({ content: 'passwords have to be the same', colour: 'red' })\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\tusername,\r\n\t\t\t\tdisplayname,\r\n\t\t\t\tpassword: password_1,\r\n\t\t\t\tcreatekey\r\n\t\t\t}\r\n\t\t\tconst createdUser = await userService.addUser(newUserInfo)\r\n\t\t\tsetUsername('')\r\n\t\t\tsetDisplayname('')\r\n\t\t\tsetPassword_1('')\r\n\t\t\tsetPassword_2('')\r\n\t\t\tsetCreatekey('')\r\n\t\t\tprops.history.push('/login')\r\n\t\t\tprops.setNotification({ content: `account for ${createdUser.username} is created successfully`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submit}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='username'\r\n\t\t\t\tplaceholder='e.g. Fans0048'\r\n\t\t\t\tonChange={({ target }) => setUsername(target.value)}\r\n\t\t\t\tvalue={username}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='name for display'\r\n\t\t\t\tplaceholder='e.g. The Legenary Idol Agency'\r\n\t\t\t\tonChange={({ target }) => setDisplayname(target.value)}\r\n\t\t\t\tvalue={displayname}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='password'\r\n\t\t\t\tplaceholder='password'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_1(target.value)}\r\n\t\t\t\tvalue={password_1}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tplaceholder='password (please type again)'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tonChange={({ target }) => setPassword_2(target.value)}\r\n\t\t\t\tvalue={password_2}\r\n\t\t\t/>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='create-key'\r\n\t\t\t\tplaceholder='create-key (provided by admin)'\r\n\t\t\t\tonChange={({ target }) => setCreatekey(target.value)}\r\n\t\t\t\tvalue={createkey}\r\n\t\t\t/>\r\n\t\t\t<Button color='pink' type=\"submit\">Submit</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n}\r\n\r\nconst SignUpForm = withRouter(SignUpNoHistory)\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUpForm)","import React from 'react'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setUserByToken } from '../reducers/userReducer'\r\nimport { initializeMembers } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport remainTime from './modules/remainTime'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Loading from './Loading'\r\nimport ButtonAssignmentCollect from './ButtonAssignmentCollect'\r\nimport ButtonAssignmentCancel from './ButtonAssignmentCancel'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst User = (props) => {\r\n\tconst { shownUser, members} = props\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tif (shownUser) {\r\n\r\n\t\tconst admin = (u) => u.admin ?\r\n\t\t\t<div>ADMIN</div> :\r\n\t\t\tnull\r\n\r\n\t\tconst oshimenList = (u) => {\r\n\t\t\tconst jobState = (m) => {\r\n\t\t\t\tif (m.job) {\r\n\t\t\t\t\tif (m.job.name) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<span> is on {m.job.name} <br /> >> and {remainTime.remainTimeText(props.serverTime, m.job.endTime, 'User')} </span>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ' is waiting for assignments'\r\n\t\t\t}\r\n\r\n\t\t\treturn (u.oshimens.length > 0 ?\r\n\t\t\t\tu.oshimens.map(m => (\r\n\t\t\t\t\t<div key={m.id}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Link to={`/members/${m.id}`}>\r\n\t\t\t\t\t\t\t\t{m.nickname}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{jobState(m)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ButtonAssignmentCollect shownMember={m} short={true}/>\r\n\t\t\t\t\t\t<ButtonAssignmentCancel shownMember={m} short={true}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)) :\r\n\t\t\t\t'none'\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tconst negotiationList = (u) => {\r\n\t\t\tif (u.negotiations.length > 0) {\r\n\t\t\t\tconst biddingList = u.negotiations.filter(n => n.tradeType === 'bid')\r\n\t\t\t\tconst biddingSpan = () => {\r\n\t\t\t\t\tif (biddingList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedBiddingList = biddingList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tbiddings: {digestedBiddingList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst releasedList = u.negotiations.filter(n => n.tradeType === 'release')\r\n\t\t\t\tconst releasedSpan = () => {\r\n\t\t\t\t\tif (releasedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedReleasedList = releasedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\treleased: {digestedReleasedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst forcedList = u.negotiations.filter(n => n.tradeType === 'force')\r\n\t\t\t\tconst forcedSpan = () => {\r\n\t\t\t\t\tif (forcedList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedForcedList = forcedList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn n.recipient.toString().includes(shownUser.id) ? `LOST ${name} at ${n.bid}` : `SIGNED ${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tforced trades: {digestedForcedList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst sentOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.applicant.toString().includes(shownUser.id))\r\n\t\t\t\tconst sentOfferSpan = () => {\r\n\t\t\t\t\tif (sentOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst digestedSentOfferList = sentOfferList.map(n => {\r\n\t\t\t\t\t\t\tconst member = members.filter(m => m.id === n.member)\r\n\t\t\t\t\t\t\tconst name = member[0].nickname\r\n\t\t\t\t\t\t\treturn `${name} at ${n.bid}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tsent offers: {digestedSentOfferList.join(', ')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet receivedOfferList = u.negotiations.filter(n => n.tradeType === 'offer' && n.recipient.toString().includes(shownUser.id))\r\n\t\t\t\tconst receivedOffers = () => {\r\n\t\t\t\t\tconst displayname = (applicant) => {\r\n\t\t\t\t\t\tconst displaynames = props.displaynames.filter(n => n.id === applicant)\r\n\t\t\t\t\t\treturn displaynames[0].displayname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst nickname = (member) => {\r\n\t\t\t\t\t\tconst nicknames = props.members.filter(m => m.id === member)\r\n\t\t\t\t\t\treturn nicknames[0].nickname\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleAccept = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.acceptOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tawait props.initializeMembers()\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is accepted', colour: 'green' })\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst handleReject = async (negotiationId) => {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait negotiationsService.rejectOffer(negotiationId, props.token)\r\n\t\t\t\t\t\t\tawait props.setUserByToken(props.token)\r\n\t\t\t\t\t\t\tprops.setNotification({ content: 'offer is rejected', colour: 'green' })\r\n\t\t\t\t\t\t} catch (exception) {\r\n\t\t\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (receivedOfferList.length === 0) {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>RECEIVED OFFERS</div>\r\n\t\t\t\t\t\t\t\t{receivedOfferList.map(n => (\r\n\t\t\t\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/members/${n.member}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{nickname(n.member)}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t{` at ${n.bid} from ${displayname(n.applicant)} `}\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Accept' color='violet' onClick={() => handleAccept(n.id)} />\r\n\t\t\t\t\t\t\t\t\t\t<Button content='Reject' color='pink' onClick={() => handleReject(n.id)} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{biddingSpan()}\r\n\t\t\t\t\t\t{sentOfferSpan()}\r\n\t\t\t\t\t\t{receivedOffers()}\r\n\t\t\t\t\t\t{forcedSpan()}\r\n\t\t\t\t\t\t{releasedSpan()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h3 style={headstyle}>{shownUser.username}</h3>\r\n\t\t\t\t<div>displayname: {shownUser.displayname}</div>\r\n\t\t\t\t<div>assest: {shownUser.assest}</div>\r\n\t\t\t\t{admin(shownUser)}\r\n\t\t\t\t<div>negotiations:</div>\r\n\t\t\t\t<div>{negotiationList(shownUser)}</div>\r\n\t\t\t\t<div>oshimens:</div>\r\n\t\t\t\t<div>{oshimenList(shownUser)}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <Loading />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members,\r\n\t\tdisplaynames: state.displaynames,\r\n\t\ttoken: state.token,\r\n\t\tserverTime: state.serverTime\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetUserByToken,\r\n\tinitializeMembers,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User)","import React from 'react'\r\nimport { Page, Image, Text, View, Document, StyleSheet, Font } from '@react-pdf/renderer'\r\n\r\nconst PDFCert = (props) => {\r\n\tconst { user } = props\r\n\tconst backgroundPic = props.certBackground\r\n\r\n\tFont.registerHyphenationCallback(word => [word])\r\n\r\n\tconst styles = StyleSheet.create({\r\n\t\tpage: {\r\n\t\t\tbackgroundColor: '#FFFFFF',\r\n\t\t\tbackgroundImage: `url(${backgroundPic})`\r\n\t\t},\r\n\t\tsection: {\r\n\t\t\tmargin: 0,\r\n\t\t\tpadding: 0\r\n\t\t},\r\n\t\tpageBackground: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tminWidth: '100%',\r\n\t\t\tminHeight: '100%',\r\n\t\t\tdisplay: 'block',\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\topacity: 0.3\r\n\t\t},\r\n\t\theading: {\r\n\t\t\tmarginTop: 5,\r\n\t\t\tmarginBottom: 5,\r\n\t\t\tmarginHorizontal: 10,\r\n\t\t\tpaddingHorizontal: 10,\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tsmallText: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tfontSize: 12,\r\n\t\t\thyphens: 'none'\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tfontSize: 20\r\n\t\t},\r\n\t\tsubtitle: {\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tdateStamp: {\r\n\t\t\tfontSize: 8,\r\n\t\t\tpaddingTop: 5\r\n\t\t},\r\n\t\thorizontalView: {\r\n\t\t\tflexDirection: 'row'\r\n\t\t},\r\n\t\tbestMemberFrame: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t\tpaddingBottom: 10,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 1,\r\n\t\t\ttextAlign: 'center'\r\n\t\t},\r\n\t\tbestMemberTitle: {\r\n\t\t\tfontSize: 16\r\n\t\t},\r\n\t\tbestMemberPic: {\r\n\t\t\tmarginHorizontal: 'auto',\r\n\t\t\theight: 140,\r\n\t\t\twidth: 105,\r\n\t\t\tobjectFit: 'cover',\r\n\t\t\tborder: 'solid',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderColor: 'white'\r\n\t\t},\r\n\t\tbestMemberText: {\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tsectionHeadText: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tfontSize: 16\r\n\t\t},\r\n\t\tgeneralStatTitle: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 3,\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tgeneralStatData: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tpaddingHorizontal: 20,\r\n\t\t\tflex: 2,\r\n\t\t\tfontSize: 12\r\n\t\t},\r\n\t\tbreakLine: {\r\n\t\t\tmarginVertical: 5,\r\n\t\t\tmarginHorizontal: 10,\r\n\t\t\tpadding: 0,\r\n\t\t\tborder: 'solid',\r\n\t\t\tborderTopWidth: 1\r\n\t\t},\r\n\t\thorizontalViewPadded: {\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tpaddingHorizontal: 20\r\n\t\t},\r\n\t\tmemberlistName: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tfontSize: 12,\r\n\t\t\tflex: 2.5\r\n\t\t},\r\n\t\tmemberlistData: {\r\n\t\t\tpaddingVertical: 5,\r\n\t\t\tfontSize: 12,\r\n\t\t\tflex: 1\r\n\t\t}\r\n\t})\r\n\r\n\tconst oshimenList = (members) => {\r\n\t\tif (members.length > 0) {\r\n\t\t\treturn members.map(m => (\r\n\t\t\t\t<View key={m.id} style={styles.horizontalViewPadded}>\r\n\t\t\t\t\t<Text style={styles.memberlistName}>{`${m.name_e.firstname} ${m.name_e.lastname} (${m.nickname})`}</Text>\r\n\t\t\t\t\t<Text style={styles.memberlistData}>{`Fans: ${m.fanSize}`}</Text>\r\n\t\t\t\t\t<Text style={styles.memberlistData}>{`Value: ${m.value}`}</Text>\r\n\t\t\t\t</View>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn (<Text style={styles.smallText}>none</Text>)\r\n\t\t}\r\n\t}\r\n\r\n\tconst printDate = () => new Date(Date.now())\r\n\r\n\tconst header = () => (\r\n\t\t<View style={styles.heading}>\r\n\t\t\t<Text style={styles.title}>{user.displayname}</Text>\r\n\t\t\t<Text style={styles.subtitle}>by {user.username}</Text>\r\n\t\t\t<Text style={styles.dateStamp}>Report prined at {printDate().toString()}</Text>\r\n\t\t</View>\r\n\t)\r\n\r\n\tconst dummyMember = {\r\n\t\tname_e: {\r\n\t\t\tfirstname: 'N',\r\n\t\t\tlastname: 'A'\r\n\t\t},\r\n\t\tnickname: 'NA',\r\n\t\tpic_link: 'https://pbs.twimg.com/media/EN-4YBDU8AA_U85?format=jpg&name=medium',\r\n\t\tvalue: '---',\r\n\t\tfanSize: '---'\r\n\t}\r\n\r\n\tconst MPM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxFans = Math.max(...user.oshimens.map(m => m.fanSize))\r\n\t\treturn user.oshimens.find(m => m.fanSize === maxFans)\r\n\t}\r\n\r\n\tconst MVM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxValue = Math.max(...user.oshimens.map(m => m.value))\r\n\t\treturn user.oshimens.find(m => m.value === maxValue)\r\n\t}\r\n\r\n\tconst MEM = () => {\r\n\t\tif (!user.oshimens.length > 0) {\r\n\t\t\treturn dummyMember\r\n\t\t}\r\n\t\tconst maxFTV = Math.max(...user.oshimens.map(m => m.fanSize / m.value))\r\n\t\treturn user.oshimens.find(m => m.fanSize / m.value === maxFTV)\r\n\t}\r\n\r\n\tconst mPicP = MPM().pic_forCert ? MPM().pic_forCert : dummyMember.pic_link\r\n\tconst mPicV = MVM().pic_forCert ? MVM().pic_forCert : dummyMember.pic_link\r\n\tconst mPicE = MEM().pic_forCert ? MEM().pic_forCert : dummyMember.pic_link\r\n\r\n\tconst stat = (title, data) => (\r\n\t\t<View style={styles.horizontalView}>\r\n\t\t\t<Text style={styles.generalStatTitle}>{title}</Text>\r\n\t\t\t<Text style={styles.generalStatData}>{data}</Text>\r\n\t\t</View>\r\n\t)\r\n\t\r\n\tconst sum = (array) => array.reduce((a, b) => a + b, 0)\r\n\tconst average = (array) => sum(array) / array.length\r\n\tconst dp = (n, d) => Math.floor(n * Math.pow(10, d)) / Math.pow(10, d)\r\n\r\n\tconst totalValue = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn sum(user.oshimens.map(m => m.value))\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgValue = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst values = user.oshimens.map(m => m.value)\r\n\t\t\treturn dp(average(values), 1)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst totalFans = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn sum(user.oshimens.map(m => m.fanSize))\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgFanSize = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst fanSizes = user.oshimens.map(m => m.fanSize)\r\n\t\t\treturn dp(average(fanSizes), 1)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst avgFTV = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tconst FTVs = user.oshimens.map(m => m.fanSize / m.value)\r\n\t\t\treturn dp(average(FTVs), 2)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst overallFTV = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\treturn dp(totalFans() / totalValue(), 2)\r\n\t\t} else {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tconst pageTemplate = () => (\r\n\t\t<React.Fragment>\r\n\t\t\t<Image src={backgroundPic} style={styles.pageBackground} />\r\n\t\t\t{header()}\r\n\t\t\t<View style={styles.breakLine} />\r\n\t\t</React.Fragment>\r\n\t)\r\n\r\n\tconst oshimenPages = () => {\r\n\t\tif (user.oshimens.length > 0) {\r\n\t\t\tif (user.oshimens.length < 9) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members:</Text>\r\n\t\t\t\t\t\t{oshimenList(user.oshimens)}\r\n\t\t\t\t\t</Page>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tconst firstHalf = user.oshimens.slice(0, 8)\r\n\t\t\t\tconst secondHalf = user.oshimens.slice(8)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members: (Page 1 of 2)</Text>\r\n\t\t\t\t\t\t\t{oshimenList(firstHalf)}\r\n\t\t\t\t\t\t</Page>\r\n\t\t\t\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t\t\t\t{pageTemplate()}\r\n\t\t\t\t\t\t\t<Text style={styles.sectionHeadText}>List of Members: (Page 2 of 2)</Text>\r\n\t\t\t\t\t\t\t{oshimenList(secondHalf)}\r\n\t\t\t\t\t\t</Page>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Document title={`Oshigame Agency Report for ${user.disaplayname}`} author='Oshigame'>\r\n\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t{pageTemplate()}\r\n\t\t\t\t<View style={styles.horizontalView}>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Popular</Text>\r\n\t\t\t\t\t\t<Image src={mPicP} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MPM().name_e.firstname} ${MPM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`Fans: ${MPM().fanSize}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Valuable</Text>\r\n\t\t\t\t\t\t<Image src={mPicV} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MVM().name_e.firstname} ${MVM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`Value: ${MVM().value}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.bestMemberFrame}>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberTitle}>Most Effective</Text>\r\n\t\t\t\t\t\t<Image src={mPicE} style={styles.bestMemberPic} />\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`${MEM().name_e.firstname} ${MEM().name_e.lastname}`}</Text>\r\n\t\t\t\t\t\t<Text style={styles.bestMemberText}>{`FtV Index: ${dp(MEM().fanSize / MEM().value, 2)}`}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</View>\r\n\t\t\t</Page>\r\n\t\t\t<Page size=\"A6\" orientation='landscape' style={styles.page}>\r\n\t\t\t\t{pageTemplate()}\r\n\t\t\t\t<Text style={styles.sectionHeadText}>Summary:</Text>\r\n\t\t\t\t{stat('Cash:', `$ ${user.assest}`)}\r\n\t\t\t\t{stat('Number of Members:', user.oshimens.length)}\r\n\t\t\t\t{stat('Total Fan Size:', totalFans())}\r\n\t\t\t\t{stat('Member Total Value:', `$ ${totalValue()}`)}\r\n\t\t\t\t{stat('Member Average Fan Size:', avgFanSize())}\r\n\t\t\t\t{stat('Member Average Value:', `$ ${avgValue()}`)}\r\n\t\t\t\t{stat('Overall Fans-to-Value Index:', overallFTV())}\r\n\t\t\t\t{stat('Average Fans-to-Value Index:', avgFTV())}\r\n\t\t\t</Page>\r\n\t\t\t{oshimenPages()}\r\n\t\t</Document>\r\n\t)\r\n}\r\n\r\nexport default PDFCert","import React from 'react'\r\nimport { PDFViewer } from '@react-pdf/renderer'\r\nimport PDFCert from './PDFCert'\r\nimport { connect } from 'react-redux'\r\n\r\nconst ReportViewer = (props) => (\r\n\t<PDFViewer width='100%' height={500}>\r\n\t\t<PDFCert user={props.user} certBackground={props.certBackground} />\r\n\t</PDFViewer>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ReportViewer)","import React from 'react'\r\nimport PDFCert from './PDFCert'\r\nimport { PDFDownloadLink } from '@react-pdf/renderer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst linkStyle = {\r\n\ttextDecoration: 'none',\r\n\tcolor: 'grey'\r\n}\r\n\r\nconst ReportDownloader = (props) => (\r\n\t<PDFDownloadLink style={linkStyle} document={<PDFCert user={props.user} certBackground={props.certBackground} />} fileName=\"oshigameTestdoc.pdf\">\r\n\t\t{({ blob, url, loading, error }) => (loading ? 'Loading...' : props.displayText)}\r\n\t</PDFDownloadLink>\r\n)\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ReportDownloader)","import React, { useState } from 'react'\r\nimport User from './User'\r\nimport Loading from './Loading'\r\nimport ReportViewer from './ReportViewer'\r\nimport ReportDownloader from './ReportDownloader'\r\nimport { connect } from 'react-redux'\r\nimport { Responsive, Button, Icon } from 'semantic-ui-react'\r\n\r\nconst Profile = (props) => {\r\n\tconst { user, members } = props\r\n\tconst [showReport, setShowReport] = useState(false)\r\n\tconst reportStyle = showReport ? {display: null} : {display: 'none'}\r\n\r\n\tconst toggleReport = () => {\r\n\t\tsetShowReport(!showReport)\r\n\t}\r\n\r\n\tif (user && members.length > 0) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2 style={{display: 'inline'}}>Profile</h2>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyComputer} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}} onClick={toggleReport}><Icon name='vcard' />Show/Hide Agency Report</Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyTablet} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}}><Icon name='vcard' /><ReportDownloader displayText='Download Agency Report' /></Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile} style={{display: 'inline'}}>\r\n\t\t\t\t\t\t<Button style={{float: 'right'}}><Icon name='vcard' /><ReportDownloader displayText='Download' /></Button>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={reportStyle}>\r\n\t\t\t\t\t<ReportViewer />\r\n\t\t\t\t</div>\r\n\t\t\t\t<User shownUser = {user} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t} else {\r\n\t\treturn <Loading />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import usersService from '../services/users'\r\n\r\nconst usersReducer = (state = [], action) => {\r\n\tconst sortByUsername = (a, b) => {\r\n\t\tconst usernameA = a.username\r\n\t\tconst usernameB = b.username\r\n\t\tif (usernameA < usernameB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (usernameB < usernameA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_USERS': {\r\n\t\t\tconst sortedUser = action.data.sort(sortByUsername)\r\n\t\t\treturn sortedUser\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allUsers = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst users = await usersService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_USERS',\r\n\t\t\tdata: users\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default usersReducer","import React, { useEffect }  from 'react'\r\nimport User from './User'\r\nimport Loading from './Loading'\r\nimport { allUsers } from '../reducers/usersReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Users = (props) => {\r\n\tconst {token, user, users, members, allUsers } = props\r\n\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallUsers(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allUsers])\r\n\r\n\tconst usersList = () => {\r\n\t\tif (users.length > 0 && members.length > 0) {\r\n\t\t\treturn users.map(u => (\r\n\t\t\t\t<div key={u.id}>\r\n\t\t\t\t\t<User shownUser = {u} />\r\n\t\t\t\t\t\t<div>id: {u.id}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <Loading />\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Users</h2>\r\n\t\t\t{ usersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tusers: state.users,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallUsers\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import negotiationsService from '../services/negotiations'\r\n\r\nconst negotiationsReducer = (state = [], action) => {\r\n\tconst sortByBid = (a, b) => {\r\n\t\tconst BidA = a.bid\r\n\t\tconst BidB = b.bid\r\n\t\treturn BidB - BidA\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NEGOTIATIONS': {\r\n\t\t\tconst sortedNegotiations = action.data.sort(sortByBid)\r\n\t\t\treturn sortedNegotiations\r\n\t\t}\r\n\t\tcase 'CLEAR_NEGOTIATIONS': {\r\n\t\t\treturn []\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allNegotiations = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst negotiations = await negotiationsService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NEGOTIATIONS',\r\n\t\t\tdata: negotiations\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const clearNegotiations = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'CLEAR_NEGOTIATIONS'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default negotiationsReducer","import React, { useEffect }  from 'react'\r\nimport { allNegotiations, clearNegotiations } from '../reducers/negotiationsReducer'\r\nimport negotiationsService from '../services/negotiations'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst Negotiations = (props) => {\r\n\tconst {token, user, negotiations, allNegotiations, clearNegotiations } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallNegotiations(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allNegotiations])\r\n\r\n\tconst headstyle = {\r\n\t\tpaddingTop: \"20px\"\r\n\t}\r\n\r\n\tconst negotiationsList = () => {\r\n\t\tif (negotiations.length > 0) {\r\n\t\t\treturn negotiations.map(n => (\r\n\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t<h3 style={headstyle}>{n.member.name_j}</h3>\r\n\t\t\t\t\t<div>type of trade: {n.tradeType}</div>\r\n\t\t\t\t\t<div>bid: {n.bid}</div>\r\n\t\t\t\t\t<div>applicant: {n.applicant.username}</div>\r\n\t\t\t\t</div>\r\n\t\t\t))\r\n\t\t} else {\r\n\t\t\treturn <div>No Current Negotiations</div>\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSettle = async () => {\r\n\t\ttry {\r\n\t\t\tawait negotiationsService.settle(props.token)\r\n\t\t\tprops.setNotification({ content: 'negotiations have been settled', colour: 'green' })\r\n\t\t\tclearNegotiations()\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Negotiations</h2>\r\n\t\t\t<Button onClick={handleSettle}> Settle </Button>\r\n\t\t\t{ negotiationsList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tnegotiations: state.negotiations\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallNegotiations,\r\n\tclearNegotiations,\r\n\tsetNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Negotiations)","import React, { useState } from 'react'\r\nimport { addNewMember, editExistingMember } from '../reducers/membersReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button, Select, Radio } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst genList = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', 'D1', 'Sis', 'T8', 'D2', 'TW', '16th', 'D3']\r\nconst genOptions = genList.map(g => {return { key: g, text: g, value: g }})\r\nconst teamList = ['Team A', 'Team K', 'Team B', 'Team 4', 'Team 8']\r\nconst teamOptions1 = teamList.map(t => {return { key: t, text: t, value: t }})\r\nconst teamOptions2 = teamList.concat('No Kennin').map(t => {return { key: t, text: t, value: t }})\r\nconst prefectureList = [\r\n\t'Hokkaido', 'Aomori', 'Akita', 'Iwate', 'Yamagata', 'Miyagi', 'Fukushima',\r\n\t'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Yamanashi',\r\n\t'Aichi', 'Shizuoka', 'Gifu', 'Mie', 'Toyama', 'Ishikawa', 'Fukui', 'Nagano',\r\n\t'Osaka', 'Kyoto', 'Hyogo', 'Wakayama', 'Nara', 'Shiga',\r\n\t'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi',\r\n\t'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa',\r\n\t'Taiwan'\r\n]\r\nconst hometownOptions = prefectureList.map(p => {return { key: p, text: p, value: p }})\r\n\r\nconst MemberForm = (props) => {\r\n\tconst memberOptions = props.members.map(m => {return { key: m.id, text: m.name_j, value: m.id }})\r\n\r\n\tconst [firstname_e, setFirstname_e] = useState('')\r\n\tconst [lastname_e, setLastname_e] = useState('')\r\n\tconst [name_j, setName_j] = useState('')\r\n\tconst [firstname_k, setFirstname_k] = useState('')\r\n\tconst [lastname_k, setLastname_k] = useState('')\r\n\tconst [nickname, setNickname] = useState('')\r\n\tconst [birthday, setBirthday] = useState('')\r\n\tconst [hometown, setHometown] = useState('')\r\n\tconst [generation, setGeneration] = useState('')\r\n\tconst [pic_link, setPic_link] = useState('')\r\n\tconst [pic_forCert, setPic_forCert] = useState('')\r\n\tconst [team1, setTeam1] = useState(null)\r\n\tconst [team2, setTeam2] = useState(null)\r\n\tconst [current, setCurrent] = useState(true)\r\n\tconst [kks, setKks] = useState(false)\r\n\r\n\tconst [editMemberID, setEditMemberID] = useState('')\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetFirstname_e('')\r\n\t\tsetLastname_e('')\r\n\t\tsetName_j('')\r\n\t\tsetFirstname_k('')\r\n\t\tsetLastname_k('')\r\n\t\tsetNickname('')\r\n\t\tsetBirthday('')\r\n\t\tsetHometown('')\r\n\t\tsetGeneration('')\r\n\t\tsetPic_link('')\r\n\t\tsetPic_forCert('')\r\n\t\tsetTeam1('')\r\n\t\tsetTeam2(null)\r\n\t\tsetCurrent(true)\r\n\t\tsetKks(false)\r\n\t\tsetEditMemberID('')\r\n\t}\r\n\r\n\tconst handleAddMember = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst newMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\tpic_forCert,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst addedMember = await props.addNewMember(newMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${addedMember.name_j}\" is added`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleEdit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tlet teams = [team1]\r\n\t\t\tif (team2 !== 'No Kennin') {\r\n\t\t\t\tteams = teams.concat(team2)\r\n\t\t\t}\r\n\t\t\tconst updateMember = {\r\n\t\t\t\t'name_e': {\r\n\t\t\t\t\t'firstname': firstname_e,\r\n\t\t\t\t\t'lastname': lastname_e\r\n\t\t\t\t},\r\n\t\t\t\tname_j,\r\n\t\t\t\t'name_k': {\r\n\t\t\t\t\t'firstname': firstname_k,\r\n\t\t\t\t\t'lastname': lastname_k\r\n\t\t\t\t},\r\n\t\t\t\tnickname,\r\n\t\t\t\tbirthday,\r\n\t\t\t\thometown,\r\n\t\t\t\tgeneration,\r\n\t\t\t\tpic_link,\r\n\t\t\t\tpic_forCert,\r\n\t\t\t\t'team': teams,\r\n\t\t\t\tcurrent,\r\n\t\t\t\tkks\r\n\t\t\t}\r\n\t\t\tconst editedMember = await props.editExistingMember(editMemberID, updateMember, props.token)\r\n\t\t\tresetForm()\r\n\t\t\tprops.setNotification({ content: `member \"${editedMember.name_j}\" is edited`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\tconst lookupMember = props.members.find(m => m.id === editMemberID)\r\n\r\n\tconst checkLink = (link) => link ? link : ''\r\n\r\n\tconst handleCopy = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tsetFirstname_e(lookupMember.name_e.firstname)\r\n\t\tsetLastname_e(lookupMember.name_e.lastname)\r\n\t\tsetName_j(lookupMember.name_j)\r\n\t\tsetFirstname_k(lookupMember.name_k.firstname)\r\n\t\tsetLastname_k(lookupMember.name_k.lastname)\r\n\t\tsetNickname(lookupMember.nickname)\r\n\t\tsetBirthday(lookupMember.birthday.substring(0, 10))\r\n\t\tsetHometown(lookupMember.hometown)\r\n\t\tsetGeneration(lookupMember.generation.name)\r\n\t\tsetPic_link(checkLink(lookupMember.pic_link))\r\n\t\tsetPic_forCert(checkLink(lookupMember.pic_forCert))\r\n\t\tsetTeam1(lookupMember.team[0])\r\n\t\tsetTeam2(lookupMember.team[1] ? lookupMember.team[1] : 'No Kennin')\r\n\t\tsetCurrent(lookupMember.current)\r\n\t\tsetKks(lookupMember.kks)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>New Member</h2>\r\n\t\t\t<Form onSubmit={handleCopy}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tinline\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Copy Existing Member'\r\n\t\t\t\t\t\toptions={memberOptions}\r\n\t\t\t\t\t\tplaceholder='Existing Members'\r\n\t\t\t\t\t\tonChange={(e, data) => setEditMemberID(data.value)}\r\n\t\t\t\t\t\tvalue={editMemberID}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"submit\">COPY</Button>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t</Form>\r\n\t\t\t<Form onSubmit={handleAddMember}>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (English)'\r\n\t\t\t\t\t\tplaceholder='First name'\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_e(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (English)'\r\n\t\t\t\t\t\tplaceholder='Last name'\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_e(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_e}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Input\r\n\t\t\t\t\tlabel='Full name (Japanese Kanji)'\r\n\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\tonChange={({ target }) => setName_j(target.value)}\r\n\t\t\t\t\tvalue={name_j}\r\n\t\t\t\t/>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='First name (Katakana)'\r\n\t\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\t\tonChange={({ target }) => setFirstname_k(target.value)}\r\n\t\t\t\t\t\tvalue={firstname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Last name (Katakana)'\r\n\t\t\t\t\t\tplaceholder=''\r\n\t\t\t\t\t\tonChange={({ target }) => setLastname_k(target.value)}\r\n\t\t\t\t\t\tvalue={lastname_k}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Nickname'\r\n\t\t\t\t\t\tplaceholder='Nickname'\r\n\t\t\t\t\t\tonChange={({ target }) => setNickname(target.value)}\r\n\t\t\t\t\t\tvalue={nickname}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Birthday'\r\n\t\t\t\t\t\tplaceholder='YYYY-MM-DD'\r\n\t\t\t\t\t\tonChange={({ target }) => setBirthday(target.value)}\r\n\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Hometown'\r\n\t\t\t\t\t\toptions={hometownOptions}\r\n\t\t\t\t\t\tplaceholder='Hometown'\r\n\t\t\t\t\t\tonChange={(e, data) => setHometown(data.value)}\r\n\t\t\t\t\t\tvalue={hometown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Profile Picture Link'\r\n\t\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\t\tonChange={({ target }) => setPic_link(target.value)}\r\n\t\t\t\t\t\tvalue={pic_link}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\tlabel='Certificate Picture Link'\r\n\t\t\t\t\t\tplaceholder='https://somewhere.jpg'\r\n\t\t\t\t\t\tonChange={({ target }) => setPic_forCert(target.value)}\r\n\t\t\t\t\t\tvalue={pic_forCert}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group widths='equal'>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Generation'\r\n\t\t\t\t\t\toptions={genOptions}\r\n\t\t\t\t\t\tplaceholder='Generation'\r\n\t\t\t\t\t\tonChange={(e, data) => setGeneration(data.value)}\r\n\t\t\t\t\t\tvalue={generation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Main)'\r\n\t\t\t\t\t\toptions={teamOptions1}\r\n\t\t\t\t\t\tplaceholder='Team (Main)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam1(data.value)}\r\n\t\t\t\t\t\tvalue={team1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Select}\r\n\t\t\t\t\t\tlabel='Team (Kennin)'\r\n\t\t\t\t\t\toptions={teamOptions2}\r\n\t\t\t\t\t\tplaceholder='Team (Kennin)'\r\n\t\t\t\t\t\tonChange={(e, data) => setTeam2(data.value)}\r\n\t\t\t\t\t\tvalue={team2}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Membership</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Current'\r\n\t\t\t\t\t\tchecked={current === true}\r\n\t\t\t\t\t\tonChange={() => setCurrent(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='membership'\r\n\t\t\t\t\t\tlabel='Graduated'\r\n\t\t\t\t\t\tchecked={current === false}\r\n\t\t\t\t\t\tonChange={() => setCurrent(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group inline>\r\n\t\t\t\t\t<label>Status</label>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Regular'\r\n\t\t\t\t\t\tchecked={kks === false}\r\n\t\t\t\t\t\tonChange={() => setKks(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Form.Field\r\n\t\t\t\t\t\tcontrol={Radio}\r\n\t\t\t\t\t\tname='kenkyosen'\r\n\t\t\t\t\t\tlabel='Kenkyosen'\r\n\t\t\t\t\t\tchecked={kks === true}\r\n\t\t\t\t\t\tonChange={() => setKks(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type=\"submit\" color='pink'>ADD MEMBER</Button>\r\n\t\t\t\t<Button onClick={handleEdit}>EDIT MEMBER</Button>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewMember,\r\n\teditExistingMember\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberForm)","import axios from 'axios'\r\nconst baseUrl = '/api/cpkeys'\r\n\r\nconst getAll = async (token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\r\n\tconst response = await axios.get(baseUrl, config)\r\n\treturn response.data\r\n}\r\n\r\nconst addKey = async (key, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { key }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, addKey }","import cpkeysService from '../services/cpkeys'\r\n\r\nconst cpkeysReducer = (state = [], action) => {\r\n\tconst sortByKey = (a, b) => {\r\n\t\tconst keyA = a.key\r\n\t\tconst keyB = b.key\r\n\t\tif (keyA < keyB) {\r\n\t\t\treturn -1\r\n\t\t}\r\n\t\tif (keyB < keyA) {\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_KEYS': {\r\n\t\t\tconst sortedKey = action.data.sort(sortByKey)\r\n\t\t\treturn sortedKey\r\n\t\t}\r\n\t\tcase 'ADD_KEY': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState.slice(0).sort(sortByKey)\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const allKeys = (token) => {\r\n\treturn async dispatch => {\r\n\t\tconst cpkeys = await cpkeysService.getAll(token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_KEYS',\r\n\t\t\tdata: cpkeys\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewKey = (key, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedKey = await cpkeysService.addKey(key, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_KEY',\r\n\t\t\tdata: addedKey\r\n\t\t})\r\n\t\treturn addedKey\r\n\t}\r\n}\r\n\r\nexport default cpkeysReducer","import React, { useState } from 'react'\r\nimport { addNewKey } from '../reducers/cpkeysReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CpkeyForm = (props) => {\r\n\tconst [newCpkey, setNewCpkey] = useState('')\r\n\r\n\tconst handleAddKey = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst addedKey = await props.addNewKey(newCpkey, props.token)\r\n\t\t\tsetNewCpkey('')\r\n\t\t\tprops.setNotification({ content: `key \"${addedKey.key}\" is added`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleAddKey}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new CP-Key'\r\n\t\t\t\tplaceholder='new CP-Key'\r\n\t\t\t\tonChange={({ target }) => setNewCpkey(target.value)}\r\n\t\t\t\tvalue={newCpkey}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\" color='pink'>Add Key</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNewKey\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CpkeyForm)","import React, { useEffect }  from 'react'\r\nimport CpkeyForm from './CpkeyForm'\r\nimport { allKeys } from '../reducers/cpkeysReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Cpkeys = (props) => {\r\n\tconst { token, user, allKeys, cpkeys } = props\r\n\r\n\tuseEffect (() => {\r\n\t\tif (token && user) {\r\n\t\t\tif (user.admin) {\r\n\t\t\t\tallKeys(token)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [token, user, allKeys])\r\n\r\n\tconst cpkeysList = () => {\r\n\t\tif (cpkeys.length > 0) {\r\n\t\t\treturn cpkeys.map(k => <div key={k.id}>{k.key}</div>)\r\n\t\t} else {\r\n\t\t\treturn <div>no available keys</div>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Cpkeys</h2>\r\n\t\t\t{ cpkeysList() }\r\n\t\t\t<CpkeyForm />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tuser: state.user,\r\n\t\tcpkeys: state.cpkeys\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tallKeys\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cpkeys)","import axios from 'axios'\r\nconst baseUrl = '/api/notices'\r\n\r\nconst getAll = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst create = async (content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.post(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nconst remove = async (id, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst response = await axios.delete(`${ baseUrl }/${ id }`, config)\r\n\treturn response.data\r\n}\r\n\r\nconst update = async (id, content, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { content }\r\n\tconst response = await axios.put(`${ baseUrl }/${ id }`, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import noticesService from '../services/notices'\r\n\r\nconst noticesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'ALL_NOTICES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ADD_NOTICE': {\r\n\t\t\tconst newState = state.concat(action.data)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'UPDATE_NOTICE': {\r\n\t\t\tconst newState = state.map(n => n.id.toString().includes(action.data.id) ? action.data : n)\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'REMOVE_NOTICE': {\r\n\t\t\tconst newState = state.filter(n => !n.id.toString().includes(action.data))\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeNotices = () => {\r\n\treturn async dispatch => {\r\n\t\tconst notices = await noticesService.getAll()\r\n\t\tdispatch({\r\n\t\t\ttype: 'ALL_NOTICES',\r\n\t\t\tdata: notices\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNotice = (content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst addedNotice = await noticesService.create(content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'ADD_NOTICE',\r\n\t\t\tdata: addedNotice\r\n\t\t})\r\n\t\treturn addedNotice\r\n\t}\r\n}\r\n\r\nexport const updateNotice = (id, content, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedNotice = await noticesService.update(id, content, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'UPDATE_NOTICE',\r\n\t\t\tdata: updatedNotice\r\n\t\t})\r\n\t\treturn updatedNotice\r\n\t}\r\n}\r\n\r\nexport const removeNotice = (id, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst removedNotice = await noticesService.remove(id, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'REMOVE_NOTICE',\r\n\t\t\tdata: id\r\n\t\t})\r\n\t\treturn removedNotice\r\n\t}\r\n}\r\n\r\nexport default noticesReducer","import React, { useState } from 'react'\r\nimport { addNotice, removeNotice, updateNotice } from '../reducers/noticesReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Button, List } from 'semantic-ui-react'\r\n\r\nconst Notices = (props) => {\r\n\tconst [newNotice, setNewNotice] = useState('')\r\n\r\n\tconst notices = () => {\r\n\t\tconst noticeList = () => {\r\n\t\t\tconst handleEditNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.updateNotice(id, newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Updated`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst handleRemoveNotice = async (id) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.removeNotice(id, props.token)\r\n\t\t\t\t\tprops.setNotification({ content: `Notice Removed`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn props.notices.map(n => (\r\n\t\t\t\t\t\t<div key={n.id}>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleEditNotice(n.id)}>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button onClick={() => handleRemoveNotice(n.id)} color='violet'>\r\n\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{`${props.notices.indexOf(n) + 1}. ${n.content}`}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<List ordered>\r\n\t\t\t\t\t{props.notices.map(n => <List.Item key={n.id}>{n.content}</List.Item>)}\r\n\t\t\t\t</List>\r\n\t\t\t)\r\n\t\t}\r\n\t\tconst noticeForm = () => {\r\n\t\t\tconst handleNewNotice = async (event) => {\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait props.addNotice(newNotice, props.token)\r\n\t\t\t\t\tsetNewNotice('')\r\n\t\t\t\t\tprops.setNotification({ content: `New Notice Posted`, colour: 'green' }, 'short')\r\n\t\t\t\t} catch (exception) {\r\n\t\t\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (props.user) {\r\n\t\t\t\tif (props.user.admin) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Form onSubmit={handleNewNotice}>\r\n\t\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\t\tlabel='New/Updated Notice:'\r\n\t\t\t\t\t\t\tplaceholder={newNotice}\r\n\t\t\t\t\t\t\tonChange={({ target }) => setNewNotice(target.value)}\r\n\t\t\t\t\t\t\tvalue={newNotice}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button type=\"submit\" color='pink'>\r\n\t\t\t\t\t\t\tPost New Notice\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Current Notes</h2>\r\n\t\t\t\t{noticeList()}\r\n\t\t\t\t{noticeForm()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn notices()\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotices: state.notices,\r\n\t\tuser: state.user,\r\n\t\ttoken: state.token\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\taddNotice,\r\n\tremoveNotice,\r\n\tupdateNotice\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notices)","import axios from 'axios'\r\nconst baseUrl = '/api/certBackground'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newImgLink, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = { newImgLink }\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import certBackgroundService from '../services/certBackground'\r\n\r\nconst certBackgroundReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_CERTBACKGROUND': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'CHANGE_CERTBACKGROUND': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getCertBackground = () => {\r\n\treturn async dispatch => {\r\n\t\tconst imgLink = await certBackgroundService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_CERTBACKGROUND',\r\n\t\t\tdata: imgLink\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changeCertBackground = (newImgLink, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedCertBackground = await certBackgroundService.change(newImgLink, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_CERTBACKGROUND',\r\n\t\t\tdata: updatedCertBackground.imgLink\r\n\t\t})\r\n\t\treturn updatedCertBackground\r\n\t}\r\n}\r\n\r\nexport default certBackgroundReducer","import React, { useState } from 'react'\r\nimport { changeCertBackground } from '../reducers/certBackgroundReducer'\r\nimport { setNotification } from '../reducers/notificationReducer'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CertBackgroundForm = (props) => {\r\n\tconst { certBackground } = props\r\n\tconst [newImgLink, setNewImgLink] = useState(certBackground)\r\n\r\n\tconst handleChangeCertBackground = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\ttry {\r\n\t\t\tconst changedBackground = await props.changeCertBackground(newImgLink, props.token)\r\n\t\t\tprops.setNotification({ content: `cert background is changed to \"${changedBackground.imgLink}\"`, colour: 'green' })\r\n\t\t} catch (exception) {\r\n\t\t\tprops.setNotification({ content: exception.response.data.error, colour: 'red' }, 'long')\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleChangeCertBackground}>\r\n\t\t\t<Form.Input\r\n\t\t\t\tlabel='new cert background'\r\n\t\t\t\tplaceholder='http://newCertBackgroun.jpg'\r\n\t\t\t\tonChange={({ target }) => setNewImgLink(target.value)}\r\n\t\t\t\tvalue={newImgLink}\r\n\t\t\t/>\r\n\t\t\t<Button type=\"submit\" color='pink'>Change Background</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoken: state.token,\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\tsetNotification,\r\n\tchangeCertBackground\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CertBackgroundForm)","import React from 'react'\r\nimport CertBackgroundForm from './CertBackGroundForm'\r\nimport { Image } from 'semantic-ui-react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst CertBackGround = (props) => {\r\n\tconst { certBackground } = props\r\n\r\n\treturn certBackground ? (\r\n\t\t<div>\r\n\t\t\t<h2>Cert Background</h2>\r\n\t\t\t<Image src={certBackground} width={500} height='auto' alt='cert background'/>\r\n\t\t\t<CertBackgroundForm />\r\n\t\t</div>\r\n\t) :\r\n\t<CertBackgroundForm />\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcertBackground: state.certBackground\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CertBackGround)","import React  from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst MissingInfo = (props) => {\r\n\tconst membersList = () => {\r\n\t\tconst filteredMembers = props.members.filter(m => !m.pic_forCert)\r\n\t\tif (filteredMembers.length > 0) {\r\n\t\t\treturn filteredMembers.map(m => (<div key={m.id}>{m.name_j}</div>))\r\n\t\t} else {\r\n\t\t\treturn (<div>No missing infos</div>)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Members without Picture for Cert</h2>\r\n\t\t\t{ membersList() }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmembers: state.members\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(MissingInfo)","import React from 'react'\r\nimport Cpkeys from './Cpkeys'\r\nimport Notices from './Notices'\r\nimport CertBackGround from './CertBackGround'\r\nimport MissingInfo from './MissingInfo'\r\n\r\nconst breakLineStyle = {\r\n\tmargin: 20,\r\n\tpadding: 0,\r\n\tborderTop: 'solid',\r\n\tborderColor: 'pink',\r\n\tborderWidth: 1\r\n}\r\n\r\nconst Controls = () => (\r\n\t<div>\r\n\t\t<Notices />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<Cpkeys />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<CertBackGround />\r\n\t\t<div style={breakLineStyle} />\r\n\t\t<MissingInfo />\r\n\t</div>\r\n)\r\n\r\n\r\nexport default Controls","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Menu as UIMenu, Icon, Responsive } from 'semantic-ui-react'\r\n\r\nconst linkStyle = {\r\n\ttextDecoration: 'none',\r\n\tcolor: 'white'\r\n}\r\n\r\nconst MenuBottom = () => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div style={{padding: 20}}/>\r\n\t\t\t<UIMenu className='ui bottom fixed menu' widths={3} color='pink' inverted>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}><Icon name='home' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='home' />\r\n\t\t\t\t\t\t<Link to=\"/\" style={linkStyle}>Home</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/howtoplay\" style={linkStyle}><Icon name='question circle outline' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='question circle outline' />\r\n\t\t\t\t\t\t<Link to=\"/howtoplay\" style={linkStyle}>How To Play</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t\t<UIMenu.Item>\r\n\t\t\t\t\t<Responsive {...Responsive.onlyMobile}>\r\n\t\t\t\t\t\t<Link to=\"/about\" style={linkStyle}><Icon name='info circle' /></Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t\t<Responsive minWidth={Responsive.onlyTablet.minWidth}>\r\n\t\t\t\t\t\t<Icon name='info circle' />\r\n\t\t\t\t\t\t<Link to=\"/about\" style={linkStyle}>About</Link>\r\n\t\t\t\t\t</Responsive>\r\n\t\t\t\t</UIMenu.Item>\r\n\t\t\t</UIMenu>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default MenuBottom","import React from 'react'\r\nimport { Accordion } from 'semantic-ui-react'\r\n\r\nconst panels = [\r\n\t{\r\n\t\tkey: 'aim',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'What is the aim of the game?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tOshi-Game is a online multi-playing game allowing you to act as an agency owner:\r\n\t\t\t\t\t\tto sign idols and assign them to work.\r\n\t\t\t\t\t\tIdols can accumulate popularity (fans) during working.\r\n\t\t\t\t\t\tGrow your agency by accumulate more fans, gaining more money, signing more idols, etc but all up to you.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tYou have to gain money as to sign and keep the idols that you like.\r\n\t\t\t\t\t\tBecoming the biggest agency with all your favourite idols may be one of the common targets.\r\n\t\t\t\t\t\tThere's, however, no fixed goal for this game. ALL UP TO YOU!!\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'starting',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'How can I start playing?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tJust go sign up your account and that's it! (Top Right)\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tHowever, as we are still under beta testing, you have to have a <strong>\"create-key\"</strong> for signing up.\r\n\t\t\t\t\t\tTo obtain a create-key, simply send a message to <a href='https://twitter.com/YZennie'>https://twitter.com/YZennie</a>.\r\n\t\t\t\t\t\tWe will generate and send the create-key to you ASAP.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'phrase',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'What is \"Phrase\"?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tPhrases limited what you can/cannot do during that period.\r\n\t\t\t\t\t\tSome actions can only be performed during curtain phrase(s).\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tHere is totally 3 different \"Phrases\" now: \"general\", \"rest-day\" and \"negotiation\".\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Phrases Schedule: </strong><br />\r\n\t\t\t\t\t\tMonday: general <br />\r\n\t\t\t\t\t\tTuesday: general <br />\r\n\t\t\t\t\t\tWednesday: general <br />\r\n\t\t\t\t\t\tThursday: general <br />\r\n\t\t\t\t\t\tFriday: rest-day <br />\r\n\t\t\t\t\t\tSaturaday: negotiation <br />\r\n\t\t\t\t\t\tSunday: general <br />\r\n\t\t\t\t\t\t(Schedule according to Japan time / GMT+9)\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'sign',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'How can I acquire idols?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tIn most of the cases, you can only acquire (sign) a new idol during the \"negotiation\" phrase. <br />\r\n\t\t\t\t\t\t(Refer to the question about <strong>negotiation</strong>.)\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tHowever, good news to newcomers.\r\n\t\t\t\t\t\tIf you have no more than <strong>THREE</strong> idols under your agency,\r\n\t\t\t\t\t\tyou can acquire idols by the 'late sign' system. <br />\r\n\t\t\t\t\t\t(Refer to the question about <strong>late sign</strong>.)\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'negotiation',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'What can I do during \"negotiation\" phrase?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tReleasing an idol can be done at anytime.\r\n\t\t\t\t\t\tHowever, acquiring new idols can only be done during the negotitaion phrase.\r\n\t\t\t\t\t\t(Except late signing)\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tNegotiation buttons will be available on each members' info page during negotiation phrase.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tThere are 3 types of negotiation available at the moment:\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Bidding</strong> <br />\r\n\t\t\t\t\t\tFor those idols that are still \"agency-free\", bidding is the way to obtain them.\r\n\t\t\t\t\t\tSimply place your bid onto the idol that you like to sign.\r\n\t\t\t\t\t\tPlayer with the highest bid will get the member at the end of that negotiation phrase.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Offering</strong> <br />\r\n\t\t\t\t\t\tIf the member you want has already be signed by others,\r\n\t\t\t\t\t\toffering is the way for you to get her.\r\n\t\t\t\t\t\tSending an offer within the feasible range stated and wait for the acceptance from the current owner.\r\n\t\t\t\t\t\tThis may allow you to get the idol from a price that is lower than her existing value!\r\n\t\t\t\t\t\tHowever, the current owner can also reject your offer, a deal is not guaranteed.\r\n\t\t\t\t\t\tAll offers that haven't been settle will be cancelled at the end of that negotiation phrase.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Force Trading</strong> <br />\r\n\t\t\t\t\t\tSimilar to offering, but if your offering price is higher than 1.3x the member's current value,\r\n\t\t\t\t\t\tThis will be considered as a \"force trade\".\r\n\t\t\t\t\t\tIn this case, the original owner cannot reject your \"offer\".\r\n\t\t\t\t\t\tAnd you will get the member directly.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tNote that, each idols can only be traded once during each negotiation phrase.\r\n\t\t\t\t\t\tUnlimited offers can be sent or received before a trade is settled.\r\n\t\t\t\t\t\tBut no more trading can be done to that idol during the same negotiation phrase after a settled trade.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'assignment',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'How can I gain more money?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tDuring the \"general\" phrase, you can assign jobs to the idols under your agency.\r\n\t\t\t\t\t\tRewards can then be collected when the job is done.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tSome assignments earn you money; some assignments earn the idol fans.\r\n\t\t\t\t\t\tMore fans the idol have, more money she can earn from assignments.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tSome assignments do have costs. Base on the value/salary of the idol.\r\n\t\t\t\t\t\tHigh salary idol with little fans may make you a lost in assignments.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'payrise',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'Why do I have to rise the pay of idols?',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tValuing up an idol needs money. High salary idols also cost you more money in assignments.\r\n\t\t\t\t\t\tBut, you will still want to value your idols up.\r\n\t\t\t\t\t\tThe main reason for that is the \"Force Trading\" system.\r\n\t\t\t\t\t\tAs you cannot reject a force trade sent from others,\r\n\t\t\t\t\t\tthe only way you can protect your idol is to value up you idol.\r\n\t\t\t\t\t\tAs a result, the cost of force getting your idol will be higher.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tkey: 'other',\r\n\t\ttitle: {\r\n\t\t\tcontent: 'I have more question not listed here!',\r\n\t\t\ticon: 'question',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tNo worries. Just send a message to <a href='https://twitter.com/YZennie'>https://twitter.com/YZennie</a>.\r\n\t\t\t\t\t\tWe will try our best to answer you.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst HowToPlay = () => (\r\n\t<div>\r\n\t\t<h2>How to Play</h2>\r\n\t\t<Accordion\r\n\t\t\tdefaultActiveIndex={[]}\r\n\t\t\tpanels={panels}\r\n\t\t\texclusive={false}\r\n\t\t\tfluid\r\n\t\t\tstyled\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\n\r\nexport default HowToPlay","import React from 'react'\r\n\r\nconst About = () => (\r\n\t<div>\r\n\t\t<h2>About</h2>\r\n\t\t<p>It is nothing more than a fans-making minigame.</p>\r\n\t\t<p>We hold no rights to any of the pictures using in this application.</p>\r\n\t</div>\r\n)\r\n\r\n\r\nexport default About","import axios from 'axios'\r\nconst baseUrl = '/api/time'\r\n\r\nconst get = async () => {\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get }","import timeService from '../services/time'\r\n\r\nconst timeReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_TIME': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'ONE_TICK': {\r\n\t\t\tconst newTime = new Date(Date.parse(state) + 1000)\r\n\t\t\treturn newTime\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const getServerTime = () => {\r\n\treturn async dispatch => {\r\n\t\tconst serverTime = await timeService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_TIME',\r\n\t\t\tdata: serverTime\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const oneTick = () => {\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: 'ONE_TICK'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default timeReducer","import usersService from '../services/users'\r\n\r\nconst displaynamesReducer = (state = [], action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'INIT_DISPLAYNAMES': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeDisplaynames = () => {\r\n\treturn async dispatch => {\r\n\t\tconst displaynames = await usersService.getDisplaynames()\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_DISPLAYNAMES',\r\n\t\t\tdata: displaynames\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default displaynamesReducer","import axios from 'axios'\r\nconst baseUrl = '/api/phrase'\r\n\r\nconst get = async () => {\r\n\r\n\tconst response = await axios.get(baseUrl)\r\n\treturn response.data\r\n}\r\n\r\nconst change = async (newPhrase, token) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: `bearer ${token}` },\r\n\t}\r\n\tconst data = newPhrase\r\n\tconst response = await axios.put(baseUrl, data, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default { get, change }","import phraseService from '../services/phrase'\r\n\r\nconst phraseReducer = (state = '', action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'GET_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tcase 'CHANGE_PHRASE': {\r\n\t\t\treturn action.data\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const checkPhrase = () => {\r\n\treturn async dispatch => {\r\n\t\tconst phrase = await phraseService.get()\r\n\t\tdispatch({\r\n\t\t\ttype: 'GET_PHRASE',\r\n\t\t\tdata: phrase\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const changePhrase = (newPhrase, token) => {\r\n\treturn async dispatch => {\r\n\t\tconst updatedPhrase = await phraseService.change(newPhrase, token)\r\n\t\tdispatch({\r\n\t\t\ttype: 'CHANGE_PHRASE',\r\n\t\t\tdata: updatedPhrase.phrase\r\n\t\t})\r\n\t\treturn updatedPhrase\r\n\t}\r\n}\r\n\r\nexport default phraseReducer","import React, { useEffect }  from 'react'\nimport { connect } from 'react-redux'\nimport Menu from './components/Menu'\nimport Notification from './components/Notification'\nimport Home from './components/Home'\nimport Member from './components/Member'\nimport Members from './components/Members'\nimport Login from './components/Login'\nimport SignUpForm from './components/SignUpForm'\nimport Profile from './components/Profile'\nimport Users from './components/Users'\nimport Negotiations from './components/Negotiations'\nimport MemberForm from './components/MemberForm'\nimport Controls from './components/Controls'\nimport MenuBottom from './components/MenuBottom'\nimport HowToPlay from './components/HowToPlay'\nimport About from './components/About'\nimport { getServerTime, oneTick } from './reducers/timeReducer'\nimport { initializeMembers } from './reducers/membersReducer'\nimport { initializeDisplaynames } from './reducers/displaynamesReducer'\nimport { initializeNotices } from './reducers/noticesReducer'\nimport { setToken } from './reducers/tokenReducer'\nimport { setUserByToken } from './reducers/userReducer'\nimport { checkPhrase } from './reducers/phraseReducer'\nimport { getCertBackground } from './reducers/certBackgroundReducer'\nimport {\n\tBrowserRouter as Router,\n\tRoute, Redirect\n} from 'react-router-dom'\nimport { Container, Segment } from 'semantic-ui-react'\nimport './css/oshigame.css'\n\nconst App = (props) => {\n\n\tconst { getServerTime, oneTick, setToken, setUserByToken, initializeMembers, initializeDisplaynames, initializeNotices, checkPhrase, getCertBackground } = props\n\n\tuseEffect (() => {\n\t\tconst startsTicking = () => {\n\t\t\tsetInterval(oneTick, 1000)\n\t\t}\n\t\tgetServerTime()\n\t\tstartsTicking()\n\t\tinitializeMembers()\n\t\tinitializeDisplaynames()\n\t\tinitializeNotices()\n\t}, [getServerTime, oneTick, initializeMembers, initializeDisplaynames, initializeNotices])\n\n\tuseEffect (() => {\n\t\tcheckPhrase()\n\t\tgetCertBackground()\n\t})\n\n\tuseEffect (() => {\n\t\tconst loggedUserTokenJSON = window.localStorage.getItem('oshigameUserToken')\n\n\t\tif (loggedUserTokenJSON) {\n\t\t\tconst savedToken = JSON.parse(loggedUserTokenJSON)\n\t\t\tsetToken(savedToken)\n\t\t\tsetUserByToken(savedToken)\n\t\t}\n\t}, [setToken, setUserByToken])\n\n\tconst memberById = (id) => {\n\t\treturn props.members.find(m => m.id === id)\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Router>\n\t\t\t\t<Segment basic>\n\t\t\t\t\t<Route path=\"/\" render={() =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Menu />\n\t\t\t\t\t\t\t<Notification />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/\" render={() =>\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/login\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <Login />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exaxt path=\"/sign_up\" render={() =>\n\t\t\t\t\t\tprops.user ? <Redirect to=\"/\" /> : <SignUpForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members\" render={() =>\n\t\t\t\t\t\t<Members />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/members/:id\" render={({ match }) =>\n\t\t\t\t\t\t<Member shownMember={memberById(match.params.id)} />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/profile\" render={() =>\n\t\t\t\t\t\t<Profile />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/users\" render={() =>\n\t\t\t\t\t\t<Users />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/negotiations\" render={() =>\n\t\t\t\t\t\t<Negotiations />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/new_member\" render={() =>\n\t\t\t\t\t\t<MemberForm />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/controls\" render={() =>\n\t\t\t\t\t\t<Controls />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/howtoplay\" render={() =>\n\t\t\t\t\t\t<HowToPlay />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route exact path=\"/about\" render={() =>\n\t\t\t\t\t\t<About />\n\t\t\t\t\t} />\n\t\t\t\t\t<Route path=\"/\" render={() =>\n\t\t\t\t\t\t<MenuBottom />\n\t\t\t\t\t} />\n\t\t\t\t</Segment>\n\t\t\t</Router>\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmembers: state.members,\n\t}\n}\n\nconst mapDispatchToProps = {\n\tsetToken,\n\tsetUserByToken,\n\tgetServerTime,\n\toneTick,\n\tinitializeMembers,\n\tinitializeDisplaynames,\n\tinitializeNotices,\n\tcheckPhrase,\n\tgetCertBackground\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport timeReducer from './reducers/timeReducer'\r\nimport membersReducer from './reducers/membersReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport userReducer from './reducers/userReducer'\r\nimport tokenReducer from './reducers/tokenReducer'\r\nimport cpkeysReducer from './reducers/cpkeysReducer'\r\nimport usersReducer from './reducers/usersReducer'\r\nimport negotiationsReducer from './reducers/negotiationsReducer'\r\nimport phraseReducer from './reducers/phraseReducer'\r\nimport bidsReducer from './reducers/bidsReducer'\r\nimport displaynamesReducer from './reducers/displaynamesReducer'\r\nimport noticesReducer from './reducers/noticesReducer'\r\nimport shownNoticeReducer from './reducers/shownNoticeReducer'\r\nimport certBackgroundReducer from './reducers/certBackgroundReducer'\r\n\r\nconst reducer = combineReducers({\r\n\tmembers: membersReducer,\r\n\tnotification: notificationReducer,\r\n\tuser: userReducer,\r\n\ttoken: tokenReducer,\r\n\tcpkeys: cpkeysReducer,\r\n\tusers: usersReducer,\r\n\tnegotiations: negotiationsReducer,\r\n\tphrase: phraseReducer,\r\n\tbids: bidsReducer,\r\n\tdisplaynames: displaynamesReducer,\r\n\tnotices: noticesReducer,\r\n\tserverTime: timeReducer,\r\n\tshownNotice: shownNoticeReducer,\r\n\tcertBackground: certBackgroundReducer\r\n})\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nconst render = () => {\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t\tdocument.getElementById('root')\n\t)\n}\n\nrender()\nstore.subscribe(render)"],"sourceRoot":""}